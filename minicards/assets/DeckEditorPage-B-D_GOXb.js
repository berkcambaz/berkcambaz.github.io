import{r as c,p as Er,q as bn,j as b,u as _,s as Me,B as G,t as jo,f as U,b as ze,d as Ue,v as ke,g as je,c as gn,x as Dr,e as Rr,h as vt,i as ko,C as Mo,P as Wt,y as vn,a as cn,z as zo,A as Lo,D as _o,k as He,F as de,T as ft,w as $o,R as X,E as Je,M as Tr,I as Fo,o as H,G as Bo,H as Wo,J as Ho,K as Xo,L as Uo,l as Gn,m as Yo}from"./index-DjykrxEX.js";import{C as Vo,u as Pt}from"./dexie-react-hooks-BTWxocMR.js";import{c as Ko,C as qo}from"./CheckIcon-3aP4UDvg.js";import{D as un}from"./Divider-BEtygFQM.js";import{m as Go}from"./motion-CzsAcyyV.js";import{T as Jo,I as Zo}from"./IconX-OcHtAN1e.js";function Ke(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Ht(e,t){const n=Ke(e),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback((...o)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...o),t)},[n,t])}function Jn(){if(typeof window>"u")return"undetermined";const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function Qo(e={getValueInEffect:!0}){const[t,n]=c.useState(e.getValueInEffect?"undetermined":Jn());return Er(()=>{e.getValueInEffect&&n(Jn)},[]),t}function Ar(e=!1,t){const{onOpen:n,onClose:r}={},[o,s]=c.useState(e),i=c.useCallback(()=>{s(u=>u||(n==null||n(),!0))},[n]),a=c.useCallback(()=>{s(u=>u&&(r==null||r(),!1))},[r]),l=c.useCallback(()=>{o?a():i()},[a,i,o]);return[o,{open:i,close:a,toggle:l}]}var es={};function ts(){return typeof process<"u"&&es?"production":"development"}const[ns,xe]=bn("ScrollArea.Root component was not found in tree");function Qe(e,t){const n=Ke(t);Er(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const rs=c.forwardRef((e,t)=>{const{style:n,...r}=e,o=xe(),[s,i]=c.useState(0),[a,l]=c.useState(0),u=!!(s&&a);return Qe(o.scrollbarX,()=>{var d;const f=((d=o.scrollbarX)==null?void 0:d.offsetHeight)||0;o.onCornerHeightChange(f),l(f)}),Qe(o.scrollbarY,()=>{var d;const f=((d=o.scrollbarY)==null?void 0:d.offsetWidth)||0;o.onCornerWidthChange(f),i(f)}),u?b.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),os=c.forwardRef((e,t)=>{const n=xe(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.jsx(rs,{...e,ref:t}):null}),ss={scrollHideDelay:1e3,type:"hover"},Ir=c.forwardRef((e,t)=>{const n=_("ScrollAreaRoot",ss,e),{type:r,scrollHideDelay:o,scrollbars:s,...i}=n,[a,l]=c.useState(null),[u,f]=c.useState(null),[d,h]=c.useState(null),[p,g]=c.useState(null),[v,m]=c.useState(null),[w,S]=c.useState(0),[y,x]=c.useState(0),[C,E]=c.useState(!1),[R,D]=c.useState(!1),T=Me(t,O=>l(O));return b.jsx(ns,{value:{type:r,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:v,onScrollbarYChange:m,scrollbarYEnabled:R,onScrollbarYEnabledChange:D,onCornerWidthChange:S,onCornerHeightChange:x},children:b.jsx(G,{...i,ref:T,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${w}px`,"--sa-corner-height":s!=="xy"?"0px":`${y}px`}})})});Ir.displayName="@mantine/core/ScrollAreaRoot";function Nr(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Xt(e){const t=Nr(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Or(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function is(e,[t,n]){return Math.min(n,Math.max(t,e))}function Zn(e,t,n="ltr"){const r=Xt(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],u=is(e,l);return Or([0,i],[0,a])(u)}function as(e,t,n,r="ltr"){const o=Xt(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return Or([l,u],d)(e)}function Pr(e,t){return e>0&&e<t}function kt(e){return e?parseInt(e,10):0}function qe(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[ls,jr]=bn("ScrollAreaScrollbar was not found in tree"),kr=c.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:f,...d}=e,h=xe(),[p,g]=c.useState(null),v=Me(t,D=>g(D)),m=c.useRef(null),w=c.useRef(""),{viewport:S}=h,y=n.content-n.viewport,x=Ke(u),C=Ke(a),E=Ht(f,10),R=D=>{if(m.current){const T=D.clientX-m.current.left,O=D.clientY-m.current.top;l({x:T,y:O})}};return c.useEffect(()=>{const D=T=>{const O=T.target;(p==null?void 0:p.contains(O))&&x(T,y)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[S,p,y,x]),c.useEffect(C,[n,C]),Qe(p,E),Qe(h.content,E),b.jsx(ls,{value:{scrollbar:p,hasThumb:r,onThumbChange:Ke(o),onThumbPointerUp:Ke(s),onThumbPositionChange:C,onThumbPointerDown:Ke(i)},children:b.jsx("div",{...d,ref:v,style:{position:"absolute",...d.style},onPointerDown:qe(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),m.current=p.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",R(D))}),onPointerMove:qe(e.onPointerMove,R),onPointerUp:qe(e.onPointerUp,D=>{const T=D.target;T.hasPointerCapture(D.pointerId)&&T.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=w.current,m.current=null})})})}),cs=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...s}=e,i=xe(),[a,l]=c.useState(),u=c.useRef(null),f=Me(t,u,i.onScrollbarXChange);return c.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),b.jsx(kr,{"data-orientation":"horizontal",...s,ref:f,sizes:n,style:{...o,"--sa-thumb-width":`${Xt(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),Pr(p,h)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:kt(a.paddingLeft),paddingEnd:kt(a.paddingRight)}})}})}),us=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...s}=e,i=xe(),[a,l]=c.useState(),u=c.useRef(null),f=Me(t,u,i.onScrollbarYChange);return c.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),b.jsx(kr,{...s,"data-orientation":"vertical",ref:f,sizes:n,style:{"--sa-thumb-height":`${Xt(n)}px`,...o},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),Pr(p,h)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:kt(a.paddingTop),paddingEnd:kt(a.paddingBottom)}})}})}),mn=c.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:o}=jo(),s=xe(),i=c.useRef(null),a=c.useRef(0),[l,u]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Nr(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:p=>{i.current=p},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:p=>{a.current=p}},h=(p,g)=>as(p,a.current,l,g);return n==="horizontal"?b.jsx(cs,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=Zn(p,l,o);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,o))}}):n==="vertical"?b.jsx(us,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=Zn(p,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),Mr=c.forwardRef((e,t)=>{const n=xe(),{forceMount:r,...o}=e,[s,i]=c.useState(!1),a=e.orientation==="horizontal",l=Ht(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:f)}},10);return Qe(n.viewport,l),Qe(n.content,l),r||s?b.jsx(mn,{"data-state":s?"visible":"hidden",...o,ref:t}):null}),ds=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=xe(),[s,i]=c.useState(!1);return c.useEffect(()=>{const{scrollArea:a}=o;let l=0;if(a){const u=()=>{window.clearTimeout(l),i(!0)},f=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),n||s?b.jsx(Mr,{"data-state":s?"visible":"hidden",...r,ref:t}):null}),fs=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=xe(),s=e.orientation==="horizontal",[i,a]=c.useState("hidden"),l=Ht(()=>a("idle"),100);return c.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>a("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,o.scrollHideDelay]),c.useEffect(()=>{const{viewport:u}=o,f=s?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const p=u[f];d!==p&&(a("scrolling"),l()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[o.viewport,s,l]),n||i!=="hidden"?b.jsx(mn,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:qe(e.onPointerEnter,()=>a("interacting")),onPointerLeave:qe(e.onPointerLeave,()=>a("idle"))}):null}),Qn=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=xe(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return c.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?b.jsx(ds,{...r,ref:t,forceMount:n}):o.type==="scroll"?b.jsx(fs,{...r,ref:t,forceMount:n}):o.type==="auto"?b.jsx(Mr,{...r,ref:t,forceMount:n}):o.type==="always"?b.jsx(mn,{...r,ref:t}):null});function ps(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)}const hs=c.forwardRef((e,t)=>{const{style:n,...r}=e,o=xe(),s=jr(),{onThumbPositionChange:i}=s,a=Me(t,f=>s.onThumbChange(f)),l=c.useRef(),u=Ht(()=>{l.current&&(l.current(),l.current=void 0)},100);return c.useEffect(()=>{const{viewport:f}=o;if(f){const d=()=>{if(u(),!l.current){const h=ps(f,i);l.current=h,i()}};return i(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[o.viewport,u,i]),b.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:qe(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;s.onThumbPointerDown({x:p,y:g})}),onPointerUp:qe(e.onPointerUp,s.onThumbPointerUp)})}),er=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jr();return n||o.hasThumb?b.jsx(hs,{ref:t,...r}):null}),zr=c.forwardRef(({children:e,style:t,...n},r)=>{const o=xe(),s=Me(r,o.onViewportChange);return b.jsx(G,{...n,ref:s,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:b.jsx("div",{style:{minWidth:"100%",display:"table"},ref:o.onContentChange,children:e})})});zr.displayName="@mantine/core/ScrollAreaViewport";var yn={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Lr={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},bs=Ue((e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":ke(t)}})),St=U((e,t)=>{const n=_("ScrollArea",Lr,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,scrollbarSize:l,vars:u,type:f,scrollHideDelay:d,viewportProps:h,viewportRef:p,onScrollPositionChange:g,children:v,offsetScrollbars:m,scrollbars:w,...S}=n,[y,x]=c.useState(!1),C=ze({name:"ScrollArea",props:n,classes:yn,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:u,varsResolver:bs});return b.jsxs(Ir,{type:f==="never"?"always":f,scrollHideDelay:d,ref:t,scrollbars:w,...C("root"),...S,children:[b.jsx(zr,{...h,...C("viewport",{style:h==null?void 0:h.style}),ref:p,"data-offset-scrollbars":m===!0?"xy":m||void 0,"data-scrollbars":w||void 0,onScroll:E=>{var R;(R=h==null?void 0:h.onScroll)==null||R.call(h,E),g==null||g({x:E.currentTarget.scrollLeft,y:E.currentTarget.scrollTop})},children:v}),(w==="xy"||w==="x")&&b.jsx(Qn,{...C("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:b.jsx(er,{...C("thumb")})}),(w==="xy"||w==="y")&&b.jsx(Qn,{...C("scrollbar"),orientation:"vertical","data-hidden":f==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:b.jsx(er,{...C("thumb")})}),b.jsx(os,{...C("corner"),"data-hovered":y||void 0,"data-hidden":f==="never"||void 0})]})});St.displayName="@mantine/core/ScrollArea";const xn=U((e,t)=>{const{children:n,classNames:r,styles:o,scrollbarSize:s,scrollHideDelay:i,type:a,dir:l,offsetScrollbars:u,viewportRef:f,onScrollPositionChange:d,unstyled:h,variant:p,viewportProps:g,scrollbars:v,style:m,vars:w,...S}=_("ScrollAreaAutosize",Lr,e);return b.jsx(G,{...S,ref:t,style:[{display:"flex",overflow:"auto"},m],children:b.jsx(G,{style:{display:"flex",flexDirection:"column",flex:1},children:b.jsx(St,{classNames:r,styles:o,scrollHideDelay:i,scrollbarSize:s,type:a,dir:l,offsetScrollbars:u,viewportRef:f,onScrollPositionChange:d,unstyled:h,variant:p,viewportProps:g,vars:w,scrollbars:v,children:n})})})});St.classes=yn;xn.displayName="@mantine/core/ScrollAreaAutosize";xn.classes=yn;St.Autosize=xn;const[gs,Ut]=Ko({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var we={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const tr={},vs=Ue((e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${je(t)} - ${ke(2)})`}})),Yt=U((e,t)=>{const n=_("InputDescription",tr,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:u,__staticSelector:f,__inheritStyles:d=!0,variant:h,...p}=_("InputDescription",tr,n),g=Ut(),v=ze({name:["InputWrapper",f],props:n,classes:we,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"description",vars:l,varsResolver:vs}),m=d&&(g==null?void 0:g.getStyles)||v;return b.jsx(G,{component:"p",ref:t,variant:h,size:u,...m("description",g!=null&&g.getStyles?{className:o,style:s}:void 0),...p})});Yt.classes=we;Yt.displayName="@mantine/core/InputDescription";const ms={},ys=Ue((e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${je(t)} - ${ke(2)})`}})),Vt=U((e,t)=>{const n=_("InputError",ms,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:u,__staticSelector:f,__inheritStyles:d=!0,variant:h,...p}=n,g=ze({name:["InputWrapper",f],props:n,classes:we,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"error",vars:l,varsResolver:ys}),v=Ut(),m=d&&(v==null?void 0:v.getStyles)||g;return b.jsx(G,{component:"p",ref:t,variant:h,size:u,...m("error",v!=null&&v.getStyles?{className:o,style:s}:void 0),...p})});Vt.classes=we;Vt.displayName="@mantine/core/InputError";const nr={labelElement:"label"},xs=Ue((e,{size:t})=>({label:{"--input-label-size":je(t),"--input-asterisk-color":void 0}})),Kt=U((e,t)=>{const n=_("InputLabel",nr,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,labelElement:u,size:f,required:d,htmlFor:h,onMouseDown:p,children:g,__staticSelector:v,variant:m,mod:w,...S}=_("InputLabel",nr,n),y=ze({name:["InputWrapper",v],props:n,classes:we,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"label",vars:l,varsResolver:xs}),x=Ut(),C=(x==null?void 0:x.getStyles)||y;return b.jsxs(G,{...C("label",x!=null&&x.getStyles?{className:o,style:s}:void 0),component:u,variant:m,size:f,ref:t,htmlFor:u==="label"?h:void 0,mod:[{required:d},w],onMouseDown:E=>{p==null||p(E),!E.defaultPrevented&&E.detail>1&&E.preventDefault()},...S,children:[g,d&&b.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});Kt.classes=we;Kt.displayName="@mantine/core/InputLabel";const rr={},wn=U((e,t)=>{const n=_("InputPlaceholder",rr,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,__staticSelector:u,variant:f,error:d,mod:h,...p}=_("InputPlaceholder",rr,n),g=ze({name:["InputPlaceholder",u],props:n,classes:we,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"placeholder"});return b.jsx(G,{...g("placeholder"),mod:[{error:!!d},h],component:"span",variant:f,ref:t,...p})});wn.classes=we;wn.displayName="@mantine/core/InputPlaceholder";function ws(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),o=e.slice(0,r),s=e.slice(r+1),i=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:i}}const Ss={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Cs=Ue((e,{size:t})=>({label:{"--input-label-size":je(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${je(t)} - ${ke(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${je(t)} - ${ke(2)})`}})),Sn=U((e,t)=>{const n=_("InputWrapper",Ss,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:u,variant:f,__staticSelector:d,inputContainer:h,inputWrapperOrder:p,label:g,error:v,description:m,labelProps:w,descriptionProps:S,errorProps:y,labelElement:x,children:C,withAsterisk:E,id:R,required:D,__stylesApiProps:T,mod:O,...N}=n,z=ze({name:["InputWrapper",d],props:T||n,classes:we,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:Cs}),F={size:u,variant:f,__staticSelector:d},B=gn(R),ne=typeof E=="boolean"?E:D,A=(y==null?void 0:y.id)||`${B}-error`,P=(S==null?void 0:S.id)||`${B}-description`,L=B,I=!!v&&typeof v!="boolean",Y=!!m,j=`${I?A:""} ${Y?P:""}`,W=j.trim().length>0?j.trim():void 0,J=(w==null?void 0:w.id)||`${B}-label`,Ce=g&&b.jsx(Kt,{labelElement:x,id:J,htmlFor:L,required:ne,...F,...w,children:g},"label"),Oe=Y&&b.jsx(Yt,{...S,...F,size:(S==null?void 0:S.size)||F.size,id:(S==null?void 0:S.id)||P,children:m},"description"),ee=b.jsx(c.Fragment,{children:h(C)},"input"),Le=I&&c.createElement(Vt,{...y,...F,size:(y==null?void 0:y.size)||F.size,key:"error",id:(y==null?void 0:y.id)||A},v),fe=p.map(ae=>{switch(ae){case"label":return Ce;case"input":return ee;case"description":return Oe;case"error":return Le;default:return null}});return b.jsx(gs,{value:{getStyles:z,describedBy:W,inputId:L,labelId:J,...ws(p,{hasDescription:Y,hasError:I})},children:b.jsx(G,{ref:t,variant:f,size:u,mod:[{error:!!v},O],...z("root"),...N,children:fe})})});Sn.classes=we;Sn.displayName="@mantine/core/InputWrapper";const Es={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Ds=Ue((e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":vt(t.size,"input-height"),"--input-fz":je(t.size),"--input-radius":t.radius===void 0?void 0:ko(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?ke(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?ke(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?vt(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}})),me=Dr((e,t)=>{const n=_("Input",Es,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:f,size:d,wrapperProps:h,error:p,disabled:g,leftSection:v,leftSectionProps:m,leftSectionWidth:w,rightSection:S,rightSectionProps:y,rightSectionWidth:x,rightSectionPointerEvents:C,leftSectionPointerEvents:E,variant:R,vars:D,pointer:T,multiline:O,radius:N,id:z,withAria:F,withErrorStyles:B,mod:ne,...A}=n,{styleProps:P,rest:L}=Rr(A),I=Ut(),Y={offsetBottom:I==null?void 0:I.offsetBottom,offsetTop:I==null?void 0:I.offsetTop},j=ze({name:["Input",u],props:f||n,classes:we,className:o,style:s,classNames:r,styles:i,unstyled:a,stylesCtx:Y,rootSelector:"wrapper",vars:D,varsResolver:Ds}),W=F?{required:l,disabled:g,"aria-invalid":!!p,"aria-describedby":I==null?void 0:I.describedBy,id:(I==null?void 0:I.inputId)||z}:{};return b.jsxs(G,{...j("wrapper"),...P,...h,mod:[{error:!!p&&B,pointer:T,disabled:g,multiline:O,"data-with-right-section":!!S,"data-with-left-section":!!v},ne],variant:R,size:d,children:[v&&b.jsx("div",{...m,"data-position":"left",...j("section",{className:m==null?void 0:m.className,style:m==null?void 0:m.style}),children:v}),b.jsx(G,{component:"input",...L,...W,ref:t,required:l,mod:{disabled:g,error:!!p&&B},variant:R,...j("input")}),S&&b.jsx("div",{...y,"data-position":"right",...j("section",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),children:S})]})});me.classes=we;me.Wrapper=Sn;me.Label=Kt;me.Error=Vt;me.Description=Yt;me.Placeholder=wn;me.displayName="@mantine/core/Input";function Rs(e,t,n){const r=_(e,t,n),{label:o,description:s,error:i,required:a,classNames:l,styles:u,className:f,unstyled:d,__staticSelector:h,__stylesApiProps:p,errorProps:g,labelProps:v,descriptionProps:m,wrapperProps:w,id:S,size:y,style:x,inputContainer:C,inputWrapperOrder:E,withAsterisk:R,variant:D,vars:T,mod:O,...N}=r,{styleProps:z,rest:F}=Rr(N),B={label:o,description:s,error:i,required:a,classNames:l,className:f,__staticSelector:h,__stylesApiProps:p||r,errorProps:g,labelProps:v,descriptionProps:m,unstyled:d,styles:u,size:y,style:x,inputContainer:C,inputWrapperOrder:E,withAsterisk:R,variant:D,id:S,mod:O,...w};return{...F,classNames:l,styles:u,unstyled:d,wrapperProps:{...B,...z},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:y,__staticSelector:h,__stylesApiProps:p||r,error:i,variant:D,id:S}}}const Ts={__staticSelector:"InputBase",withAria:!0},Ye=Dr((e,t)=>{const{inputProps:n,wrapperProps:r,...o}=Rs("InputBase",Ts,e);return b.jsx(me.Wrapper,{...r,children:b.jsx(me,{...n,...o,ref:t})})});Ye.classes={...me.classes,...me.Wrapper.classes};Ye.displayName="@mantine/core/InputBase";function _r(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>_r(t))}:e}function As(e){return e?e.map(t=>_r(t)):[]}function $r(e){return e.reduce((t,n)=>"group"in n?{...t,...$r(n.items)}:(t[n.value]=n,t),{})}var ie={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Is={error:null},Ns=Ue((e,{size:t})=>({chevron:{"--combobox-chevron-size":vt(t,"combobox-chevron-size")}})),Cn=U((e,t)=>{const n=_("ComboboxChevron",Is,e),{size:r,error:o,style:s,className:i,classNames:a,styles:l,unstyled:u,vars:f,mod:d,...h}=n,p=ze({name:"ComboboxChevron",classes:ie,props:n,style:s,className:i,classNames:a,styles:l,unstyled:u,vars:f,varsResolver:Ns,rootSelector:"chevron"});return b.jsx(G,{component:"svg",...h,...p("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},d],ref:t,children:b.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Cn.classes=ie;Cn.displayName="@mantine/core/ComboboxChevron";const[Os,Se]=bn("Combobox component was not found in tree"),Fr=c.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...o},s)=>b.jsx(Mo,{ref:s,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:i=>{i.preventDefault(),t==null||t(i)},onClick:i=>{r(),n==null||n(i)}}));Fr.displayName="@mantine/core/ComboboxClearButton";const Ps={},En=U((e,t)=>{const{classNames:n,styles:r,className:o,style:s,hidden:i,...a}=_("ComboboxDropdown",Ps,e),l=Se();return b.jsx(Wt.Dropdown,{...a,ref:t,role:"presentation","data-hidden":i||void 0,...l.getStyles("dropdown",{className:o,style:s,classNames:n,styles:r})})});En.classes=ie;En.displayName="@mantine/core/ComboboxDropdown";const js={refProp:"ref"},Br=U((e,t)=>{const{children:n,refProp:r}=_("ComboboxDropdownTarget",js,e);if(Se(),!vn(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return b.jsx(Wt.Target,{ref:t,refProp:r,children:n})});Br.displayName="@mantine/core/ComboboxDropdownTarget";const ks={},Dn=U((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=_("ComboboxEmpty",ks,e),l=Se();return b.jsx(G,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:o}),...a})});Dn.classes=ie;Dn.displayName="@mantine/core/ComboboxEmpty";function Rn({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:o,autoComplete:s}){const i=Se(),[a,l]=c.useState(null),u=d=>{if(e==null||e(d),!i.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),i.store.dropdownOpened?l(i.store.selectNextOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),i.store.dropdownOpened?l(i.store.selectPreviousOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const h=i.store.getSelectedOptionIndex();i.store.dropdownOpened&&h!==-1?(d.preventDefault(),i.store.clickSelectedOption()):o==="button"&&(d.preventDefault(),i.store.openDropdown("keyboard"))}d.nativeEvent.code==="Escape"&&i.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&o==="button"&&(d.preventDefault(),i.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(i.store.listId&&i.store.dropdownOpened)||void 0,"aria-controls":i.store.listId,"aria-activedescendant":i.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":i.store.dropdownOpened||void 0,"data-mantine-stop-propagation":i.store.dropdownOpened||void 0}:{},onKeyDown:u}}const Ms={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Wr=U((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:i,targetType:a,autoComplete:l,...u}=_("ComboboxEventsTarget",Ms,e);if(!vn(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=Se(),d=Rn({targetType:a,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:l});return c.cloneElement(n,{...d,...u,[r]:Me(t,f.store.targetRef,n==null?void 0:n.ref)})});Wr.displayName="@mantine/core/ComboboxEventsTarget";const zs={},Tn=U((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=_("ComboboxFooter",zs,e),l=Se();return b.jsx(G,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:o,styles:s}),...a})});Tn.classes=ie;Tn.displayName="@mantine/core/ComboboxFooter";const Ls={},An=U((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,children:a,label:l,...u}=_("ComboboxGroup",Ls,e),f=Se();return b.jsxs(G,{ref:t,...f.getStyles("group",{className:r,classNames:n,style:o,styles:s}),...u,children:[l&&b.jsx("div",{...f.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});An.classes=ie;An.displayName="@mantine/core/ComboboxGroup";const _s={},In=U((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=_("ComboboxHeader",_s,e),l=Se();return b.jsx(G,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:o,styles:s}),...a})});In.classes=ie;In.displayName="@mantine/core/ComboboxHeader";function Hr({value:e,valuesDivider:t=",",...n}){return b.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}Hr.displayName="@mantine/core/ComboboxHiddenInput";const $s={},Nn=U((e,t)=>{const n=_("ComboboxOption",$s,e),{classNames:r,className:o,style:s,styles:i,vars:a,onClick:l,id:u,active:f,onMouseDown:d,onMouseOver:h,disabled:p,selected:g,mod:v,...m}=n,w=Se(),S=c.useId(),y=u||S;return b.jsx(G,{...w.getStyles("option",{className:o,classNames:r,styles:i,style:s}),...m,ref:t,id:y,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":p,"combobox-selected":g},v],role:"option",onClick:x=>{var C;p?x.preventDefault():((C=w.onOptionSubmit)==null||C.call(w,n.value,n),l==null||l(x))},onMouseDown:x=>{x.preventDefault(),d==null||d(x)},onMouseOver:x=>{w.resetSelectionOnOptionHover&&w.store.resetSelectedOption(),h==null||h(x)}})});Nn.classes=ie;Nn.displayName="@mantine/core/ComboboxOption";const Fs={},On=U((e,t)=>{const n=_("ComboboxOptions",Fs,e),{classNames:r,className:o,style:s,styles:i,id:a,onMouseDown:l,labelledBy:u,...f}=n,d=Se(),h=gn(a);return c.useEffect(()=>{d.store.setListId(h)},[h]),b.jsx(G,{ref:t,...d.getStyles("options",{className:o,style:s,classNames:r,styles:i}),...f,id:h,role:"listbox","aria-labelledby":u,onMouseDown:p=>{p.preventDefault(),l==null||l(p)}})});On.classes=ie;On.displayName="@mantine/core/ComboboxOptions";const Bs={withAriaAttributes:!0,withKeyboardNavigation:!0},Pn=U((e,t)=>{const n=_("ComboboxSearch",Bs,e),{classNames:r,styles:o,unstyled:s,vars:i,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:f,...d}=n,h=Se(),p=h.getStyles("search"),g=Rn({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return b.jsx(me,{ref:Me(t,h.store.searchRef),classNames:[{input:p.className},r],styles:[{input:p.style},o],size:f||h.size,...g,...d,__staticSelector:"Combobox"})});Pn.classes=ie;Pn.displayName="@mantine/core/ComboboxSearch";const Ws={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Xr=U((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:i,targetType:a,autoComplete:l,...u}=_("ComboboxTarget",Ws,e);if(!vn(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=Se(),d=Rn({targetType:a,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:l}),h=c.cloneElement(n,{...d,...u});return b.jsx(Wt.Target,{ref:Me(t,f.store.targetRef),children:h})});Xr.displayName="@mantine/core/ComboboxTarget";function Hs(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Xs(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Us(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function Ur({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:o,loop:s=!0,scrollBehavior:i="instant"}={}){const[a,l]=cn({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=c.useRef(null),f=c.useRef(-1),d=c.useRef(null),h=c.useRef(null),p=c.useRef(-1),g=c.useRef(-1),v=c.useRef(-1),m=c.useCallback((A="unknown")=>{a||(l(!0),o==null||o(A))},[l,o,a]),w=c.useCallback((A="unknown")=>{a&&(l(!1),r==null||r(A))},[l,r,a]),S=c.useCallback((A="unknown")=>{a?w(A):m(A)},[w,m,a]),y=c.useCallback(()=>{const A=document.querySelector(`#${u.current} [data-combobox-selected]`);A==null||A.removeAttribute("data-combobox-selected"),A==null||A.removeAttribute("aria-selected")},[]),x=c.useCallback(A=>{const P=document.getElementById(u.current),L=P==null?void 0:P.querySelectorAll("[data-combobox-option]");if(!L)return null;const I=A>=L.length?0:A<0?L.length-1:A;return f.current=I,L!=null&&L[I]&&!L[I].hasAttribute("data-combobox-disabled")?(y(),L[I].setAttribute("data-combobox-selected","true"),L[I].setAttribute("aria-selected","true"),L[I].scrollIntoView({block:"nearest",behavior:i}),L[I].id):null},[i,y]),C=c.useCallback(()=>{const A=document.querySelector(`#${u.current} [data-combobox-active]`);if(A){const P=document.querySelectorAll(`#${u.current} [data-combobox-option]`),L=Array.from(P).findIndex(I=>I===A);return x(L)}return x(0)},[x]),E=c.useCallback(()=>x(Xs(f.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[x,s]),R=c.useCallback(()=>x(Hs(f.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[x,s]),D=c.useCallback(()=>x(Us(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[x]),T=c.useCallback((A="selected",P)=>{v.current=window.setTimeout(()=>{var Y;const L=document.querySelectorAll(`#${u.current} [data-combobox-option]`),I=Array.from(L).findIndex(j=>j.hasAttribute(`data-combobox-${A}`));f.current=I,P!=null&&P.scrollIntoView&&((Y=L[I])==null||Y.scrollIntoView({block:"nearest",behavior:i}))},0)},[]),O=c.useCallback(()=>{f.current=-1,y()},[y]),N=c.useCallback(()=>{const A=document.querySelectorAll(`#${u.current} [data-combobox-option]`),P=A==null?void 0:A[f.current];P==null||P.click()},[]),z=c.useCallback(A=>{u.current=A},[]),F=c.useCallback(()=>{p.current=window.setTimeout(()=>d.current.focus(),0)},[]),B=c.useCallback(()=>{g.current=window.setTimeout(()=>h.current.focus(),0)},[]),ne=c.useCallback(()=>f.current,[]);return c.useEffect(()=>()=>{window.clearTimeout(p.current),window.clearTimeout(g.current),window.clearTimeout(v.current)},[]),{dropdownOpened:a,openDropdown:m,closeDropdown:w,toggleDropdown:S,selectedOptionIndex:f.current,getSelectedOptionIndex:ne,selectOption:x,selectFirstOption:D,selectActiveOption:C,selectNextOption:E,selectPreviousOption:R,resetSelectedOption:O,updateSelectedOptionIndex:T,listId:u.current,setListId:z,clickSelectedOption:N,searchRef:d,focusSearchInput:F,targetRef:h,focusTarget:B}}const Ys={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Vs=Ue((e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":je(t),"--combobox-option-padding":vt(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:ke(n),"--combobox-option-fz":je(t),"--combobox-option-padding":vt(t,"combobox-option-padding")}}));function $(e){const t=_("Combobox",Ys,e),{classNames:n,styles:r,unstyled:o,children:s,store:i,vars:a,onOptionSubmit:l,onClose:u,size:f,dropdownPadding:d,resetSelectionOnOptionHover:h,__staticSelector:p,readOnly:g,...v}=t,m=Ur(),w=i||m,S=ze({name:p||"Combobox",classes:ie,props:t,classNames:n,styles:r,unstyled:o,vars:a,varsResolver:Vs}),y=()=>{u==null||u(),w.closeDropdown()};return b.jsx(Os,{value:{getStyles:S,store:w,onOptionSubmit:l,size:f,resetSelectionOnOptionHover:h,readOnly:g},children:b.jsx(Wt,{opened:w.dropdownOpened,...v,onClose:y,withRoles:!1,unstyled:o,children:s})})}const Ks=e=>e;$.extend=Ks;$.classes=ie;$.displayName="@mantine/core/Combobox";$.Target=Xr;$.Dropdown=En;$.Options=On;$.Option=Nn;$.Search=Pn;$.Empty=Dn;$.Chevron=Cn;$.Footer=Tn;$.Header=In;$.EventsTarget=Wr;$.DropdownTarget=Br;$.Group=An;$.ClearButton=Fr;$.HiddenInput=Hr;function mt(e){return"group"in e}function Yr({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),o=[];for(let s=0;s<e.length;s+=1){const i=e[s];if(o.length===n)return o;mt(i)&&o.push({group:i.group,items:Yr({options:i.items,search:t,limit:n-o.length})}),mt(i)||i.label.toLowerCase().includes(r)&&o.push(i)}return o}function qs(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function Vr(e,t=new Set){if(Array.isArray(e))for(const n of e)if(mt(n))Vr(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function Gs(e,t){return Array.isArray(e)?e.includes(t):e===t}function Kr({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:o,renderOption:s}){if(!mt(e)){const a=Gs(n,e.value),l=t&&a&&b.jsx(qo,{className:ie.optionsDropdownCheckIcon}),u=b.jsxs(b.Fragment,{children:[r==="left"&&l,b.jsx("span",{children:e.label}),r==="right"&&l]});return b.jsx($.Option,{value:e.value,disabled:e.disabled,className:zo({[ie.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):u})}const i=e.items.map(a=>b.jsx(Kr,{data:a,value:n,unstyled:o,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return b.jsx($.Group,{label:e.group,children:i})}function Js({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:o,limit:s,maxDropdownHeight:i,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:f,checkIconPosition:d,nothingFoundMessage:h,unstyled:p,labelId:g,renderOption:v,scrollAreaProps:m,"aria-label":w}){Vr(e);const y=typeof o=="string"?(r||Yr)({options:e,search:l?o:"",limit:s??1/0}):e,x=qs(y),C=y.map(E=>b.jsx(Kr,{data:E,withCheckIcon:u,value:f,checkIconPosition:d,unstyled:p,renderOption:v},mt(E)?E.group:E.value));return b.jsx($.Dropdown,{hidden:t||n&&x,children:b.jsxs($.Options,{labelledBy:g,"aria-label":w,children:[a?b.jsx(St.Autosize,{mah:i??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...m,children:C}):C,x&&h&&b.jsx($.Empty,{children:h})]})})}function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dn.apply(this,arguments)}function Zs(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Qs=c.useLayoutEffect,ei=function(t){var n=c.useRef(t);return Qs(function(){n.current=t}),n},or=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},ti=function(t,n){var r=c.useRef();return c.useCallback(function(o){t.current=o,r.current&&or(r.current,null),r.current=n,n&&or(n,o)},[n])},sr={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},ni=function(t){Object.keys(sr).forEach(function(n){t.style.setProperty(n,sr[n],"important")})},ir=ni,re=null,ar=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function ri(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),re||(re=document.createElement("textarea"),re.setAttribute("tabindex","-1"),re.setAttribute("aria-hidden","true"),ir(re)),re.parentNode===null&&document.body.appendChild(re);var o=e.paddingSize,s=e.borderSize,i=e.sizingStyle,a=i.boxSizing;Object.keys(i).forEach(function(h){var p=h;re.style[p]=i[p]}),ir(re),re.value=t;var l=ar(re,e);re.value=t,l=ar(re,e),re.value="x";var u=re.scrollHeight-o,f=u*n;a==="border-box"&&(f=f+o+s),l=Math.max(f,l);var d=u*r;return a==="border-box"&&(d=d+o+s),l=Math.min(d,l),[l,u]}var lr=function(){},oi=function(t,n){return t.reduce(function(r,o){return r[o]=n[o],r},{})},si=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],ii=!!document.documentElement.currentStyle,ai=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=oi(si,n),o=r.boxSizing;if(o==="")return null;ii&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:i}},li=ai;function qr(e,t,n){var r=ei(n);c.useLayoutEffect(function(){var o=function(i){return r.current(i)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var ci=function(t){qr(window,"resize",t)},ui=function(t){qr(document.fonts,"loadingdone",t)},di=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],fi=function(t,n){var r=t.cacheMeasurements,o=t.maxRows,s=t.minRows,i=t.onChange,a=i===void 0?lr:i,l=t.onHeightChange,u=l===void 0?lr:l,f=Zs(t,di),d=f.value!==void 0,h=c.useRef(null),p=ti(h,n),g=c.useRef(0),v=c.useRef(),m=function(){var y=h.current,x=r&&v.current?v.current:li(y);if(x){v.current=x;var C=ri(x,y.value||y.placeholder||"x",s,o),E=C[0],R=C[1];g.current!==E&&(g.current=E,y.style.setProperty("height",E+"px","important"),u(E,{rowHeight:R}))}},w=function(y){d||m(),a(y)};return c.useLayoutEffect(m),ci(m),ui(m),c.createElement("textarea",dn({},f,{onChange:w,ref:p}))},pi=c.forwardRef(fi);const hi={},et=U((e,t)=>{const{autosize:n,maxRows:r,minRows:o,__staticSelector:s,resize:i,...a}=_("Textarea",hi,e),l=n&&ts()!=="test",u=l?{maxRows:r,minRows:o}:{};return b.jsx(Ye,{component:l?pi:"textarea",ref:t,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":i},...u})});et.classes=Ye.classes;et.displayName="@mantine/core/Textarea";const bi={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},jn=U((e,t)=>{const n=_("Select",bi,e),{classNames:r,styles:o,unstyled:s,vars:i,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:f,onFocus:d,onBlur:h,onClick:p,onChange:g,data:v,value:m,defaultValue:w,selectFirstOptionOnChange:S,onOptionSubmit:y,comboboxProps:x,readOnly:C,disabled:E,filter:R,limit:D,withScrollArea:T,maxDropdownHeight:O,size:N,searchable:z,rightSection:F,checkIconPosition:B,withCheckIcon:ne,nothingFoundMessage:A,name:P,form:L,searchValue:I,defaultSearchValue:Y,onSearchChange:j,allowDeselect:W,error:J,rightSectionPointerEvents:Ce,id:Oe,clearable:ee,clearButtonProps:Le,hiddenInputProps:fe,renderOption:ae,onClear:M,autoComplete:Ve,scrollAreaProps:pe,...Ee}=n,le=c.useMemo(()=>As(v),[v]),he=c.useMemo(()=>$r(le),[le]),Pe=gn(Oe),[be,ot,st]=cn({value:m,defaultValue:w,finalValue:null,onChange:g}),Z=typeof be=="string"?he[be]:void 0,[_e,De]=cn({value:I,defaultValue:Y,finalValue:Z?Z.label:"",onChange:j}),se=Ur({opened:a,defaultOpened:l,onDropdownOpen:()=>{f==null||f(),se.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),se.resetSelectedOption()}}),{resolvedClassNames:it,resolvedStyles:Tt}=Lo({props:n,styles:o,classNames:r});c.useEffect(()=>{S&&se.selectFirstOption()},[S,be]),c.useEffect(()=>{m===null&&De(""),typeof m=="string"&&Z&&De(Z.label)},[m,Z]);const At=ee&&!!be&&!E&&!C&&b.jsx($.ClearButton,{size:N,...Le,onClear:()=>{ot(null,null),De(""),M==null||M()}});return b.jsxs(b.Fragment,{children:[b.jsxs($,{store:se,__staticSelector:"Select",classNames:it,styles:Tt,unstyled:s,readOnly:C,onOptionSubmit:V=>{y==null||y(V);const te=W&&he[V].value===be?null:he[V],$e=te?te.value:null;ot($e,te),!st&&De(typeof $e=="string"&&(te==null?void 0:te.label)||""),se.closeDropdown()},size:N,...x,children:[b.jsx($.Target,{targetType:z?"input":"button",autoComplete:Ve,children:b.jsx(Ye,{id:Pe,ref:t,rightSection:F||At||b.jsx($.Chevron,{size:N,error:J,unstyled:s}),rightSectionPointerEvents:Ce||(At?"all":"none"),...Ee,size:N,__staticSelector:"Select",disabled:E,readOnly:C||!z,value:_e,onChange:V=>{De(V.currentTarget.value),se.openDropdown(),S&&se.selectFirstOption()},onFocus:V=>{z&&se.openDropdown(),d==null||d(V)},onBlur:V=>{var te;z&&se.closeDropdown(),De(be!=null&&((te=he[be])==null?void 0:te.label)||""),h==null||h(V)},onClick:V=>{z?se.openDropdown():se.toggleDropdown(),p==null||p(V)},classNames:it,styles:Tt,unstyled:s,pointer:!z,error:J})}),b.jsx(Js,{data:le,hidden:C||E,filter:R,search:_e,limit:D,hiddenWhenEmpty:!z||!A,withScrollArea:T,maxDropdownHeight:O,filterOptions:z&&(Z==null?void 0:Z.label)!==_e,value:be,checkIconPosition:B,withCheckIcon:ne,nothingFoundMessage:A,unstyled:s,labelId:Ee.label?`${Pe}-label`:void 0,"aria-label":Ee.label?void 0:Ee["aria-label"],renderOption:ae,scrollAreaProps:pe})]}),b.jsx($.HiddenInput,{value:be,name:P,form:L,disabled:E,...fe})]})});jn.classes={...Ye.classes,...$.classes};jn.displayName="@mantine/core/Select";const gi={},Mt=U((e,t)=>{const n=_("TextInput",gi,e);return b.jsx(Ye,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Mt.classes=Ye.classes;Mt.displayName="@mantine/core/TextInput";/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vi=_o("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);const mi=c.forwardRef(({children:e,style:t,...n},r)=>b.jsx(He,{variant:"transparent",px:0,w:"100%",h:"100%",style:{...t,aspectRatio:"3 / 4"},styles:{root:{overflow:"visible"},label:{overflow:"visible",flex:1}},ref:r,...n,children:b.jsx(Vo,{withBorder:!0,w:"100%",h:"100%",shadow:"xs",children:b.jsx(de,{align:"center",justify:"center",w:"100%",h:"100%",style:{display:"grid",gridTemplateColumns:"auto"},children:e})})})),Gr=mi,yi=c.forwardRef(({noteCard:e,onClick:t,...n},r)=>b.jsx(Gr,{onClick:()=>t==null?void 0:t(e),ref:r,...n,children:b.jsx(ft,{lineClamp:6,className:$o,children:e.front})})),Jr=yi;function xi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const qt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tt(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function kn(e){return"nodeType"in e}function oe(e){var t,n;return e?tt(e)?e:kn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Mn(e){const{Document:t}=oe(e);return e instanceof t}function Ct(e){return tt(e)?!1:e instanceof oe(e).HTMLElement}function Zr(e){return e instanceof oe(e).SVGElement}function nt(e){return e?tt(e)?e.document:kn(e)?Mn(e)?e:Ct(e)||Zr(e)?e.ownerDocument:document:document:document}const ye=qt?c.useLayoutEffect:c.useEffect;function Gt(e){const t=c.useRef(e);return ye(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function wi(){const e=c.useRef(null),t=c.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function yt(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return ye(()=>{n.current!==e&&(n.current=e)},t),n}function Et(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function zt(e){const t=Gt(e),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function Lt(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let nn={};function Dt(e,t){return c.useMemo(()=>{if(t)return t;const n=nn[e]==null?0:nn[e]+1;return nn[e]=n,e+"-"+n},[e,t])}function Qr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const a=Object.entries(i);for(const[l,u]of a){const f=s[l];f!=null&&(s[l]=f+e*u)}return s},{...t})}}const Ze=Qr(1),xt=Qr(-1);function Si(e){return"clientX"in e&&"clientY"in e}function Jt(e){if(!e)return!1;const{KeyboardEvent:t}=oe(e.target);return t&&e instanceof t}function Ci(e){if(!e)return!1;const{TouchEvent:t}=oe(e.target);return t&&e instanceof t}function _t(e){if(Ci(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Si(e)?{x:e.clientX,y:e.clientY}:null}const Xe=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Xe.Translate.toString(e),Xe.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),cr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ei(e){return e.matches(cr)?e:e.querySelector(cr)}const Di={display:"none"};function Ri(e){let{id:t,value:n}=e;return X.createElement("div",{id:t,style:Di},n)}function Ti(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return X.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Ai(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const eo=c.createContext(null);function Ii(e){const t=c.useContext(eo);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Ni(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:o,event:s}=r;e.forEach(i=>{var a;return(a=i[o])==null?void 0:a.call(i,s)})},[e]),t]}const Oi={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Pi={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ji(e){let{announcements:t=Pi,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Oi}=e;const{announce:s,announcement:i}=Ai(),a=Dt("DndLiveRegion"),[l,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),Ii(c.useMemo(()=>({onDragStart(d){let{active:h}=d;s(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:p}=d;t.onDragMove&&s(t.onDragMove({active:h,over:p}))},onDragOver(d){let{active:h,over:p}=d;s(t.onDragOver({active:h,over:p}))},onDragEnd(d){let{active:h,over:p}=d;s(t.onDragEnd({active:h,over:p}))},onDragCancel(d){let{active:h,over:p}=d;s(t.onDragCancel({active:h,over:p}))}}),[s,t])),!l)return null;const f=X.createElement(X.Fragment,null,X.createElement(Ri,{id:r,value:o.draggable}),X.createElement(Ti,{id:a,announcement:i}));return n?Je.createPortal(f,n):f}var K;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(K||(K={}));function $t(){}function ur(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ki(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ie=Object.freeze({x:0,y:0});function to(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Mi(e,t){const n=_t(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function no(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function zi(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function dr(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function ro(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function fr(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Li=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=fr(t,t.left,t.top),s=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const u=to(fr(l),o);s.push({id:a,data:{droppableContainer:i,value:u}})}}return s.sort(no)},_i=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=dr(t),s=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const u=dr(l),f=o.reduce((h,p,g)=>h+to(u[g],p),0),d=Number((f/4).toFixed(4));s.push({id:a,data:{droppableContainer:i,value:d}})}}return s.sort(no)};function $i(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=o-r,a=s-n;if(r<o&&n<s){const l=t.width*t.height,u=e.width*e.height,f=i*a,d=f/(l+u-f);return Number(d.toFixed(4))}return 0}const Fi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:i}=s,a=n.get(i);if(a){const l=$i(a,t);l>0&&o.push({id:i,data:{droppableContainer:s,value:l}})}}return o.sort(zi)};function Bi(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function oo(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ie}function Wi(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...n})}}const Hi=Wi(1);function so(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Xi(e,t,n){const r=so(t);if(!r)return e;const{scaleX:o,scaleY:s,x:i,y:a}=r,l=e.left-i-(1-o)*parseFloat(n),u=e.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?e.width/o:e.width,d=s?e.height/s:e.height;return{width:f,height:d,top:u,right:l+f,bottom:u+d,left:l}}const Ui={ignoreTransform:!1};function rt(e,t){t===void 0&&(t=Ui);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=oe(e).getComputedStyle(e);u&&(n=Xi(n,u,f))}const{top:r,left:o,width:s,height:i,bottom:a,right:l}=n;return{top:r,left:o,width:s,height:i,bottom:a,right:l}}function pr(e){return rt(e,{ignoreTransform:!0})}function Yi(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Vi(e,t){return t===void 0&&(t=oe(e).getComputedStyle(e)),t.position==="fixed"}function Ki(e,t){t===void 0&&(t=oe(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function Zt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Mn(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ct(o)||Zr(o)||n.includes(o))return n;const s=oe(e).getComputedStyle(o);return o!==e&&Ki(o,s)&&n.push(o),Vi(o,s)?n:r(o.parentNode)}return e?r(e):n}function io(e){const[t]=Zt(e,1);return t??null}function rn(e){return!qt||!e?null:tt(e)?e:kn(e)?Mn(e)||e===nt(e).scrollingElement?window:Ct(e)?e:null:null}function ao(e){return tt(e)?e.scrollX:e.scrollLeft}function lo(e){return tt(e)?e.scrollY:e.scrollTop}function fn(e){return{x:ao(e),y:lo(e)}}var q;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(q||(q={}));function co(e){return!qt||!e?!1:e===document.scrollingElement}function uo(e){const t={x:0,y:0},n=co(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:i,isRight:a,maxScroll:r,minScroll:t}}const qi={x:.2,y:.2};function Gi(e,t,n,r,o){let{top:s,left:i,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=qi);const{isTop:u,isBottom:f,isLeft:d,isRight:h}=uo(e),p={x:0,y:0},g={x:0,y:0},v={height:t.height*o.y,width:t.width*o.x};return!u&&s<=t.top+v.height?(p.y=q.Backward,g.y=r*Math.abs((t.top+v.height-s)/v.height)):!f&&l>=t.bottom-v.height&&(p.y=q.Forward,g.y=r*Math.abs((t.bottom-v.height-l)/v.height)),!h&&a>=t.right-v.width?(p.x=q.Forward,g.x=r*Math.abs((t.right-v.width-a)/v.width)):!d&&i<=t.left+v.width&&(p.x=q.Backward,g.x=r*Math.abs((t.left+v.width-i)/v.width)),{direction:p,speed:g}}function Ji(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function fo(e){return e.reduce((t,n)=>Ze(t,fn(n)),Ie)}function Zi(e){return e.reduce((t,n)=>t+ao(n),0)}function Qi(e){return e.reduce((t,n)=>t+lo(n),0)}function po(e,t){if(t===void 0&&(t=rt),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);io(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ea=[["x",["left","right"],Zi],["y",["top","bottom"],Qi]];class zn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Zt(n),o=fo(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,i,a]of ea)for(const l of i)Object.defineProperty(this,l,{get:()=>{const u=a(r),f=o[s]-u;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function ta(e){const{EventTarget:t}=oe(e);return e instanceof t?e:nt(e)}function on(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ve;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ve||(ve={}));function hr(e){e.preventDefault()}function na(e){e.stopPropagation()}var k;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(k||(k={}));const ho={start:[k.Space,k.Enter],cancel:[k.Esc],end:[k.Space,k.Enter]},ra=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case k.Right:return{...n,x:n.x+25};case k.Left:return{...n,x:n.x-25};case k.Down:return{...n,y:n.y+25};case k.Up:return{...n,y:n.y-25}}};class Ln{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new pt(nt(n)),this.windowListeners=new pt(oe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ve.Resize,this.handleCancel),this.windowListeners.add(ve.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ve.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&po(r),n(Ie)}handleKeyDown(t){if(Jt(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=ho,coordinateGetter:i=ra,scrollBehavior:a="smooth"}=o,{code:l}=t;if(s.end.includes(l)){this.handleEnd(t);return}if(s.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:Ie;this.referenceCoordinates||(this.referenceCoordinates=f);const d=i(t,{active:n,context:r.current,currentCoordinates:f});if(d){const h=xt(d,f),p={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const m=t.code,{isTop:w,isRight:S,isLeft:y,isBottom:x,maxScroll:C,minScroll:E}=uo(v),R=Ji(v),D={x:Math.min(m===k.Right?R.right-R.width/2:R.right,Math.max(m===k.Right?R.left:R.left+R.width/2,d.x)),y:Math.min(m===k.Down?R.bottom-R.height/2:R.bottom,Math.max(m===k.Down?R.top:R.top+R.height/2,d.y))},T=m===k.Right&&!S||m===k.Left&&!y,O=m===k.Down&&!x||m===k.Up&&!w;if(T&&D.x!==d.x){const N=v.scrollLeft+h.x,z=m===k.Right&&N<=C.x||m===k.Left&&N>=E.x;if(z&&!h.y){v.scrollTo({left:N,behavior:a});return}z?p.x=v.scrollLeft-N:p.x=m===k.Right?v.scrollLeft-C.x:v.scrollLeft-E.x,p.x&&v.scrollBy({left:-p.x,behavior:a});break}else if(O&&D.y!==d.y){const N=v.scrollTop+h.y,z=m===k.Down&&N<=C.y||m===k.Up&&N>=E.y;if(z&&!h.x){v.scrollTo({top:N,behavior:a});return}z?p.y=v.scrollTop-N:p.y=m===k.Down?v.scrollTop-C.y:v.scrollTop-E.y,p.y&&v.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(t,Ze(xt(d,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ln.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=ho,onActivation:o}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function br(e){return!!(e&&"distance"in e)}function gr(e){return!!(e&&"delay"in e)}class _n{constructor(t,n,r){var o;r===void 0&&(r=ta(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:i}=s;this.props=t,this.events=n,this.document=nt(i),this.documentListeners=new pt(this.document),this.listeners=new pt(r),this.windowListeners=new pt(oe(i)),this.initialCoordinates=(o=_t(s))!=null?o:Ie,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(ve.Resize,this.handleCancel),this.windowListeners.add(ve.DragStart,hr),this.windowListeners.add(ve.VisibilityChange,this.handleCancel),this.windowListeners.add(ve.ContextMenu,hr),this.documentListeners.add(ve.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(gr(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(br(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ve.Click,na,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ve.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:a}}=s;if(!o)return;const l=(n=_t(t))!=null?n:Ie,u=xt(o,l);if(!r&&a){if(br(a)){if(a.tolerance!=null&&on(u,a.tolerance))return this.handleCancel();if(on(u,a.distance))return this.handleStart()}return gr(a)&&on(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),i(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===k.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const oa={move:{name:"pointermove"},end:{name:"pointerup"}};class $n extends _n{constructor(t){const{event:n}=t,r=nt(n.target);super(t,oa,r)}}$n.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const sa={move:{name:"mousemove"},end:{name:"mouseup"}};var pn;(function(e){e[e.RightClick=2]="RightClick"})(pn||(pn={}));class ia extends _n{constructor(t){super(t,sa,nt(t.event.target))}}ia.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===pn.RightClick?!1:(r==null||r({event:n}),!0)}}];const sn={move:{name:"touchmove"},end:{name:"touchend"}};class bo extends _n{constructor(t){super(t,sn)}static setup(){return window.addEventListener(sn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(sn.move.name,t)};function t(){}}}bo.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var ht;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ht||(ht={}));var Ft;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ft||(Ft={}));function aa(e){let{acceleration:t,activator:n=ht.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:i=5,order:a=Ft.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:f,delta:d,threshold:h}=e;const p=ca({delta:d,disabled:!s}),[g,v]=wi(),m=c.useRef({x:0,y:0}),w=c.useRef({x:0,y:0}),S=c.useMemo(()=>{switch(n){case ht.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ht.DraggableRect:return o}},[n,o,l]),y=c.useRef(null),x=c.useCallback(()=>{const E=y.current;if(!E)return;const R=m.current.x*w.current.x,D=m.current.y*w.current.y;E.scrollBy(R,D)},[]),C=c.useMemo(()=>a===Ft.TreeOrder?[...u].reverse():u,[a,u]);c.useEffect(()=>{if(!s||!u.length||!S){v();return}for(const E of C){if((r==null?void 0:r(E))===!1)continue;const R=u.indexOf(E),D=f[R];if(!D)continue;const{direction:T,speed:O}=Gi(E,D,S,t,h);for(const N of["x","y"])p[N][T[N]]||(O[N]=0,T[N]=0);if(O.x>0||O.y>0){v(),y.current=E,g(x,i),m.current=O,w.current=T;return}}m.current={x:0,y:0},w.current={x:0,y:0},v()},[t,x,r,v,s,i,JSON.stringify(S),JSON.stringify(p),g,u,C,f,JSON.stringify(h)])}const la={x:{[q.Backward]:!1,[q.Forward]:!1},y:{[q.Backward]:!1,[q.Forward]:!1}};function ca(e){let{delta:t,disabled:n}=e;const r=Lt(t);return Et(o=>{if(n||!r||!o)return la;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[q.Backward]:o.x[q.Backward]||s.x===-1,[q.Forward]:o.x[q.Forward]||s.x===1},y:{[q.Backward]:o.y[q.Backward]||s.y===-1,[q.Forward]:o.y[q.Forward]||s.y===1}}},[n,t,r])}function ua(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Et(o=>{var s;return t===null?null:(s=r??o)!=null?s:null},[r,t])}function da(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...s]},[]),[e,t])}var wt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(wt||(wt={}));var hn;(function(e){e.Optimized="optimized"})(hn||(hn={}));const vr=new Map;function fa(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,i]=c.useState(null),{frequency:a,measure:l,strategy:u}=o,f=c.useRef(e),d=m(),h=yt(d),p=c.useCallback(function(w){w===void 0&&(w=[]),!h.current&&i(S=>S===null?w:S.concat(w.filter(y=>!S.includes(y))))},[h]),g=c.useRef(null),v=Et(w=>{if(d&&!n)return vr;if(!w||w===vr||f.current!==e||s!=null){const S=new Map;for(let y of e){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){S.set(y.id,y.rect.current);continue}const x=y.node.current,C=x?new zn(l(x),x):null;y.rect.current=C,C&&S.set(y.id,C)}return S}return w},[e,s,n,d,l]);return c.useEffect(()=>{f.current=e},[e]),c.useEffect(()=>{d||p()},[n,d]),c.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),c.useEffect(()=>{d||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},a))},[a,d,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:s!=null};function m(){switch(u){case wt.Always:return!1;case wt.BeforeDragging:return n;default:return!n}}}function Fn(e,t){return Et(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function pa(e,t){return Fn(e,t)}function ha(e){let{callback:t,disabled:n}=e;const r=Gt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Qt(e){let{callback:t,disabled:n}=e;const r=Gt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ba(e){return new zn(rt(e),e)}function mr(e,t,n){t===void 0&&(t=ba);const[r,o]=c.useReducer(a,null),s=ha({callback(l){if(e)for(const u of l){const{type:f,target:d}=u;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){o();break}}}}),i=Qt({callback:o});return ye(()=>{o(),e?(i==null||i.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),s==null||s.disconnect())},[e]),r;function a(l){if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const f=t(e);return JSON.stringify(l)===JSON.stringify(f)?l:f}}function ga(e){const t=Fn(e);return oo(e,t)}const yr=[];function va(e){const t=c.useRef(e),n=Et(r=>e?r&&r!==yr&&e&&t.current&&e.parentNode===t.current.parentNode?r:Zt(e):yr,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function ma(e){const[t,n]=c.useState(null),r=c.useRef(e),o=c.useCallback(s=>{const i=rn(s.target);i&&n(a=>a?(a.set(i,fn(i)),new Map(a)):null)},[]);return c.useEffect(()=>{const s=r.current;if(e!==s){i(s);const a=e.map(l=>{const u=rn(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,fn(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(s)};function i(a){a.forEach(l=>{const u=rn(l);u==null||u.removeEventListener("scroll",o)})}},[o,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,i)=>Ze(s,i),Ie):fo(e):Ie,[e,t])}function xr(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==Ie;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?xt(e,n.current):Ie}function ya(e){c.useEffect(()=>{if(!qt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function xa(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=i=>{s(i,t)},n},{}),[e,t])}function go(e){return c.useMemo(()=>e?Yi(e):null,[e])}const an=[];function wa(e,t){t===void 0&&(t=rt);const[n]=e,r=go(n?oe(n):null),[o,s]=c.useReducer(a,an),i=Qt({callback:s});return e.length>0&&o===an&&s(),ye(()=>{e.length?e.forEach(l=>i==null?void 0:i.observe(l)):(i==null||i.disconnect(),s())},[e]),o;function a(){return e.length?e.map(l=>co(l)?r:new zn(t(l),l)):an}}function vo(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ct(t)?t:e}function Sa(e){let{measure:t}=e;const[n,r]=c.useState(null),o=c.useCallback(u=>{for(const{target:f}of u)if(Ct(f)){r(d=>{const h=t(f);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),s=Qt({callback:o}),i=c.useCallback(u=>{const f=vo(u);s==null||s.disconnect(),f&&(s==null||s.observe(f)),r(f?t(f):null)},[t,s]),[a,l]=zt(i);return c.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const Ca=[{sensor:$n,options:{}},{sensor:Ln,options:{}}],Ea={current:{}},jt={draggable:{measure:pr},droppable:{measure:pr,strategy:wt.WhileDragging,frequency:hn.Optimized},dragOverlay:{measure:rt}};class bt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Da={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:$t},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:jt,measureDroppableContainers:$t,windowRect:null,measuringScheduled:!1},mo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:$t,draggableNodes:new Map,over:null,measureDroppableContainers:$t},Rt=c.createContext(mo),yo=c.createContext(Da);function Ra(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bt}}}function Ta(e,t){switch(t.type){case K.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case K.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case K.DragEnd:case K.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case K.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new bt(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case K.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new bt(e.droppable.containers);return i.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case K.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new bt(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Aa(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(Rt),s=Lt(r),i=Lt(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&s&&i!=null){if(!Jt(s)||document.activeElement===s.target)return;const a=o.get(i);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[l.current,u.current]){if(!f)continue;const d=Ei(f);if(d){d.focus();break}}})}},[r,t,o,i,s]),null}function xo(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function Ia(e){return c.useMemo(()=>({draggable:{...jt.draggable,...e==null?void 0:e.draggable},droppable:{...jt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...jt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Na(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=c.useRef(!1),{x:i,y:a}=typeof o=="boolean"?{x:o,y:o}:o;ye(()=>{if(!i&&!a||!t){s.current=!1;return}if(s.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),d=oo(f,r);if(i||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=io(u);h&&h.scrollBy({top:d.y,left:d.x})}},[t,i,a,r,n])}const en=c.createContext({...Ie,scaleX:1,scaleY:1});var We;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(We||(We={}));const Oa=c.memo(function(t){var n,r,o,s;let{id:i,accessibility:a,autoScroll:l=!0,children:u,sensors:f=Ca,collisionDetection:d=Fi,measuring:h,modifiers:p,...g}=t;const v=c.useReducer(Ta,void 0,Ra),[m,w]=v,[S,y]=Ni(),[x,C]=c.useState(We.Uninitialized),E=x===We.Initialized,{draggable:{active:R,nodes:D,translate:T},droppable:{containers:O}}=m,N=R?D.get(R):null,z=c.useRef({initial:null,translated:null}),F=c.useMemo(()=>{var Q;return R!=null?{id:R,data:(Q=N==null?void 0:N.data)!=null?Q:Ea,rect:z}:null},[R,N]),B=c.useRef(null),[ne,A]=c.useState(null),[P,L]=c.useState(null),I=yt(g,Object.values(g)),Y=Dt("DndDescribedBy",i),j=c.useMemo(()=>O.getEnabled(),[O]),W=Ia(h),{droppableRects:J,measureDroppableContainers:Ce,measuringScheduled:Oe}=fa(j,{dragging:E,dependencies:[T.x,T.y],config:W.droppable}),ee=ua(D,R),Le=c.useMemo(()=>P?_t(P):null,[P]),fe=Po(),ae=pa(ee,W.draggable.measure);Na({activeNode:R?D.get(R):null,config:fe.layoutShiftCompensation,initialRect:ae,measure:W.draggable.measure});const M=mr(ee,W.draggable.measure,ae),Ve=mr(ee?ee.parentElement:null),pe=c.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=O.getNodeFor((n=pe.current.over)==null?void 0:n.id),le=Sa({measure:W.dragOverlay.measure}),he=(r=le.nodeRef.current)!=null?r:ee,Pe=E?(o=le.rect)!=null?o:M:null,be=!!(le.nodeRef.current&&le.rect),ot=ga(be?null:M),st=go(he?oe(he):null),Z=va(E?Ee??ee:null),_e=wa(Z),De=xo(p,{transform:{x:T.x-ot.x,y:T.y-ot.y,scaleX:1,scaleY:1},activatorEvent:P,active:F,activeNodeRect:M,containerNodeRect:Ve,draggingNodeRect:Pe,over:pe.current.over,overlayNodeRect:le.rect,scrollableAncestors:Z,scrollableAncestorRects:_e,windowRect:st}),se=Le?Ze(Le,T):null,it=ma(Z),Tt=xr(it),At=xr(it,[M]),V=Ze(De,Tt),te=Pe?Hi(Pe,De):null,$e=F&&te?d({active:F,collisionRect:te,droppableRects:J,droppableContainers:j,pointerCoordinates:se}):null,Un=ro($e,"id"),[Fe,Yn]=c.useState(null),To=be?De:Ze(De,At),Ao=Bi(To,(s=Fe==null?void 0:Fe.rect)!=null?s:null,M),Vn=c.useCallback((Q,ce)=>{let{sensor:ue,options:Be}=ce;if(B.current==null)return;const ge=D.get(B.current);if(!ge)return;const Re=Q.nativeEvent,Ne=new ue({active:B.current,activeNode:ge,event:Re,options:Be,context:pe,onStart(Te){const at=B.current;if(at==null)return;const lt=D.get(at);if(!lt)return;const{onDragStart:It}=I.current,Nt={active:{id:at,data:lt.data,rect:z}};Je.unstable_batchedUpdates(()=>{It==null||It(Nt),C(We.Initializing),w({type:K.DragStart,initialCoordinates:Te,active:at}),S({type:"onDragStart",event:Nt})})},onMove(Te){w({type:K.DragMove,coordinates:Te})},onEnd:Ge(K.DragEnd),onCancel:Ge(K.DragCancel)});Je.unstable_batchedUpdates(()=>{A(Ne),L(Q.nativeEvent)});function Ge(Te){return async function(){const{active:lt,collisions:It,over:Nt,scrollAdjustedTranslate:qn}=pe.current;let ct=null;if(lt&&qn){const{cancelDrop:ut}=I.current;ct={activatorEvent:Re,active:lt,collisions:It,delta:qn,over:Nt},Te===K.DragEnd&&typeof ut=="function"&&await Promise.resolve(ut(ct))&&(Te=K.DragCancel)}B.current=null,Je.unstable_batchedUpdates(()=>{w({type:Te}),C(We.Uninitialized),Yn(null),A(null),L(null);const ut=Te===K.DragEnd?"onDragEnd":"onDragCancel";if(ct){const tn=I.current[ut];tn==null||tn(ct),S({type:ut,event:ct})}})}}},[D]),Io=c.useCallback((Q,ce)=>(ue,Be)=>{const ge=ue.nativeEvent,Re=D.get(Be);if(B.current!==null||!Re||ge.dndKit||ge.defaultPrevented)return;const Ne={active:Re};Q(ue,ce.options,Ne)===!0&&(ge.dndKit={capturedBy:ce.sensor},B.current=Be,Vn(ue,ce))},[D,Vn]),Kn=da(f,Io);ya(f),ye(()=>{M&&x===We.Initializing&&C(We.Initialized)},[M,x]),c.useEffect(()=>{const{onDragMove:Q}=I.current,{active:ce,activatorEvent:ue,collisions:Be,over:ge}=pe.current;if(!ce||!ue)return;const Re={active:ce,activatorEvent:ue,collisions:Be,delta:{x:V.x,y:V.y},over:ge};Je.unstable_batchedUpdates(()=>{Q==null||Q(Re),S({type:"onDragMove",event:Re})})},[V.x,V.y]),c.useEffect(()=>{const{active:Q,activatorEvent:ce,collisions:ue,droppableContainers:Be,scrollAdjustedTranslate:ge}=pe.current;if(!Q||B.current==null||!ce||!ge)return;const{onDragOver:Re}=I.current,Ne=Be.get(Un),Ge=Ne&&Ne.rect.current?{id:Ne.id,rect:Ne.rect.current,data:Ne.data,disabled:Ne.disabled}:null,Te={active:Q,activatorEvent:ce,collisions:ue,delta:{x:ge.x,y:ge.y},over:Ge};Je.unstable_batchedUpdates(()=>{Yn(Ge),Re==null||Re(Te),S({type:"onDragOver",event:Te})})},[Un]),ye(()=>{pe.current={activatorEvent:P,active:F,activeNode:ee,collisionRect:te,collisions:$e,droppableRects:J,draggableNodes:D,draggingNode:he,draggingNodeRect:Pe,droppableContainers:O,over:Fe,scrollableAncestors:Z,scrollAdjustedTranslate:V},z.current={initial:Pe,translated:te}},[F,ee,$e,te,D,he,Pe,J,O,Fe,Z,V]),aa({...fe,delta:T,draggingRect:te,pointerCoordinates:se,scrollableAncestors:Z,scrollableAncestorRects:_e});const No=c.useMemo(()=>({active:F,activeNode:ee,activeNodeRect:M,activatorEvent:P,collisions:$e,containerNodeRect:Ve,dragOverlay:le,draggableNodes:D,droppableContainers:O,droppableRects:J,over:Fe,measureDroppableContainers:Ce,scrollableAncestors:Z,scrollableAncestorRects:_e,measuringConfiguration:W,measuringScheduled:Oe,windowRect:st}),[F,ee,M,P,$e,Ve,le,D,O,J,Fe,Ce,Z,_e,W,Oe,st]),Oo=c.useMemo(()=>({activatorEvent:P,activators:Kn,active:F,activeNodeRect:M,ariaDescribedById:{draggable:Y},dispatch:w,draggableNodes:D,over:Fe,measureDroppableContainers:Ce}),[P,Kn,F,M,w,Y,D,Fe,Ce]);return X.createElement(eo.Provider,{value:y},X.createElement(Rt.Provider,{value:Oo},X.createElement(yo.Provider,{value:No},X.createElement(en.Provider,{value:Ao},u)),X.createElement(Aa,{disabled:(a==null?void 0:a.restoreFocus)===!1})),X.createElement(ji,{...a,hiddenTextDescribedById:Y}));function Po(){const Q=(ne==null?void 0:ne.autoScrollEnabled)===!1,ce=typeof l=="object"?l.enabled===!1:l===!1,ue=E&&!Q&&!ce;return typeof l=="object"?{...l,enabled:ue}:{enabled:ue}}}),Pa=c.createContext(null),wr="button",ja="Droppable";function ka(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=Dt(ja),{activators:i,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:f,draggableNodes:d,over:h}=c.useContext(Rt),{role:p=wr,roleDescription:g="draggable",tabIndex:v=0}=o??{},m=(l==null?void 0:l.id)===t,w=c.useContext(m?en:Pa),[S,y]=zt(),[x,C]=zt(),E=xa(i,t),R=yt(n);ye(()=>(d.set(t,{id:t,key:s,node:S,activatorNode:x,data:R}),()=>{const T=d.get(t);T&&T.key===s&&d.delete(t)}),[d,t]);const D=c.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":m&&p===wr?!0:void 0,"aria-roledescription":g,"aria-describedby":f.draggable}),[r,p,v,m,g,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:D,isDragging:m,listeners:r?void 0:E,node:S,over:h,setNodeRef:y,setActivatorNodeRef:C,transform:w}}function wo(){return c.useContext(yo)}const Ma="Droppable",za={timeout:25};function La(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=Dt(Ma),{active:i,dispatch:a,over:l,measureDroppableContainers:u}=c.useContext(Rt),f=c.useRef({disabled:n}),d=c.useRef(!1),h=c.useRef(null),p=c.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:m}={...za,...o},w=yt(v??r),S=c.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),p.current=null},m)},[m]),y=Qt({callback:S,disabled:g||!i}),x=c.useCallback((D,T)=>{y&&(T&&(y.unobserve(T),d.current=!1),D&&y.observe(D))},[y]),[C,E]=zt(x),R=yt(t);return c.useEffect(()=>{!y||!C.current||(y.disconnect(),d.current=!1,y.observe(C.current))},[C,y]),ye(()=>(a({type:K.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:h,data:R}}),()=>a({type:K.UnregisterDroppable,key:s,id:r})),[r]),c.useEffect(()=>{n!==f.current.disabled&&(a({type:K.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,a]),{active:i,rect:h,isOver:(l==null?void 0:l.id)===r,node:C,over:l,setNodeRef:E}}function _a(e){let{animation:t,children:n}=e;const[r,o]=c.useState(null),[s,i]=c.useState(null),a=Lt(n);return!n&&!r&&a&&o(a),ye(()=>{if(!s)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){o(null);return}Promise.resolve(t(u,s)).then(()=>{o(null)})},[t,r,s]),X.createElement(X.Fragment,null,n,r?c.cloneElement(r,{ref:i}):null)}const $a={x:0,y:0,scaleX:1,scaleY:1};function Fa(e){let{children:t}=e;return X.createElement(Rt.Provider,{value:mo},X.createElement(en.Provider,{value:$a},t))}const Ba={position:"fixed",touchAction:"none"},Wa=e=>Jt(e)?"transform 250ms ease":void 0,Ha=c.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:s,className:i,rect:a,style:l,transform:u,transition:f=Wa}=e;if(!a)return null;const d=o?u:{...u,scaleX:1,scaleY:1},h={...Ba,width:a.width,height:a.height,top:a.top,left:a.left,transform:Xe.Transform.toString(d),transformOrigin:o&&r?Mi(r,a):void 0,transition:typeof f=="function"?f(r):f,...l};return X.createElement(n,{className:i,style:h,ref:t},s)}),Xa=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:s,className:i}=e;if(s!=null&&s.active)for(const[a,l]of Object.entries(s.active))l!==void 0&&(o[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(s!=null&&s.dragOverlay)for(const[a,l]of Object.entries(s.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[l,u]of Object.entries(o))n.node.style.setProperty(l,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},Ua=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Xe.Transform.toString(t)},{transform:Xe.Transform.toString(n)}]},Ya={duration:250,easing:"ease",keyframes:Ua,sideEffects:Xa({styles:{active:{opacity:"0"}}})};function Va(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return Gt((s,i)=>{if(t===null)return;const a=n.get(s);if(!a)return;const l=a.node.current;if(!l)return;const u=vo(i);if(!u)return;const{transform:f}=oe(i).getComputedStyle(i),d=so(f);if(!d)return;const h=typeof t=="function"?t:Ka(t);return po(l,o.draggable.measure),h({active:{id:s,data:a.data,node:l,rect:o.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:i,rect:o.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:o,transform:d})})}function Ka(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...Ya,...e};return s=>{let{active:i,dragOverlay:a,transform:l,...u}=s;if(!t)return;const f={x:a.rect.left-i.rect.left,y:a.rect.top-i.rect.top},d={scaleX:l.scaleX!==1?i.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?i.rect.height*l.scaleY/a.rect.height:1},h={x:l.x-f.x,y:l.y-f.y,...d},p=o({...u,active:i,dragOverlay:a,transform:{initial:l,final:h}}),[g]=p,v=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(v))return;const m=r==null?void 0:r({active:i,dragOverlay:a,...u}),w=a.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(S=>{w.onfinish=()=>{m==null||m(),S()}})}}let Sr=0;function qa(e){return c.useMemo(()=>{if(e!=null)return Sr++,Sr},[e])}const Ga=X.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:s,modifiers:i,wrapperElement:a="div",className:l,zIndex:u=999}=e;const{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:p,draggableNodes:g,droppableContainers:v,dragOverlay:m,over:w,measuringConfiguration:S,scrollableAncestors:y,scrollableAncestorRects:x,windowRect:C}=wo(),E=c.useContext(en),R=qa(d==null?void 0:d.id),D=xo(i,{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:m.rect,over:w,overlayNodeRect:m.rect,scrollableAncestors:y,scrollableAncestorRects:x,transform:E,windowRect:C}),T=Fn(h),O=Va({config:r,draggableNodes:g,droppableContainers:v,measuringConfiguration:S}),N=T?m.setRef:void 0;return X.createElement(Fa,null,X.createElement(_a,{animation:O},d&&R?X.createElement(Ha,{key:R,id:d.id,ref:N,as:a,activatorEvent:f,adjustScale:t,className:l,transition:s,rect:T,style:{zIndex:u,...o},transform:D},n):null))});function Bn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ja(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function Ot(e){return e!==null&&e>=0}function Za(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Qa(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Wn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=Bn(t,r,n),i=t[o],a=s[o];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},So="Sortable",Co=X.createContext({activeIndex:-1,containerId:So,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Wn,disabled:{draggable:!1,droppable:!1}});function el(e){let{children:t,id:n,items:r,strategy:o=Wn,disabled:s=!1}=e;const{active:i,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:f}=wo(),d=Dt(So,n),h=a.rect!==null,p=c.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),g=i!=null,v=i?p.indexOf(i.id):-1,m=u?p.indexOf(u.id):-1,w=c.useRef(p),S=!Za(p,w.current),y=m!==-1&&v===-1||S,x=Qa(s);ye(()=>{S&&g&&f(p)},[S,p,g,f]),c.useEffect(()=>{w.current=p},[p]);const C=c.useMemo(()=>({activeIndex:v,containerId:d,disabled:x,disableTransforms:y,items:p,overIndex:m,useDragOverlay:h,sortedRects:Ja(p,l),strategy:o}),[v,d,x.draggable,x.droppable,y,p,m,l,h,o]);return X.createElement(Co.Provider,{value:C},t)}const tl=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Bn(n,r,o).indexOf(t)},nl=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:i,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==s&&o===i?!1:n?!0:i!==o&&t===l},rl={duration:200,easing:"ease"},Eo="transform",ol=Xe.Transition.toString({property:Eo,duration:0,easing:"linear"}),sl={roleDescription:"sortable"};function il(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,i]=c.useState(null),a=c.useRef(n);return ye(()=>{if(!t&&n!==a.current&&r.current){const l=o.current;if(l){const u=rt(r.current,{ignoreTransform:!0}),f={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(f.x||f.y)&&i(f)}}n!==a.current&&(a.current=n)},[t,n,r,o]),c.useEffect(()=>{s&&i(null)},[s]),s}function al(e){let{animateLayoutChanges:t=nl,attributes:n,disabled:r,data:o,getNewIndex:s=tl,id:i,strategy:a,resizeObserverConfig:l,transition:u=rl}=e;const{items:f,containerId:d,activeIndex:h,disabled:p,disableTransforms:g,sortedRects:v,overIndex:m,useDragOverlay:w,strategy:S}=c.useContext(Co),y=ll(r,p),x=f.indexOf(i),C=c.useMemo(()=>({sortable:{containerId:d,index:x,items:f},...o}),[d,o,x,f]),E=c.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:R,node:D,isOver:T,setNodeRef:O}=La({id:i,data:C,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...l}}),{active:N,activatorEvent:z,activeNodeRect:F,attributes:B,setNodeRef:ne,listeners:A,isDragging:P,over:L,setActivatorNodeRef:I,transform:Y}=ka({id:i,data:C,attributes:{...sl,...n},disabled:y.draggable}),j=xi(O,ne),W=!!N,J=W&&!g&&Ot(h)&&Ot(m),Ce=!w&&P,Oe=Ce&&J?Y:null,Le=J?Oe??(a??S)({rects:v,activeNodeRect:F,activeIndex:h,overIndex:m,index:x}):null,fe=Ot(h)&&Ot(m)?s({id:i,items:f,activeIndex:h,overIndex:m}):x,ae=N==null?void 0:N.id,M=c.useRef({activeId:ae,items:f,newIndex:fe,containerId:d}),Ve=f!==M.current.items,pe=t({active:N,containerId:d,isDragging:P,isSorting:W,id:i,index:x,items:f,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:u,wasDragging:M.current.activeId!=null}),Ee=il({disabled:!pe,index:x,node:D,rect:R});return c.useEffect(()=>{W&&M.current.newIndex!==fe&&(M.current.newIndex=fe),d!==M.current.containerId&&(M.current.containerId=d),f!==M.current.items&&(M.current.items=f)},[W,fe,d,f]),c.useEffect(()=>{if(ae===M.current.activeId)return;if(ae&&!M.current.activeId){M.current.activeId=ae;return}const he=setTimeout(()=>{M.current.activeId=ae},50);return()=>clearTimeout(he)},[ae]),{active:N,activeIndex:h,attributes:B,data:C,rect:R,index:x,newIndex:fe,items:f,isOver:T,isSorting:W,isDragging:P,listeners:A,node:D,overIndex:m,over:L,setNodeRef:j,setActivatorNodeRef:I,setDroppableNodeRef:O,setDraggableNodeRef:ne,transform:Ee??Le,transition:le()};function le(){if(Ee||Ve&&M.current.newIndex===x)return ol;if(!(Ce&&!Jt(z)||!u)&&(W||pe))return Xe.Transition.toString({...u,property:Eo})}}function ll(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Bt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const cl=[k.Down,k.Right,k.Up,k.Left],ul=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:i,scrollableAncestors:a}}=t;if(cl.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=o.get(d.id);if(h)switch(e.code){case k.Down:r.top<h.top&&l.push(d);break;case k.Up:r.top>h.top&&l.push(d);break;case k.Left:r.left>h.left&&l.push(d);break;case k.Right:r.left<h.left&&l.push(d);break}});const u=_i({active:n,collisionRect:r,droppableRects:o,droppableContainers:l,pointerCoordinates:null});let f=ro(u,"id");if(f===(i==null?void 0:i.id)&&u.length>1&&(f=u[1].id),f!=null){const d=s.get(n.id),h=s.get(f),p=h?o.get(h.id):null,g=h==null?void 0:h.node.current;if(g&&p&&d&&h){const m=Zt(g).some((E,R)=>a[R]!==E),w=Do(d,h),S=dl(d,h),y=m||!w?{x:0,y:0}:{x:S?r.width-p.width:0,y:S?r.height-p.height:0},x={x:p.left,y:p.top};return y.x&&y.y?x:xt(x,y)}}}};function Do(e,t){return!Bt(e)||!Bt(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function dl(e,t){return!Bt(e)||!Bt(t)||!Do(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function fl({noteCard:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:o,transform:s,transition:i,isDragging:a}=al({id:e.id}),l={transform:Xe.Transform.toString(s),transition:i,zIndex:a?"100":"auto",opacity:a?.5:1};return b.jsx(Jr,{ref:o,style:l,...r,...n,noteCard:e,onClick:t})}function pl({onClick:e}){return b.jsx(Gr,{onClick:e,children:b.jsx(vi,{size:32})})}function hl({opened:e,onClose:t,noteCard:n,onCreate:r,onUpdate:o,onDelete:s}){const[i,a]=c.useState(""),[l,u]=c.useState(""),f=c.useRef(null),d=h=>{var p;h.preventDefault(),(p=f.current)==null||p.focus(),r(i,l),a(""),u("")};return c.useEffect(()=>{e&&(a((n==null?void 0:n.front)??""),u((n==null?void 0:n.back)??""))},[e]),c.useEffect(()=>{if(!e)return;const h=setTimeout(()=>{var p;(p=f.current)==null||p.focus()},200);return()=>clearTimeout(h)},[e]),b.jsx(Tr,{opened:e,onClose:t,title:"Deck Editor",size:360,lockScroll:!1,children:b.jsxs(de,{direction:"column",gap:"md",children:[b.jsx(et,{ref:f,value:i,onChange:h=>a(h.currentTarget.value),placeholder:"Front...",variant:"filled",autosize:!0,minRows:2}),b.jsx(et,{value:l,onChange:h=>u(h.currentTarget.value),placeholder:"Back...",variant:"filled",autosize:!0,minRows:3}),b.jsxs(de,{gap:"xs",children:[n&&b.jsxs(b.Fragment,{children:[b.jsx(He,{onClick:()=>s(n.id),variant:"light",color:"red",mih:48,children:b.jsx(ft,{fw:600,children:"DELETE"})}),b.jsx(He,{onClick:()=>o(n.id,i,l),mih:48,style:{flex:1},children:b.jsx(ft,{fw:600,children:"UPDATE"})})]}),!n&&b.jsx(He,{onClick:d,mih:48,style:{flex:1},children:b.jsx(ft,{fw:600,children:"CREATE"})})]})]})})}function ln(e){if(!Hn(e))throw new Error("Parameter was not an error")}function Hn(e){return bl(e)==="[object Error]"||e instanceof Error}function bl(e){return Object.prototype.toString.call(e)}function gl(e){let t,n="";if(e.length===0)t={};else if(Hn(e[0]))t={cause:e[0]},n=e.slice(1).join(" ")||"";else if(e[0]&&typeof e[0]=="object")t=Object.assign({},e[0]),n=e.slice(1).join(" ")||"";else if(typeof e[0]=="string")t={},n=n=e.join(" ")||"";else throw new Error("Invalid arguments passed to Layerr");return{options:t,shortMessage:n}}class Ae extends Error{constructor(t,n){const r=[...arguments],{options:o,shortMessage:s}=gl(r);let i=s;if(o.cause&&(i=`${i}: ${o.cause.message}`),super(i),this.message=i,o.name&&typeof o.name=="string"?this.name=o.name:this.name="Layerr",o.cause&&Object.defineProperty(this,"_cause",{value:o.cause}),Object.defineProperty(this,"_info",{value:{}}),o.info&&typeof o.info=="object"&&Object.assign(this._info,o.info),Error.captureStackTrace){const a=o.constructorOpt||this.constructor;Error.captureStackTrace(this,a)}}static cause(t){return ln(t),t._cause&&Hn(t._cause)?t._cause:null}static fullStack(t){ln(t);const n=Ae.cause(t);return n?`${t.stack}
caused by: ${Ae.fullStack(n)}`:t.stack}static info(t){ln(t);const n={},r=Ae.cause(t);return r&&Object.assign(n,Ae.info(r)),t._info&&Object.assign(n,t._info),n}cause(){return Ae.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const Ro="0123456789ABCDEFGHJKMNPQRSTVWXYZ",gt=32,Cr=0xffffffffffff,vl=10,ml=16,dt=Object.freeze({source:"ulid"});function yl(e){const t=xl(),n=t&&(t.crypto||t.msCrypto)||null;if(typeof(n==null?void 0:n.getRandomValues)=="function")return()=>{const r=new Uint8Array(1);return n.getRandomValues(r),r[0]/255};if(typeof(n==null?void 0:n.randomBytes)=="function")return()=>n.randomBytes(1).readUInt8()/255;throw new Ae({info:{code:"PRNG_DETECT",...dt}},"Failed to find a reliable PRNG")}function xl(){return Cl()?self:typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:null}function wl(e,t){let n="";for(;e>0;e--)n=El(t)+n;return n}function Sl(e,t){if(isNaN(e))throw new Ae({info:{code:"ENC_TIME_NAN",...dt}},`Time must be a number: ${e}`);if(e>Cr)throw new Ae({info:{code:"ENC_TIME_SIZE_EXCEED",...dt}},`Cannot encode a time larger than ${Cr}: ${e}`);if(e<0)throw new Ae({info:{code:"ENC_TIME_NEG",...dt}},`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new Ae({info:{code:"ENC_TIME_TYPE",...dt}},`Time must be an integer: ${e}`);let n,r="";for(let o=t;o>0;o--)n=e%gt,r=Ro.charAt(n)+r,e=(e-n)/gt;return r}function Cl(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function El(e){let t=Math.floor(e()*gt);return t===gt&&(t=gt-1),Ro.charAt(t)}function Xn(e,t){const n=yl(),r=isNaN(e)?Date.now():e;return Sl(r,vl)+wl(ml,n)}function Dl(e,t){const n=Qo(),[r,o]=c.useState(void 0),s=ki(ur(n==="android"||n==="ios"?bo:$n,{activationConstraint:{delay:250,tolerance:5}}),ur(Ln,{coordinateGetter:ul}));return{active:r,sensors:s,handleDragStart:l=>{o(e.find(u=>u.id===l.active.id))},handleDragEnd:l=>{const{active:u,over:f}=l;u.id!==f.id&&t(d=>{const h=e.findIndex(g=>g.id===u.id),p=d.findIndex(g=>g.id===f.id);return Bn(e,h,p)})}}}function Rl(e,t,n){const[r,{open:o,close:s}]=Ar(),[i,a]=c.useState(void 0);return{opened:r,open:o,close:s,deckEditorData:i,setDeckEditorData:a,onDeckEditorCreate:(d,h)=>{const p=[...t],g={id:Xn(),deckId:e,createdAt:`${Date.now()}`,front:d,back:h,order:0};p.push(g),n(p)},onDeckEditorUpdate:(d,h,p)=>{const g=[...t],v=g.find(m=>m.id===d);v&&(v.front=h,v.back=p),n(g),s()},onDeckEditorDelete:d=>{const h=[...t],p=h.findIndex(g=>g.id===d);p!==-1&&h.splice(p,1),n(h),s()}}}function Tl({opened:e,onClose:t}){const n=Pt(()=>H.tags.toArray()),[r,o]=c.useState(""),s=async()=>{await H.transaction("rw",H.tags,async()=>{await H.tags.add({id:Xn(),name:r})}),o("")},i=(l,u)=>{H.transaction("rw",H.tags,async()=>{await H.tags.put({id:l,name:u})})},a=l=>{H.transaction("rw",H.tags,async()=>{await H.tags.where({id:l}).delete()})};return b.jsx(Tr,{opened:e,onClose:t,title:"Tag Editor",size:360,lockScroll:!1,children:b.jsxs(de,{direction:"column",gap:"md",children:[b.jsxs(de,{gap:"xs",children:[b.jsx(Mt,{value:r,onChange:l=>o(l.currentTarget.value),placeholder:"Enter Tag",style:{flex:1}}),b.jsx(He,{onClick:s,children:"Add"})]}),n&&b.jsxs(b.Fragment,{children:[b.jsx(un,{}),b.jsx(de,{direction:"column",gap:"xs",children:n.map(l=>b.jsxs(de,{gap:"xs",children:[b.jsx(Mt,{value:l.name,onChange:u=>i(l.id,u.currentTarget.value),placeholder:"Enter Tag",style:{flex:1}}),b.jsx(He,{onClick:()=>a(l.id),variant:"light",color:"red",leftSection:b.jsx(Fo,{size:16}),children:"Delete"})]},l.id))})]})]})})}function kl(){var Y;const e=Bo(),t=(Y=Pt(()=>e.id?H.decks.where({id:e.id}).toArray():[],[e.id]))==null?void 0:Y[0],n=Pt(async()=>e.id?(await H.noteCards.where({deckId:e.id}).toArray()).sort((W,J)=>W.order-J.order):[],[e.id]),r=Pt(()=>H.tags.toArray()),o=Wo(),s=Ho(),[i,a]=c.useState(Xn()),[l,u]=c.useState(""),[f,d]=c.useState(""),[h,p]=c.useState(""),[g,v]=c.useState([]),{active:m,sensors:w,handleDragStart:S,handleDragEnd:y}=Dl(g,v),{opened:x,open:C,close:E,deckEditorData:R,setDeckEditorData:D,onDeckEditorCreate:T,onDeckEditorUpdate:O,onDeckEditorDelete:N}=Rl(i,g,v),[z,{open:F,close:B}]=Ar(),ne=()=>{D(void 0),C()},A=j=>{D(j),C()},P=()=>{H.transaction("rw",H.decks,H.noteCards,async()=>{g.forEach((j,W)=>{j.order=W}),await H.decks.add({id:i,title:l,description:f,createdAt:`${Date.now()}`,tagId:h,favourited:!1,cardCount:g.length,practicedCount:0,lastPracticedAt:""}),await H.noteCards.bulkAdd(g)}),I()},L=()=>{t&&(H.transaction("rw",H.decks,H.noteCards,async()=>{g.forEach((j,W)=>{j.order=W}),await H.decks.put({id:t.id,createdAt:t.createdAt,title:l,description:f,tagId:h,favourited:t.favourited,cardCount:g.length,practicedCount:t.practicedCount,lastPracticedAt:t.lastPracticedAt}),await H.noteCards.bulkPut(g)}),I())},I=()=>{s(-1)};return c.useEffect(()=>{t&&(a(t.id),u(t.title),d(t.description),p(t.tagId))},[t]),c.useEffect(()=>{n&&v(JSON.parse(JSON.stringify(n)))},[n]),b.jsxs(b.Fragment,{children:[b.jsxs(Go.div,{initial:{opacity:0},animate:{opacity:1},children:[b.jsxs(de,{direction:"column",h:64,pos:"fixed",top:0,left:0,right:0,style:{zIndex:100},children:[b.jsx(Xo,{maw:o.breakpoints.xs,w:"100%",h:"100%",mx:"auto",children:b.jsxs(de,{align:"center",px:"md",h:"100%",children:[b.jsx(Uo,{onClick:I,size:48,variant:"subtle",children:b.jsx(Jo,{variant:"transparent",color:"gray",children:b.jsx(Zo,{size:32})})}),b.jsx(Gn,{order:4,ta:"center",style:{flex:1},children:e.id?"Update Deck":"Create Deck"}),b.jsx("div",{style:{width:48,height:48}})]})}),b.jsx(un,{size:"md"})]}),b.jsxs(de,{direction:"column",mx:"auto",maw:o.breakpoints.xs,px:"md",pt:80,pb:80,children:[b.jsxs(de,{direction:"column",gap:"xs",children:[b.jsx(et,{value:l,onChange:j=>u(j.currentTarget.value),placeholder:"Title",variant:"filled",autosize:!0}),b.jsx(et,{value:f,onChange:j=>d(j.currentTarget.value),placeholder:"Description (Optional)",variant:"filled",autosize:!0}),b.jsxs(de,{gap:"xs",children:[b.jsx(jn,{value:h,onChange:j=>p(j??""),data:r==null?void 0:r.map(j=>({value:j.id,label:j.name})),placeholder:"Tag"}),b.jsx(He,{onClick:F,style:{flexShrink:0},children:"View Tags"})]})]}),b.jsx(Gn,{order:4,pt:"md",children:"Cards"}),b.jsx(un,{pb:"xs"}),b.jsx(Oa,{sensors:w,collisionDetection:Li,onDragEnd:y,onDragStart:S,children:b.jsx(el,{items:g,strategy:Wn,children:b.jsxs(de,{wrap:"wrap",gap:"xs",className:Yo,children:[b.jsx(pl,{onClick:ne}),g.map(j=>b.jsx(fl,{noteCard:j,onClick:()=>A(j)},j.id)),b.jsx(Ga,{children:m&&b.jsx(Jr,{noteCard:m})})]})})})]}),b.jsx(He,{onClick:e.id?L:P,mx:"auto",maw:ke(o.breakpoints.xs),mih:48,pos:"fixed",bottom:o.spacing.md,left:o.spacing.md,right:o.spacing.md,children:b.jsx(ft,{fw:600,children:e.id?"UPDATE DECK":"CREATE DECK"})})]}),b.jsx(hl,{opened:x,onClose:E,onCreate:T,onUpdate:O,onDelete:N,noteCard:R}),b.jsx(Tl,{opened:z,onClose:B})]})}export{kl as default};
