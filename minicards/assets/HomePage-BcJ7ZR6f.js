import{u as A,a as I,j as s,f as Q,b as U,c as $,e as q,B as J,d as K,g as X,h as u,i as Y,k as Z,F as x,T as ee,w as se,r as ae,l as te,m as re,n as oe,o as b}from"./index-DjykrxEX.js";import{C as k,u as P}from"./dexie-react-hooks-BTWxocMR.js";import{m as ce}from"./motion-CzsAcyyV.js";import{c as ie,C as le}from"./CheckIcon-3aP4UDvg.js";const[ne,de]=ie(),pe={};function R(t){const{value:a,defaultValue:c,onChange:r,multiple:o,children:i}=A("ChipGroup",pe,t),[e,l]=I({value:a,defaultValue:c,finalValue:o?[]:null,onChange:r}),y=n=>Array.isArray(e)?e.includes(n):n===e,C=n=>{const d=n.currentTarget.value;Array.isArray(e)?l(e.includes(d)?e.filter(p=>p!==d):[...e,d]):l(d)};return s.jsx(ne,{value:{isChipSelected:y,onChange:C,multiple:o},children:i})}R.displayName="@mantine/core/ChipGroup";var V={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const he={type:"checkbox"},ue=K((t,{size:a,radius:c,variant:r,color:o,autoContrast:i})=>{const e=t.variantColorResolver({color:o||t.primaryColor,theme:t,variant:r||"filled",autoContrast:i});return{root:{"--chip-fz":X(a),"--chip-size":u(a,"chip-size"),"--chip-radius":c===void 0?void 0:Y(c),"--chip-checked-padding":u(a,"chip-checked-padding"),"--chip-padding":u(a,"chip-padding"),"--chip-icon-size":u(a,"chip-icon-size"),"--chip-bg":o||r?e.background:void 0,"--chip-hover":o||r?e.hover:void 0,"--chip-color":o||r?e.color:void 0,"--chip-bd":o||r?e.border:void 0,"--chip-spacing":u(a,"chip-spacing")}}}),v=Q((t,a)=>{const c=A("Chip",he,t),{classNames:r,className:o,style:i,styles:e,unstyled:l,vars:y,id:C,checked:n,defaultChecked:d,onChange:p,value:j,wrapperProps:B,type:G,disabled:w,children:N,size:z,variant:_,icon:F,rootRef:D,autoContrast:me,mod:E,...L}=c,h=U({name:"Chip",classes:V,props:c,className:o,style:i,classNames:r,styles:e,unstyled:l,vars:y,varsResolver:ue}),m=de(),S=$(C),{styleProps:W,rest:H}=q(L),[M,O]=I({value:n,defaultValue:d,finalValue:!1,onChange:p}),T=m?{checked:m.isChipSelected(j),onChange:f=>{m.onChange(f),p==null||p(f.currentTarget.checked)},type:m.multiple?"checkbox":"radio"}:{},g=T.checked||M;return s.jsxs(J,{size:z,variant:_,ref:D,mod:E,...h("root"),...W,...B,children:[s.jsx("input",{type:G,...h("input"),checked:g,onChange:f=>O(f.currentTarget.checked),id:S,disabled:w,ref:a,value:j,...T,...H}),s.jsxs("label",{htmlFor:S,"data-checked":g||void 0,"data-disabled":w||void 0,...h("label",{variant:_||"filled"}),children:[g&&s.jsx("span",{...h("iconWrapper"),children:F||s.jsx(le,{...h("checkIcon")})}),s.jsx("span",{children:N})]})]})});v.classes=V;v.displayName="@mantine/core/Chip";v.Group=R;function xe({deck:t,onClick:a}){return s.jsxs(Z,{onClick:()=>a==null?void 0:a(t),variant:"transparent",px:0,w:"100%",h:"100%",style:{aspectRatio:"3 / 4"},styles:{root:{overflow:"visible"},label:{overflow:"visible",flex:1}},children:[s.jsx(x,{pos:"relative",pb:10,w:"100%",h:"100%",children:s.jsx(k,{withBorder:!0,w:"100%",h:"100%",shadow:"xs",children:s.jsx(x,{align:"center",justify:"center",w:"100%",h:"100%",children:s.jsx(ee,{lineClamp:6,className:se,children:t.title})})})}),s.jsx(k,{withBorder:!0,shadow:"xs",w:"100%",h:"calc(100% - 10px)",pos:"absolute",top:5,style:{zIndex:-1}}),s.jsx(k,{withBorder:!0,shadow:"xs",w:"100%",h:"calc(100% - 10px)",pos:"absolute",top:10,style:{zIndex:-2}})]})}function ge(){const[t,a]=ae.useState(""),c=P(()=>t?b.decks.where({tagId:t}).toArray():b.decks.toArray(),[t]),r=P(()=>b.tags.toArray()),o=e=>{a(t===e?"":e)},i=e=>{oe.setState(l=>{l.modals.deck={opened:!0,item:e}})};return s.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},children:s.jsxs(x,{direction:"column",children:[s.jsx(te,{order:4,pb:"xs",children:"My Decks"}),s.jsx(x,{wrap:"wrap",gap:"xs",pb:"xs",children:r==null?void 0:r.map(e=>s.jsx(v,{onClick:()=>o(e.id),checked:e.id===t,children:e.name},e.id))}),s.jsx(x,{wrap:"wrap",gap:"xs",className:re,children:c==null?void 0:c.map(e=>s.jsx(xe,{deck:e,onClick:i},e.id))})]})})}export{ge as default};
