import{r as w,ah as J,u as C,R as m,t as $,U as De,f as F,H as Q,I as V,J as de,aL as Ee,K as Se,X as Ae,L as Ne,O as ue,W as me,aK as Pe,aM as Re,aN as Te,N as Le,V as _e,aO as $e,a1 as U,l as t,B as W,F as y,E as ze,a3 as pe,ay as he,aP as Ge,i as ve,ab as Oe,T as K,aQ as Be,D as O,a7 as X,q as le,a5 as Fe,v as Ve,aR as Ue,aS as He,w as qe,g as Ze,a as Ke,av as ie,aT as Xe}from"./index--tMnp0QA.js";import{C as fe}from"./ContentAsset-JGabO6BC.js";import{P as Y,u as Je}from"./Popover-jNgEmYdh.js";import{u as Qe}from"./use-disclosure-pdmMuT63.js";function B(r,s){let e=r;for(;(e=e.parentElement)&&!e.matches(s););return e}function We(r,s,e){for(let o=r-1;o>=0;o-=1)if(!s[o].disabled)return o;if(e){for(let o=s.length-1;o>-1;o-=1)if(!s[o].disabled)return o}return r}function Ye(r,s,e){for(let o=r+1;o<s.length;o+=1)if(!s[o].disabled)return o;if(e){for(let o=0;o<s.length;o+=1)if(!s[o].disabled)return o}return r}function et(r,s,e){return B(r,e)===B(s,e)}function tt({parentSelector:r,siblingSelector:s,onKeyDown:e,loop:o=!0,activateOnFocus:c=!1,dir:n="rtl",orientation:i}){return a=>{var d;e==null||e(a);const l=Array.from(((d=B(a.currentTarget,r))==null?void 0:d.querySelectorAll(s))||[]).filter(f=>et(a.currentTarget,f,r)),v=l.findIndex(f=>a.currentTarget===f),p=Ye(v,l,o),h=We(v,l,o),u=n==="rtl"?h:p,j=n==="rtl"?p:h;switch(a.key){case"ArrowRight":{i==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[u].focus(),c&&l[u].click());break}case"ArrowLeft":{i==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[j].focus(),c&&l[j].click());break}case"ArrowUp":{i==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),c&&l[h].click());break}case"ArrowDown":{i==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),c&&l[p].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const f=l.length-1;!l[f].disabled&&l[f].focus();break}}}}function k(r,s){return e=>{r==null||r(e),s==null||s(e)}}function ot(r,s,e){var o;return e?Array.from(((o=B(e,s))==null?void 0:o.querySelectorAll(r))||[]).findIndex(c=>c===e):null}function st(){const[r,s]=w.useState(-1);return[r,{setHovered:s,resetHovered:()=>s(-1)}]}var ge={root:"m-849cf0da"};const rt={underline:"hover"},_=J((r,s)=>{const{underline:e,className:o,unstyled:c,...n}=C("Anchor",rt,r);return m.createElement($,{component:"a",ref:s,className:De({[ge.root]:!c},o),...n,mod:{underline:e},__staticSelector:"Anchor",unstyled:c})});_.classes=ge;_.displayName="@mantine/core/Anchor";const xe=w.createContext(null),nt=xe.Provider;function at(){return{withinGroup:!!w.useContext(xe)}}var ct={root:"m-f85678b6",image:"m-11f8ac07",placeholder:"m-104cd71f",group:"m-11def92b"};const H=ct,lt={},it=de((r,{spacing:s})=>({group:{"--ag-spacing":Ee(s)}})),ee=F((r,s)=>{const e=C("AvatarGroup",lt,r),{classNames:o,className:c,style:n,styles:i,unstyled:a,vars:l,spacing:v,...p}=e,h=Q({name:"AvatarGroup",classes:H,props:e,className:c,style:n,classNames:o,styles:i,unstyled:a,vars:l,varsResolver:it,rootSelector:"group"});return m.createElement(nt,{value:!0},m.createElement(V,{ref:s,...h("group"),...p}))});ee.classes=H;ee.displayName="@mantine/core/AvatarGroup";function dt(r){return m.createElement("svg",{...r,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const ut={},mt=de((r,{size:s,radius:e,variant:o,gradient:c,color:n,autoContrast:i})=>{const a=r.variantColorResolver({color:n||"gray",theme:r,gradient:c,variant:o||"light",autoContrast:i});return{root:{"--avatar-size":Se(s,"avatar-size"),"--avatar-radius":e===void 0?void 0:Ae(e),"--avatar-bg":n||o?a.background:void 0,"--avatar-color":n||o?a.color:void 0,"--avatar-bd":n||o?a.border:void 0}}}),q=J((r,s)=>{const e=C("Avatar",ut,r),{classNames:o,className:c,style:n,styles:i,unstyled:a,vars:l,src:v,alt:p,radius:h,color:u,gradient:j,imageProps:d,children:f,autoContrast:b,...x}=e,I=at(),[D,A]=w.useState(!v),S=Q({name:"Avatar",props:e,classes:H,className:c,style:n,classNames:o,styles:i,unstyled:a,vars:l,varsResolver:mt});return w.useEffect(()=>A(!v),[v]),m.createElement(V,{...S("root"),mod:{"within-group":I.withinGroup},ref:s,...x},D?m.createElement("span",{...S("placeholder"),title:p},f||m.createElement(dt,null)):m.createElement("img",{...d,...S("image"),src:v,alt:p,onError:T=>{var N;A(!0),(N=d==null?void 0:d.onError)==null||N.call(d,T)}}))});q.classes=H;q.displayName="@mantine/core/Avatar";q.Group=ee;function pt({open:r,close:s,openDelay:e,closeDelay:o}){const c=w.useRef(-1),n=w.useRef(-1),i=()=>{window.clearTimeout(c.current),window.clearTimeout(n.current)},a=()=>{i(),e===0||e===void 0?r():c.current=window.setTimeout(r,e)},l=()=>{i(),o===0||o===void 0?s():n.current=window.setTimeout(s,o)};return w.useEffect(()=>i,[]),{openDropdown:a,closeDropdown:l}}const[ht,z]=Ne("Menu component was not found in the tree");var vt={dropdown:"m-dc9b7c9f",label:"m-9bfac126",divider:"m-efdf90cb",item:"m-99ac2aa1",itemLabel:"m-5476e0d3",itemSection:"m-8b75e504"};const R=vt,ft={},te=F((r,s)=>{const{classNames:e,className:o,style:c,styles:n,vars:i,...a}=C("MenuDivider",ft,r),l=z();return m.createElement(V,{ref:s,...l.getStyles("divider",{className:o,style:c,styles:n,classNames:e}),...a})});te.classes=R;te.displayName="@mantine/core/MenuDivider";const gt={},oe=F((r,s)=>{const{classNames:e,className:o,style:c,styles:n,vars:i,onMouseEnter:a,onMouseLeave:l,children:v,...p}=C("MenuDropdown",gt,r),h=w.useRef(null),u=z(),j=b=>{var x,I;(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),(I=(x=h.current)==null?void 0:x.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||I.focus())},d=k(a,()=>(u.trigger==="hover"||u.trigger==="click-hover")&&u.openDropdown()),f=k(l,()=>(u.trigger==="hover"||u.trigger==="click-hover")&&u.closeDropdown());return m.createElement(Y.Dropdown,{...p,onMouseEnter:d,onMouseLeave:f,role:"menu","aria-orientation":"vertical",ref:ue(s,h),...u.getStyles("dropdown",{className:o,style:c,styles:n,classNames:e}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:j},m.createElement("div",{tabIndex:-1,"data-autofocus":!0}),v)});oe.classes=R;oe.displayName="@mantine/core/MenuDropdown";const xt={},se=J((r,s)=>{const{classNames:e,className:o,style:c,styles:n,vars:i,color:a,closeMenuOnClick:l,leftSection:v,rightSection:p,children:h,disabled:u,...j}=C("MenuItem",xt,r),d=z(),f=me(),{dir:b}=Pe(),x=w.useRef(),I=d.getItemIndex(x.current),D=j,A=k(D.onMouseLeave,()=>d.setHovered(-1)),S=k(D.onMouseEnter,()=>d.setHovered(d.getItemIndex(x.current))),T=k(D.onClick,()=>{typeof l=="boolean"?l&&d.closeDropdownImmediately():d.closeOnItemClick&&d.closeDropdownImmediately()}),N=k(D.onFocus,()=>d.setHovered(d.getItemIndex(x.current))),E=a?f.variantColorResolver({color:a,theme:f,variant:"light"}):void 0,M=a?Re({color:a,theme:f}):null;return m.createElement(Te,{...j,unstyled:d.unstyled,tabIndex:d.menuItemTabIndex,onFocus:N,...d.getStyles("item",{className:o,style:c,styles:n,classNames:e}),ref:ue(x,s),role:"menuitem",disabled:u,"data-menu-item":!0,"data-disabled":u||void 0,"data-hovered":d.hovered===I?!0:void 0,onMouseEnter:S,onMouseLeave:A,onClick:T,onKeyDown:tt({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:d.loop,dir:b,orientation:"vertical",onKeyDown:D.onKeydown}),__vars:{"--menu-item-color":M!=null&&M.isThemeColor&&(M==null?void 0:M.shade)===void 0?`var(--mantine-color-${M.color}-6)`:E==null?void 0:E.color,"--menu-item-hover":E==null?void 0:E.hover}},v&&m.createElement("div",{...d.getStyles("itemSection",{styles:n,classNames:e}),"data-position":"left"},v),h&&m.createElement("div",{...d.getStyles("itemLabel",{styles:n,classNames:e})},h),p&&m.createElement("div",{...d.getStyles("itemSection",{styles:n,classNames:e}),"data-position":"right"},p))});se.classes=R;se.displayName="@mantine/core/MenuItem";const yt={},re=F((r,s)=>{const{classNames:e,className:o,style:c,styles:n,vars:i,...a}=C("MenuLabel",yt,r),l=z();return m.createElement(V,{ref:s,...l.getStyles("label",{className:o,style:c,styles:n,classNames:e}),...a})});re.classes=R;re.displayName="@mantine/core/MenuLabel";const wt={refProp:"ref"},ye=w.forwardRef((r,s)=>{const{children:e,refProp:o,...c}=C("MenuTarget",wt,r);if(!Le(e))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const n=z(),i=k(e.props.onClick,()=>{n.trigger==="click"?n.toggleDropdown():n.trigger==="click-hover"&&(n.setOpenedViaClick(!0),n.opened||n.openDropdown())}),a=k(e.props.onMouseEnter,()=>(n.trigger==="hover"||n.trigger==="click-hover")&&n.openDropdown()),l=k(e.props.onMouseLeave,()=>{(n.trigger==="hover"||n.trigger==="click-hover"&&!n.openedViaClick)&&n.closeDropdown()});return m.createElement(Y.Target,{refProp:o,popupType:"menu",ref:s,...c},w.cloneElement(e,{onClick:i,onMouseEnter:a,onMouseLeave:l,"data-expanded":n.opened?!0:void 0}))});ye.displayName="@mantine/core/MenuTarget";const jt={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function g(r){const s=C("Menu",jt,r),{children:e,onOpen:o,onClose:c,opened:n,defaultOpened:i,trapFocus:a,onChange:l,closeOnItemClick:v,loop:p,closeOnEscape:h,trigger:u,openDelay:j,closeDelay:d,classNames:f,styles:b,unstyled:x,variant:I,vars:D,menuItemTabIndex:A,...S}=s,T=Q({name:"Menu",classes:R,props:s,classNames:f,styles:b,unstyled:x}),[N,{setHovered:E,resetHovered:M}]=st(),[P,ne]=Je({value:n,defaultValue:i,finalValue:!1,onChange:l}),[we,ae]=w.useState(!1),G=()=>{ne(!1),ae(!1),P&&(c==null||c())},Z=()=>{ne(!0),!P&&(o==null||o())},ce=()=>{P?G():Z()},{openDropdown:je,closeDropdown:be}=pt({open:Z,close:G,closeDelay:d,openDelay:j}),Me=Ie=>ot("[data-menu-item]","[data-menu-dropdown]",Ie),{resolvedClassNames:ke,resolvedStyles:Ce}=_e({classNames:f,styles:b,props:s});return $e(()=>{M()},[P]),m.createElement(ht,{value:{getStyles:T,opened:P,toggleDropdown:ce,getItemIndex:Me,hovered:N,setHovered:E,openedViaClick:we,setOpenedViaClick:ae,closeOnItemClick:v,closeDropdown:u==="click"?G:be,openDropdown:u==="click"?Z:je,closeDropdownImmediately:G,loop:p,trigger:u,unstyled:x,menuItemTabIndex:A}},m.createElement(Y,{...S,opened:P,onChange:ce,defaultOpened:i,trapFocus:a,closeOnEscape:h,__staticSelector:"Menu",classNames:ke,styles:Ce,unstyled:x,variant:I},e))}g.extend=r=>r;g.classes=R;g.displayName="@mantine/core/Menu";g.Item=se;g.Label=re;g.Dropdown=oe;g.Target=ye;g.Divider=te;var bt=U("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),Mt=U("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),kt=U("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),Ct=U("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);function L({children:r,emoji:s,active:e,onClick:o}){return t.jsx(W,{variant:"subtle",c:e?void 0:"var(--text-color)",p:0,radius:0,w:"20%",h:"auto",onClick:o,children:t.jsxs(y,{direction:"column",align:"center",children:[s&&t.jsx(ze,{emoji:s,size:24}),t.jsx($,{fz:10,children:r})]})})}function It({onClick:r,level:s}){return t.jsxs(pe,{variant:"default",radius:"md",size:48,onClick:r,children:[t.jsx(fe,{image:he("angel")}),t.jsx(Ge,{variant:"default",size:"sm",pos:"absolute",top:"100%",style:{transform:"translate(0,-50%)"},children:t.jsx($,{children:s})})]})}function Dt({}){const r=()=>{},s=()=>{};return t.jsx(t.Fragment,{children:t.jsxs(g,{width:200,shadow:"md",position:"bottom-end",children:[t.jsx(g.Target,{children:t.jsx(pe,{size:32,radius:"xl",children:t.jsx(Mt,{})})}),t.jsxs(g.Dropdown,{children:[t.jsx(g.Item,{leftSection:t.jsx(kt,{size:14}),onClick:r,children:"Edit Username"}),t.jsx(g.Divider,{}),t.jsx(g.Item,{leftSection:t.jsx(Ct,{size:14}),color:"red",onClick:s,children:"Log Out"})]})]})})}function Et({opened:r,onClose:s}){const e=ve(i=>i.player),o=(e==null?void 0:e.level)??0,c=(e==null?void 0:e.xp)??0,n=Ue(o);return t.jsx(Oe,{opened:r,onClose:s,centered:!0,size:360,title:"Player Details",children:t.jsxs(y,{direction:"column",gap:"xl",children:[t.jsxs(y,{direction:"column",children:[t.jsxs(y,{justify:"space-between",children:[t.jsx("div",{style:{width:32,height:32,visibility:"hidden"}}),t.jsx(fe,{image:he("angel"),size:64}),t.jsx(Dt,{})]}),t.jsx(K,{order:4,ta:"center",className:Be,children:e==null?void 0:e.username}),t.jsx(O,{label:t.jsx($,{fw:"bold",children:`Level ${o}`})}),t.jsx(X.Root,{size:24,w:"100%",children:t.jsx(X.Section,{value:c/n*100,children:t.jsx(X.Label,{pos:"absolute",style:{transform:"translate(-50%,0)",left:"50%"},children:`${le(c)} / ${le(n)} XP`})})})]}),t.jsxs(y,{direction:"column",gap:"xs",children:[t.jsx(O,{label:"Account Manager"}),t.jsx(W,{h:"auto",py:"md",variant:"default",styles:{label:{flex:1}},children:t.jsxs(y,{align:"center",gap:"xs",w:"100%",children:[t.jsx(q,{}),t.jsx($,{fw:"bold",ta:"left",truncate:!0,style:{flex:1},children:e==null?void 0:e.username}),t.jsx(bt,{})]})})]}),t.jsxs(y,{direction:"column",align:"center",children:[t.jsx(_,{href:"https://dorkodu.com",target:"_blank",mb:"xs",children:t.jsx(Fe,{src:"/idle-demo/dorkodu-logo.svg",mah:48})}),t.jsxs(K,{order:5,children:["© Dorkodu ",new Date().getFullYear()]}),t.jsx(K,{order:6,children:`Idle Demo v${Ve}`}),t.jsxs(y,{gap:"xs",children:[t.jsx(_,{href:"/privacy-policy",children:"Privacy Policy"}),t.jsx(_,{href:"/terms-of-service",children:"Terms of Service"})]})]})]})})}function Rt(){var p,h;const[r,{open:s,close:e}]=Qe(),o=me(),c=He(),n=qe(u=>u.route),i=ve(u=>u.player),a=i==null?void 0:i.level,l=(p=i==null?void 0:i.items[Ze])==null?void 0:p.count,v=(h=i==null?void 0:i.items[Ke])==null?void 0:h.count;return t.jsxs(t.Fragment,{children:[t.jsxs(y,{direction:"column",mx:"auto",pos:"fixed",top:0,left:0,right:0,maw:o.breakpoints.xs,h:80,children:[t.jsxs(y,{direction:"row",align:"center",gap:"xs",px:"md",h:"100%",children:[t.jsx(It,{level:a,onClick:s}),t.jsxs(y,{gap:"xs",justify:"end",style:{flex:1},children:[t.jsx(ie,{emoji:"🪙",count:l,button:!0}),t.jsx(ie,{emoji:"💎",count:v,button:!0})]})]}),t.jsx(O,{})]}),t.jsx(y,{direction:"column",mx:"auto",p:"md",pos:"fixed",top:80,bottom:64,left:0,right:0,maw:o.breakpoints.xs,children:t.jsx(Xe,{})}),t.jsxs(y,{direction:"column",mx:"auto",pos:"fixed",bottom:0,left:0,right:0,maw:o.breakpoints.xs,h:64,children:[t.jsx(O,{}),t.jsxs(W.Group,{h:"100%",children:[t.jsx(L,{onClick:()=>c("/shop"),active:n==="shop",emoji:"🛒",children:"Shop"}),t.jsx(L,{onClick:()=>c("/bag"),active:n==="bag",emoji:"🎒",children:"Bag"}),t.jsx(L,{onClick:()=>c("/campaign"),active:n==="campaign",emoji:"⚔️",children:"Campaign"}),t.jsx(L,{onClick:()=>c("/map"),active:n==="map",emoji:"🗺",children:"Map"}),t.jsx(L,{onClick:()=>c("/events"),active:n==="events",emoji:"📢",children:"Events"})]})]}),t.jsx(Et,{opened:r,onClose:e})]})}export{Rt as default};
