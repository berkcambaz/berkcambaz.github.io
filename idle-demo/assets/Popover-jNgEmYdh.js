import{r as f,L as he,f as M,u as R,aU as Pe,O as V,R as g,aV as ve,aW as ye,aX as xe,I as be,S as Oe,aY as De,N as Ee,U as Re,aZ as Te,a_ as Ce,aO as U,a$ as Se,b0 as Fe,b1 as Ne,b2 as Ie,b3 as ke,b4 as _e,b5 as ze,H as Ae,aK as Ue,P as $e,b6 as Me,b7 as Ve,J as Ke,X as Le,b8 as Xe}from"./index--tMnp0QA.js";const Ye=()=>{};function He(e,a={active:!0}){return typeof e!="function"||!a.active?a.onKeyDown||Ye:r=>{var n;r.key==="Escape"&&(e(r),(n=a.onTrigger)==null||n.call(a))}}const $=["mousedown","touchstart"];function je(e,a,r){const n=f.useRef();return f.useEffect(()=>{const l=i=>{const{target:o}=i??{};if(Array.isArray(r)){const s=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";r.every(c=>!!c&&!i.composedPath().includes(c))&&!s&&e()}else n.current&&!n.current.contains(o)&&e()};return(a||$).forEach(i=>document.addEventListener(i,l)),()=>{(a||$).forEach(i=>document.removeEventListener(i,l))}},[n,e,r]),n}function We({value:e,defaultValue:a,finalValue:r,onChange:n=()=>{}}){const[l,i]=f.useState(a!==void 0?a:r),o=(s,...u)=>{i(s),n==null||n(s,...u)};return e!==void 0?[e,n,!0]:[l,o,!1]}const[Ze,K]=he("Popover component was not found in the tree");var Be={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const L=Be,Je={},T=M((e,a)=>{var h,P,v,x;const r=R("PopoverDropdown",Je,e),{className:n,style:l,vars:i,children:o,onKeyDownCapture:s,variant:u,classNames:c,styles:m,...p}=r,t=K(),w=Pe({opened:t.opened,shouldReturnFocus:t.returnFocus}),O=t.withRoles?{"aria-labelledby":t.getTargetId(),id:t.getDropdownId(),role:"dialog",tabIndex:-1}:{},D=V(a,t.floating);return t.disabled?null:g.createElement(ve,{...t.portalProps,withinPortal:t.withinPortal},g.createElement(ye,{mounted:t.opened,...t.transitionProps,transition:((h=t.transitionProps)==null?void 0:h.transition)||"fade",duration:((P=t.transitionProps)==null?void 0:P.duration)??150,keepMounted:t.keepMounted,exitDuration:typeof((v=t.transitionProps)==null?void 0:v.exitDuration)=="number"?t.transitionProps.exitDuration:(x=t.transitionProps)==null?void 0:x.duration},E=>g.createElement(xe,{active:t.trapFocus},g.createElement(be,{...O,...p,variant:u,ref:D,onKeyDownCapture:He(t.onClose,{active:t.closeOnEscape,onTrigger:w,onKeyDown:s}),"data-position":t.placement,...t.getStyles("dropdown",{className:n,props:r,classNames:c,styles:m,style:[{...E,zIndex:t.zIndex,top:t.y??0,left:t.x??0,width:t.width==="target"?void 0:Oe(t.width)},l]})},o,g.createElement(De,{ref:t.arrowRef,arrowX:t.arrowX,arrowY:t.arrowY,visible:t.withArrow,position:t.placement,arrowSize:t.arrowSize,arrowRadius:t.arrowRadius,arrowOffset:t.arrowOffset,arrowPosition:t.arrowPosition,...t.getStyles("arrow",{props:r,classNames:c,styles:m})})))))});T.classes=L;T.displayName="@mantine/core/PopoverDropdown";const qe={refProp:"ref",popupType:"dialog"},X=M((e,a)=>{const{children:r,refProp:n,popupType:l,...i}=R("PopoverTarget",qe,e);if(!Ee(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=i,s=K(),u=V(s.reference,r.ref,a),c=s.withRoles?{"aria-haspopup":l,"aria-expanded":s.opened,"aria-controls":s.getDropdownId(),id:s.getTargetId()}:{};return f.cloneElement(r,{...o,...c,...s.targetProps,className:Re(s.targetProps.className,o.className,r.props.className),[n]:u,...s.controlled?null:{onClick:s.onToggle}})});X.displayName="@mantine/core/PopoverTarget";function Ge(e,a){var n,l,i,o;const r=[Se(e.offset)];return(n=e.middlewares)!=null&&n.shift&&r.push(Fe({limiter:Ne()})),(l=e.middlewares)!=null&&l.flip&&r.push(Ie()),(i=e.middlewares)!=null&&i.inline&&r.push(ke()),r.push(_e({element:e.arrowRef,padding:e.arrowOffset})),((o=e.middlewares)!=null&&o.size||e.width==="target")&&r.push(ze({apply({rects:s,availableWidth:u,availableHeight:c}){var t,w;const p=((t=a().refs.floating.current)==null?void 0:t.style)??{};(w=e.middlewares)!=null&&w.size&&Object.assign(p,{maxWidth:`${u}px`,maxHeight:`${c}px`}),e.width==="target"&&Object.assign(p,{width:`${s.reference.width}px`})}})),r}function Qe(e){const[a,r]=We({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=()=>{var o;a&&((o=e.onClose)==null||o.call(e),r(!1))},l=()=>{var o,s;a?((o=e.onClose)==null||o.call(e),r(!1)):((s=e.onOpen)==null||s.call(e),r(!0))},i=Te({placement:e.position,middleware:Ge(e,()=>i)});return Ce({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:i}),U(()=>{var o;(o=e.onPositionChange)==null||o.call(e,i.placement)},[i.placement]),U(()=>{var o,s;e.opened?(s=e.onOpen)==null||s.call(e):(o=e.onClose)==null||o.call(e)},[e.opened]),{floating:i,controlled:typeof e.opened=="boolean",opened:a,onClose:n,onToggle:l}}const et={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ve("popover"),__staticSelector:"Popover",width:"max-content"},tt=Ke((e,{radius:a,shadow:r})=>({dropdown:{"--popover-radius":a===void 0?void 0:Le(a),"--popover-shadow":Xe(r)}}));function b(e){var N,I,k,_,z,A;const a=R("Popover",et,e),{children:r,position:n,offset:l,onPositionChange:i,positionDependencies:o,opened:s,transitionProps:u,width:c,middlewares:m,withArrow:p,arrowSize:t,arrowOffset:w,arrowRadius:O,arrowPosition:D,unstyled:h,classNames:P,styles:v,closeOnClickOutside:x,withinPortal:E,portalProps:Y,closeOnEscape:H,clickOutsideEvents:j,trapFocus:W,onClose:Z,onOpen:B,onChange:J,zIndex:q,radius:G,shadow:Q,id:ee,defaultOpened:te,__staticSelector:C,withRoles:re,disabled:oe,returnFocus:ae,variant:se,keepMounted:ne,vars:ie,...le}=a,de=Ae({name:C,props:a,classes:L,classNames:P,styles:v,unstyled:h,rootSelector:"dropdown",vars:ie,varsResolver:tt}),S=f.useRef(null),[ce,ue]=f.useState(null),[fe,pe]=f.useState(null),{dir:we}=Ue(),F=$e(ee),d=Qe({middlewares:m,width:c,position:Me(we,n),offset:typeof l=="number"?l+(p?t/2:0):l,arrowRef:S,arrowOffset:w,onPositionChange:i,positionDependencies:o,opened:s,defaultOpened:te,onChange:J,onOpen:B,onClose:Z});je(()=>x&&d.onClose(),j,[ce,fe]);const ge=f.useCallback(y=>{ue(y),d.floating.refs.setReference(y)},[d.floating.refs.setReference]),me=f.useCallback(y=>{pe(y),d.floating.refs.setFloating(y)},[d.floating.refs.setFloating]);return g.createElement(Ze,{value:{returnFocus:ae,disabled:oe,controlled:d.controlled,reference:ge,floating:me,x:d.floating.x,y:d.floating.y,arrowX:(k=(I=(N=d.floating)==null?void 0:N.middlewareData)==null?void 0:I.arrow)==null?void 0:k.x,arrowY:(A=(z=(_=d.floating)==null?void 0:_.middlewareData)==null?void 0:z.arrow)==null?void 0:A.y,opened:d.opened,arrowRef:S,transitionProps:u,width:c,withArrow:p,arrowSize:t,arrowOffset:w,arrowRadius:O,arrowPosition:D,placement:d.floating.placement,trapFocus:W,withinPortal:E,portalProps:Y,zIndex:q,radius:G,shadow:Q,closeOnEscape:H,onClose:d.onClose,onToggle:d.onToggle,getTargetId:()=>`${F}-target`,getDropdownId:()=>`${F}-dropdown`,withRoles:re,targetProps:le,__staticSelector:C,classNames:P,styles:v,unstyled:h,variant:se,keepMounted:ne,getStyles:de}},r)}b.Target=X;b.Dropdown=T;b.displayName="@mantine/core/Popover";b.extend=e=>e;export{b as P,We as u};
