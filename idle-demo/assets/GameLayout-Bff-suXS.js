import{r as j,ak as W,u as D,j as e,t as $,V as Se,f as B,H as Y,I as de,J as U,aM as _e,Y as Pe,L as Ae,M as Ne,O as ue,X as pe,aN as Te,aO as Ee,aP as Re,N as Le,W as $e,aQ as Fe,aR as ze,a2 as V,B as J,F as x,E as Oe,a4 as me,aB as he,aS as Ge,i as ge,ad as Be,T as X,aT as Ue,D as O,a8 as K,q as ce,aU as Ve,a6 as He,v as qe,aV as Ze,w as Xe,g as Ke,e as We,ay as le,aW as Ye}from"./index-jqdp_aed.js";import{C as ve}from"./ContentAsset-D04L5cy0.js";import{P as Q,u as Je}from"./Popover-W28Oqex8.js";import{u as Qe}from"./use-disclosure-Bxt8GHo-.js";function G(n,o){let t=n;for(;(t=t.parentElement)&&!t.matches(o););return t}function et(n,o,t){for(let s=n-1;s>=0;s-=1)if(!o[s].disabled)return s;if(t){for(let s=o.length-1;s>-1;s-=1)if(!o[s].disabled)return s}return n}function tt(n,o,t){for(let s=n+1;s<o.length;s+=1)if(!o[s].disabled)return s;if(t){for(let s=0;s<o.length;s+=1)if(!o[s].disabled)return s}return n}function ot(n,o,t){return G(n,t)===G(o,t)}function st({parentSelector:n,siblingSelector:o,onKeyDown:t,loop:s=!0,activateOnFocus:a=!1,dir:r="rtl",orientation:c}){return i=>{var h;t==null||t(i);const l=Array.from(((h=G(i.currentTarget,n))==null?void 0:h.querySelectorAll(o))||[]).filter(m=>ot(i.currentTarget,m,n)),d=l.findIndex(m=>i.currentTarget===m),p=tt(d,l,s),v=et(d,l,s);switch(i.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{i.stopPropagation(),i.preventDefault(),l[v].focus(),a&&l[v].click();break}case"ArrowDown":{i.stopPropagation(),i.preventDefault(),l[p].focus(),a&&l[p].click();break}case"Home":{i.stopPropagation(),i.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{i.stopPropagation(),i.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}function M(n,o){return t=>{n==null||n(t),o==null||o(t)}}function nt(n,o,t){var s;return t?Array.from(((s=G(t,o))==null?void 0:s.querySelectorAll(n))||[]).findIndex(a=>a===t):null}function rt(){const[n,o]=j.useState(-1);return[n,{setHovered:o,resetHovered:()=>o(-1)}]}var fe={root:"m_849cf0da"};const at={underline:"hover"},L=W((n,o)=>{const{underline:t,className:s,unstyled:a,mod:r,...c}=D("Anchor",at,n);return e.jsx($,{component:"a",ref:o,className:Se({[fe.root]:!a},s),...c,mod:[{underline:t},r],__staticSelector:"Anchor",unstyled:a})});L.classes=fe;L.displayName="@mantine/core/Anchor";const xe=j.createContext(null),it=xe.Provider;function ct(){return{withinGroup:!!j.useContext(xe)}}var H={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const lt={},dt=de((n,{spacing:o})=>({group:{"--ag-spacing":_e(o)}})),ee=B((n,o)=>{const t=D("AvatarGroup",lt,n),{classNames:s,className:a,style:r,styles:c,unstyled:i,vars:l,spacing:d,...p}=t,v=Y({name:"AvatarGroup",classes:H,props:t,className:a,style:r,classNames:s,styles:c,unstyled:i,vars:l,varsResolver:dt,rootSelector:"group"});return e.jsx(it,{value:!0,children:e.jsx(U,{ref:o,...v("group"),...p})})});ee.classes=H;ee.displayName="@mantine/core/AvatarGroup";function ut(n){return e.jsx("svg",{...n,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function pt(n){let o=0;for(let t=0;t<n.length;t+=1){const s=n.charCodeAt(t);o=(o<<5)-o+s,o|=0}return o}const mt=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function ht(n,o=mt){const t=pt(n),s=Math.abs(t)%o.length;return o[s]}function gt(n,o=2){const t=n.split(" ");return t.length===1?n.slice(0,o).toUpperCase():t.map(s=>s[0]).slice(0,o).join("").toUpperCase()}const vt={},ft=de((n,{size:o,radius:t,variant:s,gradient:a,color:r,autoContrast:c,name:i,allowedInitialsColors:l})=>{const d=r==="initials"&&typeof i=="string"?ht(i,l):r,p=n.variantColorResolver({color:d||"gray",theme:n,gradient:a,variant:s||"light",autoContrast:c});return{root:{"--avatar-size":Ae(o,"avatar-size"),"--avatar-radius":t===void 0?void 0:Pe(t),"--avatar-bg":d||s?p.background:void 0,"--avatar-color":d||s?p.color:void 0,"--avatar-bd":d||s?p.border:void 0}}}),q=W((n,o)=>{const t=D("Avatar",vt,n),{classNames:s,className:a,style:r,styles:c,unstyled:i,vars:l,src:d,alt:p,radius:v,color:h,gradient:m,imageProps:f,children:u,autoContrast:k,mod:b,name:y,allowedInitialsColors:_,...I}=t,P=ct(),[E,A]=j.useState(!d),S=Y({name:"Avatar",props:t,classes:H,className:a,style:r,classNames:s,styles:c,unstyled:i,vars:l,varsResolver:ft});return j.useEffect(()=>A(!d),[d]),e.jsx(U,{...S("root"),mod:[{"within-group":P.withinGroup},b],ref:o,...I,children:E?e.jsx("span",{...S("placeholder"),title:p,children:u||typeof y=="string"&&gt(y)||e.jsx(ut,{})}):e.jsx("img",{...f,...S("image"),src:d,alt:p,onError:C=>{var w;A(!0),(w=f==null?void 0:f.onError)==null||w.call(f,C)}})})});q.classes=H;q.displayName="@mantine/core/Avatar";q.Group=ee;function xt({open:n,close:o,openDelay:t,closeDelay:s}){const a=j.useRef(-1),r=j.useRef(-1),c=()=>{window.clearTimeout(a.current),window.clearTimeout(r.current)},i=()=>{c(),t===0||t===void 0?n():a.current=window.setTimeout(n,t)},l=()=>{c(),s===0||s===void 0?o():r.current=window.setTimeout(o,s)};return j.useEffect(()=>c,[]),{openDropdown:i,closeDropdown:l}}const[jt,F]=Ne("Menu component was not found in the tree");var T={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const yt={},te=B((n,o)=>{const{classNames:t,className:s,style:a,styles:r,vars:c,...i}=D("MenuDivider",yt,n),l=F();return e.jsx(U,{ref:o,...l.getStyles("divider",{className:s,style:a,styles:r,classNames:t}),...i})});te.classes=T;te.displayName="@mantine/core/MenuDivider";const wt={},oe=B((n,o)=>{const{classNames:t,className:s,style:a,styles:r,vars:c,onMouseEnter:i,onMouseLeave:l,onKeyDown:d,children:p,...v}=D("MenuDropdown",wt,n),h=j.useRef(null),m=F(),f=M(d,b=>{var y,_;(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),(_=(y=h.current)==null?void 0:y.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||_.focus())}),u=M(i,()=>(m.trigger==="hover"||m.trigger==="click-hover")&&m.openDropdown()),k=M(l,()=>(m.trigger==="hover"||m.trigger==="click-hover")&&m.closeDropdown());return e.jsxs(Q.Dropdown,{...v,onMouseEnter:u,onMouseLeave:k,role:"menu","aria-orientation":"vertical",ref:ue(o,h),...m.getStyles("dropdown",{className:s,style:a,styles:r,classNames:t,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:f,children:[m.withInitialFocusPlaceholder&&e.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),p]})});oe.classes=T;oe.displayName="@mantine/core/MenuDropdown";const bt={},se=W((n,o)=>{const{classNames:t,className:s,style:a,styles:r,vars:c,color:i,closeMenuOnClick:l,leftSection:d,rightSection:p,children:v,disabled:h,"data-disabled":m,...f}=D("MenuItem",bt,n),u=F(),k=pe(),{dir:b}=Te(),y=j.useRef(null),_=u.getItemIndex(y.current),I=f,P=M(I.onMouseLeave,()=>u.setHovered(-1)),E=M(I.onMouseEnter,()=>u.setHovered(u.getItemIndex(y.current))),A=M(I.onClick,()=>{m||(typeof l=="boolean"?l&&u.closeDropdownImmediately():u.closeOnItemClick&&u.closeDropdownImmediately())}),S=M(I.onFocus,()=>u.setHovered(u.getItemIndex(y.current))),C=i?k.variantColorResolver({color:i,theme:k,variant:"light"}):void 0,w=i?Ee({color:i,theme:k}):null;return e.jsxs(Re,{...f,unstyled:u.unstyled,tabIndex:u.menuItemTabIndex,onFocus:S,...u.getStyles("item",{className:s,style:a,styles:r,classNames:t}),ref:ue(y,o),role:"menuitem",disabled:h,"data-menu-item":!0,"data-disabled":h||m||void 0,"data-hovered":u.hovered===_?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:E,onMouseLeave:P,onClick:A,onKeyDown:st({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:u.loop,dir:b,orientation:"vertical",onKeyDown:I.onKeyDown}),__vars:{"--menu-item-color":w!=null&&w.isThemeColor&&(w==null?void 0:w.shade)===void 0?`var(--mantine-color-${w.color}-6)`:C==null?void 0:C.color,"--menu-item-hover":C==null?void 0:C.hover},children:[d&&e.jsx("div",{...u.getStyles("itemSection",{styles:r,classNames:t}),"data-position":"left",children:d}),v&&e.jsx("div",{...u.getStyles("itemLabel",{styles:r,classNames:t}),children:v}),p&&e.jsx("div",{...u.getStyles("itemSection",{styles:r,classNames:t}),"data-position":"right",children:p})]})});se.classes=T;se.displayName="@mantine/core/MenuItem";const Ct={},ne=B((n,o)=>{const{classNames:t,className:s,style:a,styles:r,vars:c,...i}=D("MenuLabel",Ct,n),l=F();return e.jsx(U,{ref:o,...l.getStyles("label",{className:s,style:a,styles:r,classNames:t}),...i})});ne.classes=T;ne.displayName="@mantine/core/MenuLabel";const Mt={refProp:"ref"},je=j.forwardRef((n,o)=>{const{children:t,refProp:s,...a}=D("MenuTarget",Mt,n);if(!Le(t))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const r=F(),c=t.props,i=M(c.onClick,()=>{r.trigger==="click"?r.toggleDropdown():r.trigger==="click-hover"&&(r.setOpenedViaClick(!0),r.opened||r.openDropdown())}),l=M(c.onMouseEnter,()=>(r.trigger==="hover"||r.trigger==="click-hover")&&r.openDropdown()),d=M(c.onMouseLeave,()=>{(r.trigger==="hover"||r.trigger==="click-hover"&&!r.openedViaClick)&&r.closeDropdown()});return e.jsx(Q.Target,{refProp:s,popupType:"menu",ref:o,...a,children:j.cloneElement(t,{onClick:i,onMouseEnter:l,onMouseLeave:d,"data-expanded":r.opened?!0:void 0})})});je.displayName="@mantine/core/MenuTarget";const kt={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function g(n){const o=D("Menu",kt,n),{children:t,onOpen:s,onClose:a,opened:r,defaultOpened:c,trapFocus:i,onChange:l,closeOnItemClick:d,loop:p,closeOnEscape:v,trigger:h,openDelay:m,closeDelay:f,classNames:u,styles:k,unstyled:b,variant:y,vars:_,menuItemTabIndex:I,keepMounted:P,withInitialFocusPlaceholder:E,...A}=o,S=Y({name:"Menu",classes:T,props:o,classNames:u,styles:k,unstyled:b}),[C,{setHovered:w,resetHovered:ye}]=rt(),[N,re]=Je({value:r,defaultValue:c,finalValue:!1,onChange:l}),[we,ae]=j.useState(!1),z=()=>{re(!1),ae(!1),N&&(a==null||a())},Z=()=>{re(!0),!N&&(s==null||s())},ie=()=>{N?z():Z()},{openDropdown:be,closeDropdown:Ce}=xt({open:Z,close:z,closeDelay:f,openDelay:m}),Me=De=>nt("[data-menu-item]","[data-menu-dropdown]",De),{resolvedClassNames:ke,resolvedStyles:Ie}=$e({classNames:u,styles:k,props:o});return Fe(()=>{ye()},[N]),e.jsx(jt,{value:{getStyles:S,opened:N,toggleDropdown:ie,getItemIndex:Me,hovered:C,setHovered:w,openedViaClick:we,setOpenedViaClick:ae,closeOnItemClick:d,closeDropdown:h==="click"?z:Ce,openDropdown:h==="click"?Z:be,closeDropdownImmediately:z,loop:p,trigger:h,unstyled:b,menuItemTabIndex:I,withInitialFocusPlaceholder:E},children:e.jsx(Q,{...A,opened:N,onChange:ie,defaultOpened:c,trapFocus:P?!1:i,closeOnEscape:v,__staticSelector:"Menu",classNames:ke,styles:Ie,unstyled:b,variant:y,keepMounted:P,children:t})})}g.extend=n=>n;g.withProps=ze(g);g.classes=T;g.displayName="@mantine/core/Menu";g.Item=se;g.Label=ne;g.Dropdown=oe;g.Target=je;g.Divider=te;var It=V("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),Dt=V("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),St=V("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),_t=V("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);function R({children:n,emoji:o,active:t,onClick:s}){return e.jsx(J,{variant:"subtle",c:t?void 0:"var(--text-color)",p:0,radius:0,w:"20%",h:"auto",onClick:s,children:e.jsxs(x,{direction:"column",align:"center",children:[o&&e.jsx(Oe,{emoji:o,size:24}),e.jsx($,{fz:10,children:n})]})})}function Pt({onClick:n,level:o}){return e.jsxs(me,{variant:"default",radius:"md",size:48,onClick:n,children:[e.jsx(ve,{image:he("angel")}),e.jsx(Ge,{variant:"default",size:"sm",pos:"absolute",top:"100%",style:{transform:"translate(0,-50%)"},children:e.jsx($,{children:o})})]})}function At({}){const n=()=>{},o=()=>{};return e.jsx(e.Fragment,{children:e.jsxs(g,{width:200,shadow:"md",position:"bottom-end",children:[e.jsx(g.Target,{children:e.jsx(me,{size:32,radius:"xl",children:e.jsx(Dt,{})})}),e.jsxs(g.Dropdown,{children:[e.jsx(g.Item,{leftSection:e.jsx(St,{size:14}),onClick:n,children:"Edit Username"}),e.jsx(g.Divider,{}),e.jsx(g.Item,{leftSection:e.jsx(_t,{size:14}),color:"red",onClick:o,children:"Log Out"})]})]})})}function Nt({opened:n,onClose:o}){const t=ge(c=>c.player),s=(t==null?void 0:t.level)??0,a=(t==null?void 0:t.xp)??0,r=Ve(s);return e.jsx(Be,{opened:n,onClose:o,centered:!0,size:360,title:"Player Details",children:e.jsxs(x,{direction:"column",gap:"xl",children:[e.jsxs(x,{direction:"column",children:[e.jsxs(x,{justify:"space-between",children:[e.jsx("div",{style:{width:32,height:32,visibility:"hidden"}}),e.jsx(ve,{image:he("angel"),size:64}),e.jsx(At,{})]}),e.jsx(X,{order:4,ta:"center",className:Ue,children:t==null?void 0:t.username}),e.jsx(O,{label:e.jsx($,{fw:"bold",children:`Level ${s}`})}),e.jsx(K.Root,{size:24,w:"100%",children:e.jsx(K.Section,{value:a/r*100,children:e.jsx(K.Label,{pos:"absolute",style:{transform:"translate(-50%,0)",left:"50%"},children:`${ce(a)} / ${ce(r)} XP`})})})]}),e.jsxs(x,{direction:"column",gap:"xs",children:[e.jsx(O,{label:"Account Manager"}),e.jsx(J,{h:"auto",py:"md",variant:"default",styles:{label:{flex:1}},children:e.jsxs(x,{align:"center",gap:"xs",w:"100%",children:[e.jsx(q,{}),e.jsx($,{fw:"bold",ta:"left",truncate:!0,style:{flex:1},children:t==null?void 0:t.username}),e.jsx(It,{})]})})]}),e.jsxs(x,{direction:"column",align:"center",children:[e.jsx(L,{href:"https://dorkodu.com",target:"_blank",mb:"xs",children:e.jsx(He,{src:"/idle-demo/dorkodu-logo.svg",mah:48})}),e.jsxs(X,{order:5,children:["© Dorkodu ",new Date().getFullYear()]}),e.jsx(X,{order:6,children:`Idle Demo v${qe}`}),e.jsxs(x,{gap:"xs",children:[e.jsx(L,{href:"/privacy-policy",children:"Privacy Policy"}),e.jsx(L,{href:"/terms-of-service",children:"Terms of Service"})]})]})]})})}function $t(){var p,v;const[n,{open:o,close:t}]=Qe(),s=pe(),a=Ze(),r=Xe(h=>h.route),c=ge(h=>h.player),i=c==null?void 0:c.level,l=(p=c==null?void 0:c.items[Ke])==null?void 0:p.count,d=(v=c==null?void 0:c.items[We])==null?void 0:v.count;return e.jsxs(e.Fragment,{children:[e.jsxs(x,{direction:"column",mx:"auto",pos:"fixed",top:0,left:0,right:0,maw:s.breakpoints.xs,h:80,children:[e.jsxs(x,{direction:"row",align:"center",gap:"xs",px:"md",h:"100%",children:[e.jsx(Pt,{level:i,onClick:o}),e.jsxs(x,{gap:"xs",justify:"end",style:{flex:1},children:[e.jsx(le,{emoji:"🪙",count:l,button:!0}),e.jsx(le,{emoji:"💎",count:d,button:!0})]})]}),e.jsx(O,{})]}),e.jsx(x,{direction:"column",mx:"auto",p:"md",pos:"fixed",top:80,bottom:64,left:0,right:0,maw:s.breakpoints.xs,children:e.jsx(Ye,{})}),e.jsxs(x,{direction:"column",mx:"auto",pos:"fixed",bottom:0,left:0,right:0,maw:s.breakpoints.xs,h:64,children:[e.jsx(O,{}),e.jsxs(J.Group,{h:"100%",children:[e.jsx(R,{onClick:()=>a("/shop"),active:r==="shop",emoji:"🛒",children:"Shop"}),e.jsx(R,{onClick:()=>a("/bag"),active:r==="bag",emoji:"🎒",children:"Bag"}),e.jsx(R,{onClick:()=>a("/campaign"),active:r==="campaign",emoji:"⚔️",children:"Campaign"}),e.jsx(R,{onClick:()=>a("/map"),active:r==="map",emoji:"🗺",children:"Map"}),e.jsx(R,{onClick:()=>a("/events"),active:r==="events",emoji:"📢",children:"Events"})]})]}),e.jsx(Nt,{opened:n,onClose:t})]})}export{$t as default};
