import{r as w,f as B,u as E,H as J,R as p,I as F,J as ie,aN as Ie,ah as de,K as De,X as Ee,L as Se,O as ue,W as me,aK as Ae,aO as Pe,aP as Ne,N as Re,V as Te,aQ as Le,a1 as V,j as t,B as Q,F as y,E as _e,t as $,a3 as pe,ay as he,aR as ze,i as ve,ab as $e,T as Z,aS as Ge,D as G,a7 as K,q as ce,a5 as Oe,v as Be,aT as Fe,aL as Ve,w as He,g as Ue,a as qe,av as le,aM as Ze}from"./index-d3W-edxA.js";import{C as fe}from"./ContentAsset-L_QpDIiQ.js";import{P as W,u as Ke}from"./Popover-6318afA5.js";import{A as X}from"./Anchor-tcJI28t7.js";import{u as Xe}from"./use-disclosure-JhSf_ZMC.js";function O(r,s){let e=r;for(;(e=e.parentElement)&&!e.matches(s););return e}function Je(r,s,e){for(let o=r-1;o>=0;o-=1)if(!s[o].disabled)return o;if(e){for(let o=s.length-1;o>-1;o-=1)if(!s[o].disabled)return o}return r}function Qe(r,s,e){for(let o=r+1;o<s.length;o+=1)if(!s[o].disabled)return o;if(e){for(let o=0;o<s.length;o+=1)if(!s[o].disabled)return o}return r}function We(r,s,e){return O(r,e)===O(s,e)}function Ye({parentSelector:r,siblingSelector:s,onKeyDown:e,loop:o=!0,activateOnFocus:c=!1,dir:n="rtl",orientation:i}){return a=>{var d;e==null||e(a);const l=Array.from(((d=O(a.currentTarget,r))==null?void 0:d.querySelectorAll(s))||[]).filter(f=>We(a.currentTarget,f,r)),v=l.findIndex(f=>a.currentTarget===f),m=Qe(v,l,o),h=Je(v,l,o),u=n==="rtl"?h:m,j=n==="rtl"?m:h;switch(a.key){case"ArrowRight":{i==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[u].focus(),c&&l[u].click());break}case"ArrowLeft":{i==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[j].focus(),c&&l[j].click());break}case"ArrowUp":{i==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),c&&l[h].click());break}case"ArrowDown":{i==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[m].focus(),c&&l[m].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const f=l.length-1;!l[f].disabled&&l[f].focus();break}}}}function k(r,s){return e=>{r==null||r(e),s==null||s(e)}}function et(r,s,e){var o;return e?Array.from(((o=O(e,s))==null?void 0:o.querySelectorAll(r))||[]).findIndex(c=>c===e):null}function tt(){const[r,s]=w.useState(-1);return[r,{setHovered:s,resetHovered:()=>s(-1)}]}const ge=w.createContext(null),ot=ge.Provider;function st(){return{withinGroup:!!w.useContext(ge)}}var rt={root:"m-f85678b6",image:"m-11f8ac07",placeholder:"m-104cd71f",group:"m-11def92b"};const H=rt,nt={},at=ie((r,{spacing:s})=>({group:{"--ag-spacing":Ie(s)}})),Y=B((r,s)=>{const e=E("AvatarGroup",nt,r),{classNames:o,className:c,style:n,styles:i,unstyled:a,vars:l,spacing:v,...m}=e,h=J({name:"AvatarGroup",classes:H,props:e,className:c,style:n,classNames:o,styles:i,unstyled:a,vars:l,varsResolver:at,rootSelector:"group"});return p.createElement(ot,{value:!0},p.createElement(F,{ref:s,...h("group"),...m}))});Y.classes=H;Y.displayName="@mantine/core/AvatarGroup";function ct(r){return p.createElement("svg",{...r,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const lt={},it=ie((r,{size:s,radius:e,variant:o,gradient:c,color:n,autoContrast:i})=>{const a=r.variantColorResolver({color:n||"gray",theme:r,gradient:c,variant:o||"light",autoContrast:i});return{root:{"--avatar-size":De(s,"avatar-size"),"--avatar-radius":e===void 0?void 0:Ee(e),"--avatar-bg":n||o?a.background:void 0,"--avatar-color":n||o?a.color:void 0,"--avatar-bd":n||o?a.border:void 0}}}),U=de((r,s)=>{const e=E("Avatar",lt,r),{classNames:o,className:c,style:n,styles:i,unstyled:a,vars:l,src:v,alt:m,radius:h,color:u,gradient:j,imageProps:d,children:f,autoContrast:b,...x}=e,C=st(),[I,A]=w.useState(!v),S=J({name:"Avatar",props:e,classes:H,className:c,style:n,classNames:o,styles:i,unstyled:a,vars:l,varsResolver:it});return w.useEffect(()=>A(!v),[v]),p.createElement(F,{...S("root"),mod:{"within-group":C.withinGroup},ref:s,...x},I?p.createElement("span",{...S("placeholder"),title:m},f||p.createElement(ct,null)):p.createElement("img",{...d,...S("image"),src:v,alt:m,onError:T=>{var P;A(!0),(P=d==null?void 0:d.onError)==null||P.call(d,T)}}))});U.classes=H;U.displayName="@mantine/core/Avatar";U.Group=Y;function dt({open:r,close:s,openDelay:e,closeDelay:o}){const c=w.useRef(-1),n=w.useRef(-1),i=()=>{window.clearTimeout(c.current),window.clearTimeout(n.current)},a=()=>{i(),e===0||e===void 0?r():c.current=window.setTimeout(r,e)},l=()=>{i(),o===0||o===void 0?s():n.current=window.setTimeout(s,o)};return w.useEffect(()=>i,[]),{openDropdown:a,closeDropdown:l}}const[ut,_]=Se("Menu component was not found in the tree");var mt={dropdown:"m-dc9b7c9f",label:"m-9bfac126",divider:"m-efdf90cb",item:"m-99ac2aa1",itemLabel:"m-5476e0d3",itemSection:"m-8b75e504"};const R=mt,pt={},ee=B((r,s)=>{const{classNames:e,className:o,style:c,styles:n,vars:i,...a}=E("MenuDivider",pt,r),l=_();return p.createElement(F,{ref:s,...l.getStyles("divider",{className:o,style:c,styles:n,classNames:e}),...a})});ee.classes=R;ee.displayName="@mantine/core/MenuDivider";const ht={},te=B((r,s)=>{const{classNames:e,className:o,style:c,styles:n,vars:i,onMouseEnter:a,onMouseLeave:l,children:v,...m}=E("MenuDropdown",ht,r),h=w.useRef(null),u=_(),j=b=>{var x,C;(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),(C=(x=h.current)==null?void 0:x.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||C.focus())},d=k(a,()=>(u.trigger==="hover"||u.trigger==="click-hover")&&u.openDropdown()),f=k(l,()=>(u.trigger==="hover"||u.trigger==="click-hover")&&u.closeDropdown());return p.createElement(W.Dropdown,{...m,onMouseEnter:d,onMouseLeave:f,role:"menu","aria-orientation":"vertical",ref:ue(s,h),...u.getStyles("dropdown",{className:o,style:c,styles:n,classNames:e}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:j},p.createElement("div",{tabIndex:-1,"data-autofocus":!0}),v)});te.classes=R;te.displayName="@mantine/core/MenuDropdown";const vt={},oe=de((r,s)=>{const{classNames:e,className:o,style:c,styles:n,vars:i,color:a,closeMenuOnClick:l,leftSection:v,rightSection:m,children:h,disabled:u,...j}=E("MenuItem",vt,r),d=_(),f=me(),{dir:b}=Ae(),x=w.useRef(),C=d.getItemIndex(x.current),I=j,A=k(I.onMouseLeave,()=>d.setHovered(-1)),S=k(I.onMouseEnter,()=>d.setHovered(d.getItemIndex(x.current))),T=k(I.onClick,()=>{typeof l=="boolean"?l&&d.closeDropdownImmediately():d.closeOnItemClick&&d.closeDropdownImmediately()}),P=k(I.onFocus,()=>d.setHovered(d.getItemIndex(x.current))),D=a?f.variantColorResolver({color:a,theme:f,variant:"light"}):void 0,M=a?Pe({color:a,theme:f}):null;return p.createElement(Ne,{...j,unstyled:d.unstyled,tabIndex:d.menuItemTabIndex,onFocus:P,...d.getStyles("item",{className:o,style:c,styles:n,classNames:e}),ref:ue(x,s),role:"menuitem",disabled:u,"data-menu-item":!0,"data-disabled":u||void 0,"data-hovered":d.hovered===C?!0:void 0,onMouseEnter:S,onMouseLeave:A,onClick:T,onKeyDown:Ye({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:d.loop,dir:b,orientation:"vertical",onKeyDown:I.onKeydown}),__vars:{"--menu-item-color":M!=null&&M.isThemeColor&&(M==null?void 0:M.shade)===void 0?`var(--mantine-color-${M.color}-6)`:D==null?void 0:D.color,"--menu-item-hover":D==null?void 0:D.hover}},v&&p.createElement("div",{...d.getStyles("itemSection",{styles:n,classNames:e}),"data-position":"left"},v),h&&p.createElement("div",{...d.getStyles("itemLabel",{styles:n,classNames:e})},h),m&&p.createElement("div",{...d.getStyles("itemSection",{styles:n,classNames:e}),"data-position":"right"},m))});oe.classes=R;oe.displayName="@mantine/core/MenuItem";const ft={},se=B((r,s)=>{const{classNames:e,className:o,style:c,styles:n,vars:i,...a}=E("MenuLabel",ft,r),l=_();return p.createElement(F,{ref:s,...l.getStyles("label",{className:o,style:c,styles:n,classNames:e}),...a})});se.classes=R;se.displayName="@mantine/core/MenuLabel";const gt={refProp:"ref"},xe=w.forwardRef((r,s)=>{const{children:e,refProp:o,...c}=E("MenuTarget",gt,r);if(!Re(e))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const n=_(),i=k(e.props.onClick,()=>{n.trigger==="click"?n.toggleDropdown():n.trigger==="click-hover"&&(n.setOpenedViaClick(!0),n.opened||n.openDropdown())}),a=k(e.props.onMouseEnter,()=>(n.trigger==="hover"||n.trigger==="click-hover")&&n.openDropdown()),l=k(e.props.onMouseLeave,()=>{(n.trigger==="hover"||n.trigger==="click-hover"&&!n.openedViaClick)&&n.closeDropdown()});return p.createElement(W.Target,{refProp:o,popupType:"menu",ref:s,...c},w.cloneElement(e,{onClick:i,onMouseEnter:a,onMouseLeave:l,"data-expanded":n.opened?!0:void 0}))});xe.displayName="@mantine/core/MenuTarget";const xt={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function g(r){const s=E("Menu",xt,r),{children:e,onOpen:o,onClose:c,opened:n,defaultOpened:i,trapFocus:a,onChange:l,closeOnItemClick:v,loop:m,closeOnEscape:h,trigger:u,openDelay:j,closeDelay:d,classNames:f,styles:b,unstyled:x,variant:C,vars:I,menuItemTabIndex:A,...S}=s,T=J({name:"Menu",classes:R,props:s,classNames:f,styles:b,unstyled:x}),[P,{setHovered:D,resetHovered:M}]=tt(),[N,re]=Ke({value:n,defaultValue:i,finalValue:!1,onChange:l}),[ye,ne]=w.useState(!1),z=()=>{re(!1),ne(!1),N&&(c==null||c())},q=()=>{re(!0),!N&&(o==null||o())},ae=()=>{N?z():q()},{openDropdown:we,closeDropdown:je}=dt({open:q,close:z,closeDelay:d,openDelay:j}),be=Ce=>et("[data-menu-item]","[data-menu-dropdown]",Ce),{resolvedClassNames:Me,resolvedStyles:ke}=Te({classNames:f,styles:b,props:s});return Le(()=>{M()},[N]),p.createElement(ut,{value:{getStyles:T,opened:N,toggleDropdown:ae,getItemIndex:be,hovered:P,setHovered:D,openedViaClick:ye,setOpenedViaClick:ne,closeOnItemClick:v,closeDropdown:u==="click"?z:je,openDropdown:u==="click"?q:we,closeDropdownImmediately:z,loop:m,trigger:u,unstyled:x,menuItemTabIndex:A}},p.createElement(W,{...S,opened:N,onChange:ae,defaultOpened:i,trapFocus:a,closeOnEscape:h,__staticSelector:"Menu",classNames:Me,styles:ke,unstyled:x,variant:C},e))}g.extend=r=>r;g.classes=R;g.displayName="@mantine/core/Menu";g.Item=oe;g.Label=se;g.Dropdown=te;g.Target=xe;g.Divider=ee;var yt=V("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),wt=V("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),jt=V("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),bt=V("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);function L({children:r,emoji:s,active:e,onClick:o}){return t.jsx(Q,{variant:"subtle",c:e?void 0:"var(--text-color)",p:0,radius:0,w:"20%",h:"auto",onClick:o,children:t.jsxs(y,{direction:"column",align:"center",children:[s&&t.jsx(_e,{emoji:s,size:24}),t.jsx($,{fz:10,children:r})]})})}function Mt({onClick:r,level:s}){return t.jsxs(pe,{variant:"default",radius:"md",size:48,onClick:r,children:[t.jsx(fe,{image:he("angel")}),t.jsx(ze,{variant:"default",size:"sm",pos:"absolute",top:"100%",style:{transform:"translate(0,-50%)"},children:t.jsx($,{children:s})})]})}function kt({}){const r=()=>{},s=()=>{};return t.jsx(t.Fragment,{children:t.jsxs(g,{width:200,shadow:"md",position:"bottom-end",children:[t.jsx(g.Target,{children:t.jsx(pe,{size:32,radius:"xl",children:t.jsx(wt,{})})}),t.jsxs(g.Dropdown,{children:[t.jsx(g.Item,{leftSection:t.jsx(jt,{size:14}),onClick:r,children:"Edit Username"}),t.jsx(g.Divider,{}),t.jsx(g.Item,{leftSection:t.jsx(bt,{size:14}),color:"red",onClick:s,children:"Log Out"})]})]})})}function Ct({opened:r,onClose:s}){const e=ve(i=>i.player),o=(e==null?void 0:e.level)??0,c=(e==null?void 0:e.xp)??0,n=Fe(o);return t.jsx($e,{opened:r,onClose:s,centered:!0,size:360,title:"Player Details",children:t.jsxs(y,{direction:"column",gap:"xl",children:[t.jsxs(y,{direction:"column",children:[t.jsxs(y,{justify:"space-between",children:[t.jsx("div",{style:{width:32,height:32,visibility:"hidden"}}),t.jsx(fe,{image:he("angel"),size:64}),t.jsx(kt,{})]}),t.jsx(Z,{order:4,ta:"center",className:Ge,children:e==null?void 0:e.username}),t.jsx(G,{label:t.jsx($,{fw:"bold",children:`Level ${o}`})}),t.jsx(K.Root,{size:24,w:"100%",children:t.jsx(K.Section,{value:c/n*100,children:t.jsx(K.Label,{pos:"absolute",style:{transform:"translate(-50%,0)",left:"50%"},children:`${ce(c)} / ${ce(n)} XP`})})})]}),t.jsxs(y,{direction:"column",gap:"xs",children:[t.jsx(G,{label:"Account Manager"}),t.jsx(Q,{h:"auto",py:"md",variant:"default",styles:{label:{flex:1}},children:t.jsxs(y,{align:"center",gap:"xs",w:"100%",children:[t.jsx(U,{}),t.jsx($,{fw:"bold",ta:"left",truncate:!0,style:{flex:1},children:e==null?void 0:e.username}),t.jsx(yt,{})]})})]}),t.jsxs(y,{direction:"column",align:"center",children:[t.jsx(X,{href:"https://dorkodu.com",target:"_blank",mb:"xs",children:t.jsx(Oe,{src:"/idle-demo/dorkodu-logo.svg",mah:48})}),t.jsxs(Z,{order:5,children:["© Dorkodu ",new Date().getFullYear()]}),t.jsx(Z,{order:6,children:`Idle Demo v${Be}`}),t.jsxs(y,{gap:"xs",children:[t.jsx(X,{href:"/privacy-policy",children:"Privacy Policy"}),t.jsx(X,{href:"/terms-of-service",children:"Terms of Service"})]})]})]})})}function Pt(){var m,h;const[r,{open:s,close:e}]=Xe(),o=me(),c=Ve(),n=He(u=>u.route),i=ve(u=>u.player),a=i==null?void 0:i.level,l=(m=i==null?void 0:i.items[Ue])==null?void 0:m.count,v=(h=i==null?void 0:i.items[qe])==null?void 0:h.count;return t.jsxs(t.Fragment,{children:[t.jsxs(y,{direction:"column",mx:"auto",pos:"fixed",top:0,left:0,right:0,maw:o.breakpoints.xs,h:80,children:[t.jsxs(y,{direction:"row",align:"center",gap:"xs",px:"md",h:"100%",children:[t.jsx(Mt,{level:a,onClick:s}),t.jsxs(y,{gap:"xs",justify:"end",style:{flex:1},children:[t.jsx(le,{emoji:"🪙",count:l,button:!0}),t.jsx(le,{emoji:"💎",count:v,button:!0})]})]}),t.jsx(G,{})]}),t.jsx(y,{direction:"column",mx:"auto",p:"md",pos:"fixed",top:80,bottom:64,left:0,right:0,maw:o.breakpoints.xs,children:t.jsx(Ze,{})}),t.jsxs(y,{direction:"column",mx:"auto",pos:"fixed",bottom:0,left:0,right:0,maw:o.breakpoints.xs,h:64,children:[t.jsx(G,{}),t.jsxs(Q.Group,{h:"100%",children:[t.jsx(L,{onClick:()=>c("/shop"),active:n==="shop",emoji:"🛒",children:"Shop"}),t.jsx(L,{onClick:()=>c("/bag"),active:n==="bag",emoji:"🎒",children:"Bag"}),t.jsx(L,{onClick:()=>c("/campaign"),active:n==="campaign",emoji:"⚔️",children:"Campaign"}),t.jsx(L,{onClick:()=>c("/map"),active:n==="map",emoji:"🗺",children:"Map"}),t.jsx(L,{onClick:()=>c("/events"),active:n==="events",emoji:"📢",children:"Events"})]})]}),t.jsx(Ct,{opened:r,onClose:e})]})}export{Pt as default};
