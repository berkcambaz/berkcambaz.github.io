import{s as w,O as b,Q as R,j as e,S as k,F as n,C as f,D as B,a as c,E as O,P as g,B as S,v as T,t as F,U as M,w as y,V as _,W as A,X as E,T as z}from"./index-qerRH5rX.js";import{F as p,u as x,R as u}from"./FullscreenModal-AKyXUhKv.js";import{S as C}from"./ScrollArea-tgAtQfOl.js";import{C as D}from"./ContentList-TRk878Gp.js";function I({opened:r,onClose:i}){var j;const s=w(t=>t.player),d=((j=s==null?void 0:s.items[b])==null?void 0:j.count)??0,l=(s==null?void 0:s.map.tower.stage)??0,a=Object.values(R(l)).filter(Boolean),o=M(l),h=()=>{w.getState().player&&y.setState(m=>{m.modals.lineup={opened:!0,battleType:"tower"}})};return e.jsx(p,{opened:r,onClose:i,header:e.jsx(k,{emoji:"ğŸª™",count:d}),children:e.jsxs(n,{direction:"column",align:"center",justify:"center",gap:"md",h:"100%",children:[e.jsx(f,{withBorder:!0,radius:"md",w:"100%",maw:360,children:e.jsxs(n,{direction:"column",gap:"xs",children:[e.jsx(B,{label:"Stage Enemies"}),e.jsx(C,{children:e.jsx(n,{gap:"xs",children:a.map((t,m)=>e.jsx(c,{monster:t},m))})})]})}),e.jsx(O,{emoji:"ğŸ—¼",size:100}),e.jsx(g.Root,{size:"xl",w:"100%",maw:100,children:e.jsx(g.Section,{value:100,striped:!0,animated:!0,children:e.jsx(g.Label,{pos:"absolute",style:{transform:"translate(-50%,0)",left:"50%",overflow:"visible"},children:`Stage ${l+1}`})})}),e.jsx(S,{size:"md",onClick:h,children:"Battle"}),e.jsx(f,{withBorder:!0,radius:"md",w:"100%",maw:360,children:e.jsxs(n,{direction:"column",gap:"xs",children:[e.jsx(B,{label:"Stage Rewards"}),e.jsx(C,{children:e.jsx(n,{gap:"xs",children:o.map(t=>t.item?e.jsx(c,{item:t.item},T(t.item)):e.jsx(c,{monster:t.monster},F(t.monster)))})})]})})]})})}function L({opened:r,onClose:i}){var a;const s=w(o=>o.player),d=((a=s==null?void 0:s.items[b])==null?void 0:a.count)??0,l=s?Object.values(s.items).filter(o=>_[o.id].type!=="other"):void 0;return e.jsx(p,{opened:r,onClose:i,header:e.jsx(k,{emoji:"ğŸª™",count:d}),children:e.jsx(f,{withBorder:!0,radius:"md",h:"100%",children:e.jsxs(n,{direction:"column",gap:"md",h:"100%",children:[e.jsxs(n,{direction:"column",align:"center",gap:"md",children:[e.jsxs(n,{align:"center",gap:"md",children:[e.jsx(c,{placeholder:A("we_ancient_sword").image}),e.jsxs(n,{direction:"column",align:"center",children:[e.jsx(E,{}),e.jsx(z,{order:5,pos:"absolute",mt:"lg",children:"0 / 3"})]}),e.jsx(c,{placeholder:A("we_broad_axe_5").image})]}),e.jsx(S,{children:"Upgrade"})]}),e.jsx(B,{label:"Items"}),e.jsx(D,{children:l==null?void 0:l.map(o=>e.jsx(c,{item:o,onClick:()=>{}},T(o)))})]})})})}function $(){const[r,{open:i,close:s}]=x(),[d,{open:l,close:a}]=x(),[o,{open:h,close:j}]=x(),[t,{open:m,close:v}]=x();return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsxs(n,{direction:"column",gap:"md",children:[e.jsx(u,{emoji:"ğŸ—¼",title:"Tower",onClick:i}),e.jsx(u,{emoji:"ğŸŸ",title:"Arena",onClick:l}),e.jsx(u,{emoji:"âš’",title:"Blacksmith",onClick:h}),e.jsx(u,{emoji:"ğŸª¦",title:"Altar",onClick:m})]})}),e.jsx(I,{opened:r,onClose:s}),e.jsx(P,{opened:d,onClose:a}),e.jsx(L,{opened:o,onClose:j}),e.jsx(U,{opened:t,onClose:v})]})}function P({opened:r,onClose:i}){return e.jsx(p,{opened:r,onClose:i,children:"Arena"})}function U({opened:r,onClose:i}){return e.jsx(p,{opened:r,onClose:i,children:"Altar"})}export{$ as default};
