import{f as D,u as N,H as ge,R as u,I as B,J as xe,K as fe,L as He,r as h,M as gt,N as ve,O as ye,P as Ke,Q as Ve,S as X,U as xt,V as vt,W as yt,X as Ge,Y as Ue,Z as wt,_ as ee,d as Ct,$ as St,a0 as Et,e as Ot,h as At,a1 as we,a2 as We,i as U,j as p,F as R,a3 as Tt,t as Y,a4 as Nt,a5 as Ze,a6 as Xe,a7 as W,B as de,C as It,E as ue,q as pe,a8 as me,a9 as Dt,aa as kt,ab as jt,ac as Pt,ad as _t,ae as te,w as $t,af as Rt,ag as qe}from"./index-d3W-edxA.js";import{u as zt}from"./use-disclosure-JhSf_ZMC.js";import{P as oe,u as he}from"./Popover-6318afA5.js";import{a as Ft,I as Je}from"./InputBase-h2uEEWqO.js";import{S as Bt}from"./ScrollArea-_rrQgZ6K.js";function Qe(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>Qe(t))}:e}function Lt(e){return e?e.map(t=>Qe(t)):[]}function Ye(e){return e.reduce((t,o)=>"group"in o?{...t,...Ye(o.items)}:(t[o.value]=o,t),{})}var Mt={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownScrollArea:"m-71d052f9",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const I=Mt,Vt={error:null},qt=xe((e,{size:t})=>({chevron:{"--combobox-chevron-size":fe(t,"combobox-chevron-size")}})),Ce=D((e,t)=>{const o=N("ComboboxChevron",Vt,e),{size:n,error:r,style:s,className:l,classNames:i,styles:a,unstyled:d,vars:c,...m}=o,b=ge({name:"ComboboxChevron",classes:I,props:o,style:s,className:l,classNames:i,styles:a,unstyled:d,vars:c,varsResolver:qt,rootSelector:"chevron"});return u.createElement(B,{component:"svg",...m,...b("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:r}],ref:t},u.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});Ce.classes=I;Ce.displayName="@mantine/core/ComboboxChevron";const[Ht,_]=He("Combobox component was not found in tree"),et=h.forwardRef(({size:e,onMouseDown:t,onClick:o,onClear:n,...r},s)=>u.createElement(gt,{ref:s,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...r,onMouseDown:l=>{l.preventDefault(),t==null||t(l)},onClick:l=>{n(),o==null||o(l)}}));et.displayName="@mantine/core/ComboboxClearButton";const Kt={},Se=D((e,t)=>{const{classNames:o,styles:n,className:r,style:s,hidden:l,...i}=N("ComboboxDropdown",Kt,e),a=_();return u.createElement(oe.Dropdown,{...i,ref:t,role:"presentation","data-hidden":l||void 0,...a.getStyles("dropdown",{className:r,style:s,classNames:o,styles:n})})});Se.classes=I;Se.displayName="@mantine/core/ComboboxDropdown";const Gt={refProp:"ref"},tt=D((e,t)=>{const{children:o,refProp:n}=N("ComboboxDropdownTarget",Gt,e);if(_(),!ve(o))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return u.createElement(oe.Target,{ref:t,refProp:n},o)});tt.displayName="@mantine/core/ComboboxDropdownTarget";const Ut={},Ee=D((e,t)=>{const{classNames:o,className:n,style:r,styles:s,vars:l,...i}=N("ComboboxEmpty",Ut,e),a=_();return u.createElement(B,{ref:t,...a.getStyles("empty",{className:n,classNames:o,styles:s,style:r}),...i})});Ee.classes=I;Ee.displayName="@mantine/core/ComboboxEmpty";function Oe({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:o,withExpandedAttribute:n,targetType:r}){const s=_(),[l,i]=h.useState(null),a=c=>{if(e==null||e(c),!s.readOnly&&t){if(c.nativeEvent.code==="ArrowDown"&&(c.preventDefault(),s.store.dropdownOpened?i(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),i(s.store.selectActiveOption()))),c.nativeEvent.code==="ArrowUp"&&(c.preventDefault(),s.store.dropdownOpened?i(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),i(s.store.selectActiveOption()))),c.nativeEvent.code==="Enter"||c.nativeEvent.code==="NumpadEnter"){const m=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&m!==-1?(c.preventDefault(),s.store.clickSelectedOption()):r==="button"&&(c.preventDefault(),s.store.openDropdown("keyboard"))}c.nativeEvent.code==="Escape"&&s.store.closeDropdown("keyboard"),c.nativeEvent.code==="Space"&&r==="button"&&(c.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...o?{"aria-haspopup":"listbox","aria-expanded":n&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.listId,"aria-activedescendant":s.store.dropdownOpened&&l||void 0,autoComplete:"off","data-expanded":s.store.dropdownOpened?!0:void 0}:{},onKeyDown:a}}const Wt={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},ot=D((e,t)=>{const{children:o,refProp:n,withKeyboardNavigation:r,withAriaAttributes:s,withExpandedAttribute:l,targetType:i,...a}=N("ComboboxEventsTarget",Wt,e);if(!ve(o))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=_(),c=Oe({targetType:i,withAriaAttributes:s,withKeyboardNavigation:r,withExpandedAttribute:l,onKeyDown:o.props.onKeyDown});return h.cloneElement(o,{...c,...a,[n]:ye(t,d.store.targetRef,o==null?void 0:o.ref)})});ot.displayName="@mantine/core/ComboboxEventsTarget";const Zt={},Ae=D((e,t)=>{const{classNames:o,className:n,style:r,styles:s,vars:l,...i}=N("ComboboxFooter",Zt,e),a=_();return u.createElement(B,{ref:t,...a.getStyles("footer",{className:n,classNames:o,style:r,styles:s}),...i})});Ae.classes=I;Ae.displayName="@mantine/core/ComboboxFooter";const Xt={},Te=D((e,t)=>{const{classNames:o,className:n,style:r,styles:s,vars:l,children:i,label:a,...d}=N("ComboboxGroup",Xt,e),c=_();return u.createElement(B,{ref:t,...c.getStyles("group",{className:n,classNames:o,style:r,styles:s}),...d},a&&u.createElement("div",{...c.getStyles("groupLabel",{classNames:o,styles:s})},a),i)});Te.classes=I;Te.displayName="@mantine/core/ComboboxGroup";const Jt={},Ne=D((e,t)=>{const{classNames:o,className:n,style:r,styles:s,vars:l,...i}=N("ComboboxHeader",Jt,e),a=_();return u.createElement(B,{ref:t,...a.getStyles("header",{className:n,classNames:o,style:r,styles:s}),...i})});Ne.classes=I;Ne.displayName="@mantine/core/ComboboxHeader";const Qt={},Ie=D((e,t)=>{const o=N("ComboboxOption",Qt,e),{classNames:n,className:r,style:s,styles:l,vars:i,onClick:a,id:d,active:c,onMouseDown:m,onMouseOver:b,disabled:f,selected:v,...E}=o,w=_(),C=h.useId(),O=d||C;return u.createElement(B,{...w.getStyles("option",{className:r,classNames:n,styles:l,style:s}),...E,ref:t,id:O,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":f,"combobox-selected":v}],role:"option",onClick:g=>{var S;f?g.preventDefault():((S=w.onOptionSubmit)==null||S.call(w,o.value,o),a==null||a(g))},onMouseDown:g=>{g.preventDefault(),m==null||m(g)},onMouseOver:g=>{w.resetSelectionOnOptionHover&&w.store.resetSelectedOption(),b==null||b(g)}})});Ie.classes=I;Ie.displayName="@mantine/core/ComboboxOption";const Yt={},De=D((e,t)=>{const o=N("ComboboxOptions",Yt,e),{classNames:n,className:r,style:s,styles:l,id:i,onMouseDown:a,labelledBy:d,...c}=o,m=_(),b=Ke(i);return h.useEffect(()=>{m.store.setListId(b)},[b]),u.createElement(B,{ref:t,...m.getStyles("options",{className:r,style:s,classNames:n,styles:l}),...c,id:b,role:"listbox","aria-labelledby":d,onMouseDown:f=>{f.preventDefault(),a==null||a(f)}})});De.classes=I;De.displayName="@mantine/core/ComboboxOptions";const eo={withAriaAttributes:!0,withKeyboardNavigation:!0},ke=D((e,t)=>{const o=N("ComboboxSearch",eo,e),{classNames:n,styles:r,unstyled:s,vars:l,withAriaAttributes:i,onKeyDown:a,withKeyboardNavigation:d,size:c,...m}=o,b=_(),f=b.getStyles("search"),v=Oe({targetType:"input",withAriaAttributes:i,withKeyboardNavigation:d,withExpandedAttribute:!1,onKeyDown:a});return u.createElement(Ft,{ref:ye(t,b.store.searchRef),classNames:[{input:f.className},n],styles:[{input:f.style},r],size:c||b.size,...v,...m,__staticSelector:"Combobox"})});ke.classes=I;ke.displayName="@mantine/core/ComboboxSearch";const to={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},nt=D((e,t)=>{const{children:o,refProp:n,withKeyboardNavigation:r,withAriaAttributes:s,withExpandedAttribute:l,targetType:i,...a}=N("ComboboxTarget",to,e);if(!ve(o))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=_(),c=Oe({targetType:i,withAriaAttributes:s,withKeyboardNavigation:r,withExpandedAttribute:l,onKeyDown:o.props.onKeyDown}),m=h.cloneElement(o,{...c,...a});return u.createElement(oe.Target,{ref:ye(t,d.store.targetRef)},m)});nt.displayName="@mantine/core/ComboboxTarget";function oo(e,t,o){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(o){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function no(e,t,o){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(o){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function so(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function st({defaultOpened:e,opened:t,onOpenedChange:o,onDropdownClose:n,onDropdownOpen:r,loop:s=!0,scrollBehavior:l="instant"}={}){const[i,a]=he({value:t,defaultValue:e,finalValue:!1,onChange:o}),d=h.useRef(null),c=h.useRef(-1),m=h.useRef(null),b=h.useRef(null),f=h.useRef(-1),v=h.useRef(-1),E=h.useRef(-1),w=h.useCallback((x="unknown")=>{i||(a(!0),r==null||r(x))},[a,r,i]),C=h.useCallback((x="unknown")=>{i&&(a(!1),n==null||n(x))},[a,n,i]),O=h.useCallback((x="unknown")=>{i?C(x):w(x)},[C,w,i]),g=h.useCallback(()=>{const x=document.querySelector(`#${d.current} [data-combobox-selected]`);x==null||x.removeAttribute("data-combobox-selected"),x==null||x.removeAttribute("aria-selected")},[]),S=h.useCallback(x=>{const k=document.getElementById(d.current),A=k==null?void 0:k.querySelectorAll("[data-combobox-option]");if(!A)return null;const j=x>=A.length?0:x<0?A.length-1:x;return c.current=j,A!=null&&A[j]&&!A[j].hasAttribute("data-combobox-disabled")?(g(),A[j].setAttribute("data-combobox-selected","true"),A[j].setAttribute("aria-selected","true"),A[j].scrollIntoView({block:"nearest",behavior:l}),A[j].id):null},[l,g]),T=h.useCallback(()=>{const x=document.querySelector(`#${d.current} [data-combobox-active]`);if(x){const k=document.querySelectorAll(`#${d.current} [data-combobox-option]`),A=Array.from(k).findIndex(j=>j===x);return S(A)}return S(0)},[S]),$=h.useCallback(()=>S(no(c.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),s)),[S,s]),q=h.useCallback(()=>S(oo(c.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),s)),[S,s]),H=h.useCallback(()=>S(so(document.querySelectorAll(`#${d.current} [data-combobox-option]`))),[S]),ne=h.useCallback((x="selected")=>{E.current=window.setTimeout(()=>{const k=document.querySelectorAll(`#${d.current} [data-combobox-option]`),A=Array.from(k).findIndex(j=>j.hasAttribute(`data-combobox-${x}`));c.current=A},0)},[]),se=h.useCallback(()=>{c.current=-1,g()},[g]),K=h.useCallback(()=>{const x=document.querySelectorAll(`#${d.current} [data-combobox-option]`),k=x==null?void 0:x[c.current];k==null||k.click()},[]),z=h.useCallback(x=>{d.current=x},[]),re=h.useCallback(()=>{f.current=window.setTimeout(()=>m.current.focus(),0)},[]),ae=h.useCallback(()=>{v.current=window.setTimeout(()=>b.current.focus(),0)},[]),le=h.useCallback(()=>c.current,[]);return h.useEffect(()=>()=>{window.clearTimeout(f.current),window.clearTimeout(v.current),window.clearTimeout(E.current)},[]),{dropdownOpened:i,openDropdown:w,closeDropdown:C,toggleDropdown:O,selectedOptionIndex:c.current,getSelectedOptionIndex:le,selectOption:S,selectFirstOption:H,selectActiveOption:T,selectNextOption:$,selectPreviousOption:q,resetSelectedOption:se,updateSelectedOptionIndex:ne,listId:d.current,setListId:z,clickSelectedOption:K,searchRef:m,focusSearchInput:re,targetRef:b,focusTarget:ae}}const ro={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},ao=xe((e,{size:t,dropdownPadding:o})=>({options:{"--combobox-option-fz":Ve(t),"--combobox-option-padding":fe(t,"combobox-option-padding")},dropdown:{"--combobox-padding":o===void 0?void 0:X(o),"--combobox-option-fz":Ve(t),"--combobox-option-padding":fe(t,"combobox-option-padding")}}));function y(e){const t=N("Combobox",ro,e),{classNames:o,styles:n,unstyled:r,children:s,store:l,vars:i,onOptionSubmit:a,onClose:d,size:c,dropdownPadding:m,resetSelectionOnOptionHover:b,__staticSelector:f,readOnly:v,...E}=t,w=st(),C=l||w,O=ge({name:f||"Combobox",classes:I,props:t,classNames:o,styles:n,unstyled:r,vars:i,varsResolver:ao}),g=()=>{d==null||d(),C.closeDropdown()};return u.createElement(Ht,{value:{getStyles:O,store:C,onOptionSubmit:a,size:c,resetSelectionOnOptionHover:b,readOnly:v}},u.createElement(oe,{opened:C.dropdownOpened,...E,onClose:g,withRoles:!1,unstyled:r},s))}const lo=e=>e;y.extend=lo;y.classes=I;y.displayName="@mantine/core/Combobox";y.Target=nt;y.Dropdown=Se;y.Options=De;y.Option=Ie;y.Search=ke;y.Empty=Ee;y.Chevron=Ce;y.Footer=Ae;y.Header=Ne;y.EventsTarget=ot;y.DropdownTarget=tt;y.Group=Te;y.ClearButton=et;function co({size:e,style:t,...o}){const n=e!==void 0?{width:X(e),height:X(e),...t}:t;return u.createElement("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...o},u.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function J(e){return"group"in e}function rt({options:e,search:t,limit:o}){const n=t.trim().toLowerCase(),r=[];for(let s=0;s<e.length;s+=1){const l=e[s];if(r.length===o)return r;J(l)&&r.push({group:l.group,items:rt({options:l.items,search:t,limit:o-r.length})}),J(l)||l.label.toLowerCase().includes(n)&&r.push(l)}return r}function io(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function at(e,t=new Set){if(Array.isArray(e))for(const o of e)if(J(o))at(o.items,t);else{if(typeof o.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof o.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof o.value}`);if(t.has(o.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${o.value}" was provided more than once`);t.add(o.value)}}function be(e,t){return Array.isArray(e)?e.includes(t):e===t}function lt({data:e,withCheckIcon:t,value:o,checkIconPosition:n,unstyled:r}){if(!J(e)){const l=t&&be(o,e.value)&&u.createElement(co,{className:I.optionsDropdownCheckIcon});return u.createElement(y.Option,{value:e.value,disabled:e.disabled,className:xt({[I.optionsDropdownOption]:!r}),"data-reverse":n==="right"||void 0,"data-checked":be(o,e.value)||void 0,"aria-selected":be(o,e.value)},n==="left"&&l,u.createElement("span",null,e.label),n==="right"&&l)}const s=e.items.map(l=>u.createElement(lt,{data:l,value:o,key:l.value,unstyled:r,withCheckIcon:t,checkIconPosition:n}));return u.createElement(y.Group,{label:e.group},s)}function uo({data:e,hidden:t,hiddenWhenEmpty:o,filter:n,search:r,limit:s,maxDropdownHeight:l,withScrollArea:i=!0,filterOptions:a=!0,withCheckIcon:d=!1,value:c,checkIconPosition:m,nothingFoundMessage:b,unstyled:f,labelId:v}){at(e);const w=typeof r=="string"?(n||rt)({options:e,search:a?r:"",limit:s??1/0}):e,C=io(w),O=w.map(g=>u.createElement(lt,{data:g,key:J(g)?g.group:g.value,withCheckIcon:d,value:c,checkIconPosition:m,unstyled:f}));return u.createElement(y.Dropdown,{hidden:t||o&&C},u.createElement(y.Options,{labelledBy:v},i?u.createElement(Bt.Autosize,{mah:l??220,type:"scroll",scrollbarSize:"var(--_combobox-padding)",offsetScrollbars:"y",className:I.optionsDropdownScrollArea},O):O,C&&b&&u.createElement(y.Empty,null,b)))}const po={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},je=D((e,t)=>{const o=N("Select",po,e),{classNames:n,styles:r,unstyled:s,vars:l,dropdownOpened:i,defaultDropdownOpened:a,onDropdownClose:d,onDropdownOpen:c,onFocus:m,onBlur:b,onClick:f,onChange:v,data:E,value:w,defaultValue:C,selectFirstOptionOnChange:O,onOptionSubmit:g,comboboxProps:S,readOnly:T,disabled:$,filter:q,limit:H,withScrollArea:ne,maxDropdownHeight:se,size:K,searchable:z,rightSection:re,checkIconPosition:ae,withCheckIcon:le,nothingFoundMessage:x,name:k,form:A,searchValue:j,defaultSearchValue:ct,onSearchChange:it,allowDeselect:dt,error:$e,rightSectionPointerEvents:ut,id:pt,clearable:mt,clearButtonProps:bt,hiddenInputProps:ft,...ht}=o,ce=h.useMemo(()=>Lt(E),[E]),Z=h.useMemo(()=>Ye(ce),[ce]),Re=Ke(pt),[L,ze]=he({value:w,defaultValue:C,finalValue:null,onChange:v}),V=typeof L=="string"?Z[L]:void 0,[ie,G]=he({value:j,defaultValue:ct,finalValue:V?V.label:"",onChange:it}),F=st({opened:i,defaultOpened:a,onDropdownOpen:c,onDropdownClose:()=>{d==null||d(),F.resetSelectedOption()}}),{resolvedClassNames:Fe,resolvedStyles:Be}=vt({props:o,styles:r,classNames:n});h.useEffect(()=>{O&&F.selectFirstOption()},[O,L]),h.useEffect(()=>{w===null&&G(""),typeof w=="string"&&V&&G(V.label)},[w,V]);const Le=mt&&!!L&&!$&&!T&&u.createElement(y.ClearButton,{size:K,...bt,onClear:()=>{ze(null,null),G("")}});return u.createElement(u.Fragment,null,u.createElement(y,{store:F,__staticSelector:"Select",classNames:Fe,styles:Be,unstyled:s,readOnly:T,onOptionSubmit:P=>{g==null||g(P);const M=dt&&Z[P].value===L?null:Z[P],Me=M?M.value:null;ze(Me,M),G(typeof Me=="string"&&(M==null?void 0:M.label)||""),F.closeDropdown()},size:K,...S},u.createElement(y.Target,{targetType:z?"input":"button"},u.createElement(Je,{id:Re,ref:t,rightSection:re||Le||u.createElement(y.Chevron,{size:K,error:$e,unstyled:s}),rightSectionPointerEvents:ut||(Le?"all":"none"),...ht,size:K,__staticSelector:"Select",disabled:$,readOnly:T||!z,value:ie,onChange:P=>{G(P.currentTarget.value),F.openDropdown(),O&&F.selectFirstOption()},onFocus:P=>{z&&F.openDropdown(),m==null||m(P)},onBlur:P=>{var M;z&&F.closeDropdown(),G(L!=null&&((M=Z[L])==null?void 0:M.label)||""),b==null||b(P)},onClick:P=>{z?F.openDropdown():F.toggleDropdown(),f==null||f(P)},classNames:Fe,styles:Be,unstyled:s,pointer:!z,error:$e})),u.createElement(uo,{data:ce,hidden:T||$,filter:q,search:ie,limit:H,hiddenWhenEmpty:!z||!x,withScrollArea:ne,maxDropdownHeight:se,filterOptions:z&&(V==null?void 0:V.label)!==ie,value:L,checkIconPosition:ae,withCheckIcon:le,nothingFoundMessage:x,unstyled:s,labelId:`${Re}-label`})),u.createElement("input",{type:"hidden",name:k,value:L||"",form:A,disabled:$,...ft}))});je.classes={...Je.classes,...y.classes};je.displayName="@mantine/core/Select";const[mo,bo]=He("Timeline component was not found in tree");var fo={root:"m-43657ece",itemTitle:"m-2ebe8099",item:"m-436178ff",itemBullet:"m-8affcee1",itemBody:"m-540e8f41"};const Pe=fo,ho={},_e=D((e,t)=>{const o=N("TimelineItem",ho,e),{classNames:n,className:r,style:s,styles:l,vars:i,__active:a,__align:d,__lineActive:c,__vars:m,bullet:b,radius:f,color:v,lineVariant:E,children:w,title:C,...O}=o,g=bo(),S=yt(),T={classNames:n,styles:l};return u.createElement(B,{...g.getStyles("item",{...T,className:r,style:s}),mod:{"line-active":c,active:a},ref:t,__vars:{"--tli-radius":f?Ge(f):void 0,"--tli-color":v?Ue(v,S):void 0,"--tli-border-style":E||void 0},...O},u.createElement(B,{...g.getStyles("itemBullet",T),mod:{"with-child":!!b,align:d,active:a}},b),u.createElement("div",{...g.getStyles("itemBody",T)},C&&u.createElement("div",{...g.getStyles("itemTitle",T)},C),u.createElement("div",{...g.getStyles("itemContent",T)},w)))});_e.classes=Pe;_e.displayName="@mantine/core/TimelineItem";const go={active:-1,align:"left",reverseActive:!1},xo=xe((e,{bulletSize:t,lineWidth:o,radius:n,color:r,autoContrast:s})=>({root:{"--tl-bullet-size":X(t),"--tl-line-width":X(o),"--tl-radius":n===void 0?void 0:Ge(n),"--tl-color":r?Ue(r,e):void 0,"--tl-icon-color":s?wt({color:r,theme:e}):void 0}})),Q=D((e,t)=>{const o=N("Timeline",go,e),{classNames:n,className:r,style:s,styles:l,unstyled:i,vars:a,children:d,active:c,color:m,radius:b,bulletSize:f,align:v,lineWidth:E,reverseActive:w,...C}=o,O=ge({name:"Timeline",classes:Pe,props:o,className:r,style:s,classNames:n,styles:l,unstyled:i,vars:a,varsResolver:xo}),g=h.Children.toArray(d),S=g.map((T,$)=>{var q,H;return h.cloneElement(T,{unstyled:i,__align:v,__active:((q=T.props)==null?void 0:q.active)||(w?c>=g.length-$-1:c>=$),__lineActive:((H=T.props)==null?void 0:H.lineActive)||(w?c>=g.length-$-1:c-1>=$)})});return u.createElement(mo,{value:{getStyles:O}},u.createElement(B,{...O("root"),mod:{align:v},ref:t,...C},S))});Q.classes=Pe;Q.displayName="@mantine/core/Timeline";Q.Item=_e;function vo(e,t){return!(Math.floor((Date.now()-e.campaign.lastFarmDate)/1e3)<5)}function yo(e,t){if(!vo(e))return;const o=ee(e),n=[{item:Ct(o.gold)},{item:St(o.food)},{item:Et(o.xp)}];e.campaign.lastFarmDate=Date.now(),Ot(e,{toAdd:n}),At.collectCampaignFarm.dispatch({player:e})}var wo=we("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]),Co=we("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]),So=we("search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);function Do(){const[e,{open:t,close:o}]=zt(),{t:n}=We(),r=U(f=>f.player),s=U(f=>{var v;return(v=f.player)==null?void 0:v.campaign}),l=(s==null?void 0:s.stage)??0,i=te,[a,d]=h.useState(r?ee(r):void 0);h.useEffect(()=>{const v=setInterval(()=>{const E=U.getState().player;E&&d(ee(E))},1e3);return()=>clearTimeout(v)},[]);const c=()=>{t()},m=()=>{U.getState().player&&$t.setState(v=>{v.modals.lineup={opened:!0,battleId:"campaign"}})},b=()=>{U.setState(f=>{f.player&&(yo(f.player),d(ee(f.player)))})};return s?p.jsxs(p.Fragment,{children:[p.jsxs(R,{direction:"column",align:"center",justify:"center",gap:"md",h:"100%",children:[p.jsxs(R,{align:"center",pos:"relative",children:[p.jsx(R,{pr:"xs",pos:"absolute",right:"100%",children:p.jsx(Tt,{radius:"xl",size:32,onClick:c,children:p.jsx(So,{})})}),p.jsx(R,{maw:120,style:{wordBreak:"break-word"},children:p.jsx(Y,{fz:"lg",fw:"bold",ta:"center",lineClamp:3,children:n(s.id)})}),p.jsx(R,{pl:"xs",pos:"absolute",left:"100%",children:p.jsx(Nt,{tier:s.tier})})]}),p.jsx(Ze,{src:Xe(s.id),draggable:!1,style:{imageRendering:"pixelated",width:"auto",height:200,flex:"unset"}}),p.jsx(W.Root,{size:"xl",w:"100%",maw:100,children:p.jsx(W.Section,{value:l/i*100,children:p.jsx(W.Label,{pos:"absolute",style:{transform:"translate(-50%,0)",left:"50%"},children:`${l} / ${i}`})})}),p.jsx(de,{size:"md",onClick:m,children:"Battle"}),p.jsx(It,{withBorder:!0,p:0,w:"100%",maw:300,children:p.jsxs(de.Group,{children:[p.jsxs(R,{align:"center",px:"xs",style:{flex:1},children:[p.jsxs(R,{align:"center",w:"100%",children:[p.jsx(ue,{emoji:"🪙",size:20})," ",p.jsx(Y,{size:"sm",w:"100%",children:pe((a==null?void 0:a.gold)||0)})]}),p.jsxs(R,{align:"center",w:"100%",children:[p.jsx(ue,{emoji:"🍏",size:20})," ",p.jsx(Y,{size:"sm",children:pe((a==null?void 0:a.food)||0)})]}),p.jsxs(R,{align:"center",w:"100%",children:[p.jsx(ue,{emoji:"⭐",size:20})," ",p.jsx(Y,{size:"sm",children:pe((a==null?void 0:a.xp)||0)})]})]}),p.jsx(de,{onClick:b,children:"Get"})]})})]}),p.jsx(Eo,{opened:e,onClose:o})]}):null}function Eo({opened:e,onClose:t}){const{t:o}=We(),n=U(m=>m.player),[r,s]=h.useState(me(n?n.campaign.tier:"F")),l=m=>{if(!m)return;const b=qe(Number(m));b&&s(me(b))},i=n?me(n.campaign.tier):0,a=n?Dt(n.campaign.id):0;let d=-1;const c=Rt(qe(r));return i>r?d=Object.values(kt).length:i===r&&(d=a),p.jsx(jt,{opened:e,onClose:t,centered:!0,size:360,title:"Campaign Details",styles:{content:{height:"100%",maxHeight:480}},children:p.jsxs(R,{direction:"column",gap:"md",children:[p.jsx(je,{value:`${r}`,onChange:l,data:Pt.map((m,b)=>({value:`${b}`,label:`${m} Tier`}))}),p.jsx(Q,{active:d,bulletSize:24,lineWidth:2,children:[...Array(c).keys()].map(m=>{const b=_t(m);let f=0;const v=te;i>r?f=te:i===r&&a>m?f=te:i===r&&a===m&&(f=(n==null?void 0:n.campaign.stage)??0);const E=f>=v;return p.jsx(Q.Item,{title:b?o(b):void 0,bullet:E?p.jsx(wo,{size:12}):p.jsx(Co,{size:12}),children:p.jsxs(R,{direction:"column",align:"start",gap:"xs",children:[p.jsx(Ze,{src:Xe(b),draggable:!1,style:{imageRendering:"pixelated",width:"auto",height:128,flex:"unset"}}),p.jsx(W.Root,{size:"xl",w:"100%",children:p.jsx(W.Section,{value:f/v*100,children:p.jsx(W.Label,{pos:"absolute",style:{transform:"translate(-50%,0)",left:"50%"},children:`${f} / ${v}`})})})]})},`${r}-${m}`)})})]})})}export{Do as default};
