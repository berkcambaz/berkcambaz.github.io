import{r as f,f as N,u as I,H as Ce,I as we,j as s,J as B,K as Se,L as ve,M as Ze,N as je,O as _e,P as Ot,Q as Xe,R as Ue,U as Q,S as It,V as Tt,W as Nt,X as Dt,Y as Je,Z as Et,_ as kt,$ as re,a as Pt,a0 as $t,a1 as Rt,b as Ft,d as zt,a2 as Ae,a3 as Qe,i as Z,F as z,a4 as Bt,t as ne,a5 as Lt,a6 as Ye,a7 as et,a8 as X,a9 as ae,B as fe,C as Vt,E as he,q as xe,w as Mt,aa as ge,ab as Ht,ac as qt,ad as Kt,ae as Gt,af as Ut,ag as Wt,ah as We}from"./index-jqdp_aed.js";import{u as Zt}from"./use-disclosure-Bxt8GHo-.js";import{P as le,u as ye}from"./Popover-W28Oqex8.js";import{a as tt,I as ot}from"./InputBase-D70diZhm.js";function Xt(e){const t=f.useRef(void 0);return f.useEffect(()=>{t.current=e},[e]),t.current}function st(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>st(t))}:e}function Jt(e){return e?e.map(t=>st(t)):[]}function nt(e){return e.reduce((t,o)=>"group"in o?{...t,...nt(o.items)}:(t[o.value]=o,t),{})}var E={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Qt={error:null},Yt=we((e,{size:t,color:o})=>({chevron:{"--combobox-chevron-size":ve(t,"combobox-chevron-size"),"--combobox-chevron-color":o?Se(o,e):void 0}})),Oe=N((e,t)=>{const o=I("ComboboxChevron",Qt,e),{size:n,error:a,style:l,className:r,classNames:c,styles:i,unstyled:u,vars:m,mod:d,...p}=o,b=Ce({name:"ComboboxChevron",classes:E,props:o,style:l,className:r,classNames:c,styles:i,unstyled:u,vars:m,varsResolver:Yt,rootSelector:"chevron"});return s.jsx(B,{component:"svg",...p,...b("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:a},d],ref:t,children:s.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Oe.classes=E;Oe.displayName="@mantine/core/ComboboxChevron";const[eo,R]=Ze("Combobox component was not found in tree"),rt=f.forwardRef(({size:e,onMouseDown:t,onClick:o,onClear:n,...a},l)=>s.jsx(tt.ClearButton,{ref:l,tabIndex:-1,"aria-hidden":!0,...a,onMouseDown:r=>{r.preventDefault(),t==null||t(r)},onClick:r=>{n(),o==null||o(r)}}));rt.displayName="@mantine/core/ComboboxClearButton";const to={},Ie=N((e,t)=>{const{classNames:o,styles:n,className:a,style:l,hidden:r,...c}=I("ComboboxDropdown",to,e),i=R();return s.jsx(le.Dropdown,{...c,ref:t,role:"presentation","data-hidden":r||void 0,...i.getStyles("dropdown",{className:a,style:l,classNames:o,styles:n})})});Ie.classes=E;Ie.displayName="@mantine/core/ComboboxDropdown";const oo={refProp:"ref"},at=N((e,t)=>{const{children:o,refProp:n}=I("ComboboxDropdownTarget",oo,e);if(R(),!je(o))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return s.jsx(le.Target,{ref:t,refProp:n,children:o})});at.displayName="@mantine/core/ComboboxDropdownTarget";const so={},Te=N((e,t)=>{const{classNames:o,className:n,style:a,styles:l,vars:r,...c}=I("ComboboxEmpty",so,e),i=R();return s.jsx(B,{ref:t,...i.getStyles("empty",{className:n,classNames:o,styles:l,style:a}),...c})});Te.classes=E;Te.displayName="@mantine/core/ComboboxEmpty";function Ne({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:o,withExpandedAttribute:n,targetType:a,autoComplete:l}){const r=R(),[c,i]=f.useState(null),u=d=>{if(e==null||e(d),!r.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),r.store.dropdownOpened?i(r.store.selectNextOption()):(r.store.openDropdown("keyboard"),i(r.store.selectActiveOption()),r.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),r.store.dropdownOpened?i(r.store.selectPreviousOption()):(r.store.openDropdown("keyboard"),i(r.store.selectActiveOption()),r.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const p=r.store.getSelectedOptionIndex();r.store.dropdownOpened&&p!==-1?(d.preventDefault(),r.store.clickSelectedOption()):a==="button"&&(d.preventDefault(),r.store.openDropdown("keyboard"))}d.key==="Escape"&&r.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&a==="button"&&(d.preventDefault(),r.store.toggleDropdown("keyboard"))}};return{...o?{"aria-haspopup":"listbox","aria-expanded":n&&!!(r.store.listId&&r.store.dropdownOpened)||void 0,"aria-controls":r.store.dropdownOpened?r.store.listId:void 0,"aria-activedescendant":r.store.dropdownOpened&&c||void 0,autoComplete:l,"data-expanded":r.store.dropdownOpened||void 0,"data-mantine-stop-propagation":r.store.dropdownOpened||void 0}:{},onKeyDown:u}}const no={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},lt=N((e,t)=>{const{children:o,refProp:n,withKeyboardNavigation:a,withAriaAttributes:l,withExpandedAttribute:r,targetType:c,autoComplete:i,...u}=I("ComboboxEventsTarget",no,e);if(!je(o))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=R(),d=Ne({targetType:c,withAriaAttributes:l,withKeyboardNavigation:a,withExpandedAttribute:r,onKeyDown:o.props.onKeyDown,autoComplete:i});return f.cloneElement(o,{...d,...u,[n]:_e(t,m.store.targetRef,Ot(o))})});lt.displayName="@mantine/core/ComboboxEventsTarget";const ro={},De=N((e,t)=>{const{classNames:o,className:n,style:a,styles:l,vars:r,...c}=I("ComboboxFooter",ro,e),i=R();return s.jsx(B,{ref:t,...i.getStyles("footer",{className:n,classNames:o,style:a,styles:l}),...c,onMouseDown:u=>{u.preventDefault()}})});De.classes=E;De.displayName="@mantine/core/ComboboxFooter";const ao={},Ee=N((e,t)=>{const{classNames:o,className:n,style:a,styles:l,vars:r,children:c,label:i,...u}=I("ComboboxGroup",ao,e),m=R();return s.jsxs(B,{ref:t,...m.getStyles("group",{className:n,classNames:o,style:a,styles:l}),...u,children:[i&&s.jsx("div",{...m.getStyles("groupLabel",{classNames:o,styles:l}),children:i}),c]})});Ee.classes=E;Ee.displayName="@mantine/core/ComboboxGroup";const lo={},ke=N((e,t)=>{const{classNames:o,className:n,style:a,styles:l,vars:r,...c}=I("ComboboxHeader",lo,e),i=R();return s.jsx(B,{ref:t,...i.getStyles("header",{className:n,classNames:o,style:a,styles:l}),...c,onMouseDown:u=>{u.preventDefault()}})});ke.classes=E;ke.displayName="@mantine/core/ComboboxHeader";function it({value:e,valuesDivider:t=",",...o}){return s.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...o})}it.displayName="@mantine/core/ComboboxHiddenInput";const io={},Pe=N((e,t)=>{const o=I("ComboboxOption",io,e),{classNames:n,className:a,style:l,styles:r,vars:c,onClick:i,id:u,active:m,onMouseDown:d,onMouseOver:p,disabled:b,selected:g,mod:C,...w}=o,y=R(),k=f.useId(),S=u||k;return s.jsx(B,{...y.getStyles("option",{className:a,classNames:n,styles:r,style:l}),...w,ref:t,id:S,mod:["combobox-option",{"combobox-active":m,"combobox-disabled":b,"combobox-selected":g},C],role:"option",onClick:h=>{var _;b?h.preventDefault():((_=y.onOptionSubmit)==null||_.call(y,o.value,o),i==null||i(h))},onMouseDown:h=>{h.preventDefault(),d==null||d(h)},onMouseOver:h=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),p==null||p(h)}})});Pe.classes=E;Pe.displayName="@mantine/core/ComboboxOption";const co={},$e=N((e,t)=>{const o=I("ComboboxOptions",co,e),{classNames:n,className:a,style:l,styles:r,id:c,onMouseDown:i,labelledBy:u,...m}=o,d=R(),p=Xe(c);return f.useEffect(()=>{d.store.setListId(p)},[p]),s.jsx(B,{ref:t,...d.getStyles("options",{className:a,style:l,classNames:n,styles:r}),...m,id:p,role:"listbox","aria-labelledby":u,onMouseDown:b=>{b.preventDefault(),i==null||i(b)}})});$e.classes=E;$e.displayName="@mantine/core/ComboboxOptions";const uo={withAriaAttributes:!0,withKeyboardNavigation:!0},Re=N((e,t)=>{const o=I("ComboboxSearch",uo,e),{classNames:n,styles:a,unstyled:l,vars:r,withAriaAttributes:c,onKeyDown:i,withKeyboardNavigation:u,size:m,...d}=o,p=R(),b=p.getStyles("search"),g=Ne({targetType:"input",withAriaAttributes:c,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:i,autoComplete:"off"});return s.jsx(tt,{ref:_e(t,p.store.searchRef),classNames:[{input:b.className},n],styles:[{input:b.style},a],size:m||p.size,...g,...d,__staticSelector:"Combobox"})});Re.classes=E;Re.displayName="@mantine/core/ComboboxSearch";const po={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ct=N((e,t)=>{const{children:o,refProp:n,withKeyboardNavigation:a,withAriaAttributes:l,withExpandedAttribute:r,targetType:c,autoComplete:i,...u}=I("ComboboxTarget",po,e);if(!je(o))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=R(),d=Ne({targetType:c,withAriaAttributes:l,withKeyboardNavigation:a,withExpandedAttribute:r,onKeyDown:o.props.onKeyDown,autoComplete:i}),p=f.cloneElement(o,{...d,...u});return s.jsx(le.Target,{ref:_e(t,m.store.targetRef),children:p})});ct.displayName="@mantine/core/ComboboxTarget";function mo(e,t,o){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(o){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function bo(e,t,o){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(o){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function fo(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function dt({defaultOpened:e,opened:t,onOpenedChange:o,onDropdownClose:n,onDropdownOpen:a,loop:l=!0,scrollBehavior:r="instant"}={}){const[c,i]=ye({value:t,defaultValue:e,finalValue:!1,onChange:o}),u=f.useRef(null),m=f.useRef(-1),d=f.useRef(null),p=f.useRef(null),b=f.useRef(-1),g=f.useRef(-1),C=f.useRef(-1),w=f.useCallback((x="unknown")=>{c||(i(!0),a==null||a(x))},[i,a,c]),y=f.useCallback((x="unknown")=>{c&&(i(!1),n==null||n(x))},[i,n,c]),k=f.useCallback((x="unknown")=>{c?y(x):w(x)},[y,w,c]),S=f.useCallback(()=>{const x=document.querySelector(`#${u.current} [data-combobox-selected]`);x==null||x.removeAttribute("data-combobox-selected"),x==null||x.removeAttribute("aria-selected")},[]),h=f.useCallback(x=>{const T=document.getElementById(u.current),A=T==null?void 0:T.querySelectorAll("[data-combobox-option]");if(!A)return null;const D=x>=A.length?0:x<0?A.length-1:x;return m.current=D,A!=null&&A[D]&&!A[D].hasAttribute("data-combobox-disabled")?(S(),A[D].setAttribute("data-combobox-selected","true"),A[D].setAttribute("aria-selected","true"),A[D].scrollIntoView({block:"nearest",behavior:r}),A[D].id):null},[r,S]),_=f.useCallback(()=>{const x=document.querySelector(`#${u.current} [data-combobox-active]`);if(x){const T=document.querySelectorAll(`#${u.current} [data-combobox-option]`),A=Array.from(T).findIndex(D=>D===x);return h(A)}return h(0)},[h]),j=f.useCallback(()=>h(bo(m.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),l)),[h,l]),H=f.useCallback(()=>h(mo(m.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),l)),[h,l]),M=f.useCallback(()=>h(fo(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[h]),K=f.useCallback((x="selected",T)=>{C.current=window.setTimeout(()=>{var te;const A=document.querySelectorAll(`#${u.current} [data-combobox-option]`),D=Array.from(A).findIndex(ue=>ue.hasAttribute(`data-combobox-${x}`));m.current=D,T!=null&&T.scrollIntoView&&((te=A[D])==null||te.scrollIntoView({block:"nearest",behavior:r}))},0)},[]),G=f.useCallback(()=>{m.current=-1,S()},[S]),J=f.useCallback(()=>{const x=document.querySelectorAll(`#${u.current} [data-combobox-option]`),T=x==null?void 0:x[m.current];T==null||T.click()},[]),L=f.useCallback(x=>{u.current=x},[]),ie=f.useCallback(()=>{b.current=window.setTimeout(()=>d.current.focus(),0)},[]),ce=f.useCallback(()=>{g.current=window.setTimeout(()=>p.current.focus(),0)},[]),de=f.useCallback(()=>m.current,[]);return f.useEffect(()=>()=>{window.clearTimeout(b.current),window.clearTimeout(g.current),window.clearTimeout(C.current)},[]),{dropdownOpened:c,openDropdown:w,closeDropdown:y,toggleDropdown:k,selectedOptionIndex:m.current,getSelectedOptionIndex:de,selectOption:h,selectFirstOption:M,selectActiveOption:_,selectNextOption:j,selectPreviousOption:H,resetSelectedOption:G,updateSelectedOptionIndex:K,listId:u.current,setListId:L,clickSelectedOption:J,searchRef:d,focusSearchInput:ie,targetRef:p,focusTarget:ce}}const ho={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},xo=we((e,{size:t,dropdownPadding:o})=>({options:{"--combobox-option-fz":Ue(t),"--combobox-option-padding":ve(t,"combobox-option-padding")},dropdown:{"--combobox-padding":o===void 0?void 0:Q(o),"--combobox-option-fz":Ue(t),"--combobox-option-padding":ve(t,"combobox-option-padding")}}));function v(e){const t=I("Combobox",ho,e),{classNames:o,styles:n,unstyled:a,children:l,store:r,vars:c,onOptionSubmit:i,onClose:u,size:m,dropdownPadding:d,resetSelectionOnOptionHover:p,__staticSelector:b,readOnly:g,...C}=t,w=dt(),y=r||w,k=Ce({name:b||"Combobox",classes:E,props:t,classNames:o,styles:n,unstyled:a,vars:c,varsResolver:xo}),S=()=>{u==null||u(),y.closeDropdown()};return s.jsx(eo,{value:{getStyles:k,store:y,onOptionSubmit:i,size:m,resetSelectionOnOptionHover:p,readOnly:g},children:s.jsx(le,{opened:y.dropdownOpened,...C,onChange:h=>!h&&S(),withRoles:!1,unstyled:a,children:l})})}const go=e=>e;v.extend=go;v.classes=E;v.displayName="@mantine/core/Combobox";v.Target=ct;v.Dropdown=Ie;v.Options=$e;v.Option=Pe;v.Search=Re;v.Empty=Te;v.Chevron=Oe;v.Footer=De;v.Header=ke;v.EventsTarget=lt;v.DropdownTarget=at;v.Group=Ee;v.ClearButton=rt;v.HiddenInput=it;function vo({size:e,style:t,...o}){const n=e!==void 0?{width:Q(e),height:Q(e),...t}:t;return s.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...o,children:s.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Y(e){return"group"in e}function ut({options:e,search:t,limit:o}){const n=t.trim().toLowerCase(),a=[];for(let l=0;l<e.length;l+=1){const r=e[l];if(a.length===o)return a;Y(r)&&a.push({group:r.group,items:ut({options:r.items,search:t,limit:o-a.length})}),Y(r)||r.label.toLowerCase().includes(n)&&a.push(r)}return a}function yo(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function pt(e,t=new Set){if(Array.isArray(e))for(const o of e)if(Y(o))pt(o.items,t);else{if(typeof o.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof o.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof o.value}`);if(t.has(o.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${o.value}" was provided more than once`);t.add(o.value)}}function Co(e,t){return Array.isArray(e)?e.includes(t):e===t}function mt({data:e,withCheckIcon:t,value:o,checkIconPosition:n,unstyled:a,renderOption:l}){if(!Y(e)){const c=Co(o,e.value),i=t&&c&&s.jsx(vo,{className:E.optionsDropdownCheckIcon}),u=s.jsxs(s.Fragment,{children:[n==="left"&&i,s.jsx("span",{children:e.label}),n==="right"&&i]});return s.jsx(v.Option,{value:e.value,disabled:e.disabled,className:Tt({[E.optionsDropdownOption]:!a}),"data-reverse":n==="right"||void 0,"data-checked":c||void 0,"aria-selected":c,active:c,children:typeof l=="function"?l({option:e,checked:c}):u})}const r=e.items.map(c=>s.jsx(mt,{data:c,value:o,unstyled:a,withCheckIcon:t,checkIconPosition:n,renderOption:l},c.value));return s.jsx(v.Group,{label:e.group,children:r})}function wo({data:e,hidden:t,hiddenWhenEmpty:o,filter:n,search:a,limit:l,maxDropdownHeight:r,withScrollArea:c=!0,filterOptions:i=!0,withCheckIcon:u=!1,value:m,checkIconPosition:d,nothingFoundMessage:p,unstyled:b,labelId:g,renderOption:C,scrollAreaProps:w,"aria-label":y}){pt(e);const S=typeof a=="string"?(n||ut)({options:e,search:i?a:"",limit:l??1/0}):e,h=yo(S),_=S.map(j=>s.jsx(mt,{data:j,withCheckIcon:u,value:m,checkIconPosition:d,unstyled:b,renderOption:C},Y(j)?j.group:j.value));return s.jsx(v.Dropdown,{hidden:t||o&&h,"data-composed":!0,children:s.jsxs(v.Options,{labelledBy:g,"aria-label":y,children:[c?s.jsx(It.Autosize,{mah:r??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...w,children:_}):_,h&&p&&s.jsx(v.Empty,{children:p})]})})}const So={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Fe=N((e,t)=>{const o=I("Select",So,e),{classNames:n,styles:a,unstyled:l,vars:r,dropdownOpened:c,defaultDropdownOpened:i,onDropdownClose:u,onDropdownOpen:m,onFocus:d,onBlur:p,onClick:b,onChange:g,data:C,value:w,defaultValue:y,selectFirstOptionOnChange:k,onOptionSubmit:S,comboboxProps:h,readOnly:_,disabled:j,filter:H,limit:M,withScrollArea:K,maxDropdownHeight:G,size:J,searchable:L,rightSection:ie,checkIconPosition:ce,withCheckIcon:de,nothingFoundMessage:x,name:T,form:A,searchValue:D,defaultSearchValue:te,onSearchChange:ue,allowDeselect:bt,error:Le,rightSectionPointerEvents:ft,id:ht,clearable:xt,clearButtonProps:gt,hiddenInputProps:vt,renderOption:yt,onClear:pe,autoComplete:Ct,scrollAreaProps:wt,__defaultRightSection:$o,__clearSection:Ro,__clearable:Fo,chevronColor:St,...oe}=o,me=f.useMemo(()=>Jt(C),[C]),U=f.useMemo(()=>nt(me),[me]),Ve=Xe(ht),[P,Me,He]=ye({value:w,defaultValue:y,finalValue:null,onChange:g}),F=typeof P=="string"?U[P]:void 0,W=Xt(F),[se,jt,_t]=ye({value:D,defaultValue:te,finalValue:F?F.label:"",onChange:ue}),$=dt({opened:c,defaultOpened:i,onDropdownOpen:()=>{m==null||m(),$.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),$.resetSelectedOption()}}),q=O=>{jt(O),$.resetSelectedOption()},{resolvedClassNames:qe,resolvedStyles:Ke}=Nt({props:o,styles:a,classNames:n});f.useEffect(()=>{k&&$.selectFirstOption()},[k,se]),f.useEffect(()=>{w===null&&q(""),typeof w=="string"&&F&&((W==null?void 0:W.value)!==F.value||(W==null?void 0:W.label)!==F.label)&&q(F.label)},[w,F]),f.useEffect(()=>{var O;!He&&!_t&&q(typeof P=="string"&&((O=U[P])==null?void 0:O.label)||"")},[C,P]);const At=s.jsx(v.ClearButton,{...gt,onClear:()=>{Me(null,null),q(""),pe==null||pe()}}),Ge=xt&&!!P&&!j&&!_;return s.jsxs(s.Fragment,{children:[s.jsxs(v,{store:$,__staticSelector:"Select",classNames:qe,styles:Ke,unstyled:l,readOnly:_,onOptionSubmit:O=>{S==null||S(O);const V=bt&&U[O].value===P?null:U[O],be=V?V.value:null;be!==P&&Me(be,V),!He&&q(typeof be=="string"&&(V==null?void 0:V.label)||""),$.closeDropdown()},size:J,...h,children:[s.jsx(v.Target,{targetType:L?"input":"button",autoComplete:Ct,children:s.jsx(ot,{id:Ve,ref:t,__defaultRightSection:s.jsx(v.Chevron,{size:J,error:Le,unstyled:l,color:St}),__clearSection:At,__clearable:Ge,rightSection:ie,rightSectionPointerEvents:ft||(Ge?"all":"none"),...oe,size:J,__staticSelector:"Select",disabled:j,readOnly:_||!L,value:se,onChange:O=>{q(O.currentTarget.value),$.openDropdown(),k&&$.selectFirstOption()},onFocus:O=>{L&&$.openDropdown(),d==null||d(O)},onBlur:O=>{var V;L&&$.closeDropdown(),q(P!=null&&((V=U[P])==null?void 0:V.label)||""),p==null||p(O)},onClick:O=>{L?$.openDropdown():$.toggleDropdown(),b==null||b(O)},classNames:qe,styles:Ke,unstyled:l,pointer:!L,error:Le})}),s.jsx(wo,{data:me,hidden:_||j,filter:H,search:se,limit:M,hiddenWhenEmpty:!x,withScrollArea:K,maxDropdownHeight:G,filterOptions:L&&(F==null?void 0:F.label)!==se,value:P,checkIconPosition:ce,withCheckIcon:de,nothingFoundMessage:x,unstyled:l,labelId:oe.label?`${Ve}-label`:void 0,"aria-label":oe.label?void 0:oe["aria-label"],renderOption:yt,scrollAreaProps:wt})]}),s.jsx(v.HiddenInput,{value:P,name:T,form:A,disabled:j,...vt})]})});Fe.classes={...ot.classes,...v.classes};Fe.displayName="@mantine/core/Select";const[jo,_o]=Ze("Timeline component was not found in tree");var ze={root:"m_43657ece",itemTitle:"m_2ebe8099",item:"m_436178ff",itemBullet:"m_8affcee1",itemBody:"m_540e8f41"};const Ao={},Be=N((e,t)=>{const o=I("TimelineItem",Ao,e),{classNames:n,className:a,style:l,styles:r,vars:c,__active:i,__align:u,__lineActive:m,__vars:d,bullet:p,radius:b,color:g,lineVariant:C,children:w,title:y,mod:k,...S}=o,h=_o(),_=Dt(),j={classNames:n,styles:r};return s.jsxs(B,{...h.getStyles("item",{...j,className:a,style:l}),mod:[{"line-active":m,active:i},k],ref:t,__vars:{"--tli-radius":b?Je(b):void 0,"--tli-color":g?Se(g,_):void 0,"--tli-border-style":C||void 0},...S,children:[s.jsx(B,{...h.getStyles("itemBullet",j),mod:{"with-child":!!p,align:u,active:i},children:p}),s.jsxs("div",{...h.getStyles("itemBody",j),children:[y&&s.jsx("div",{...h.getStyles("itemTitle",j),children:y}),s.jsx("div",{...h.getStyles("itemContent",j),children:w})]})]})});Be.classes=ze;Be.displayName="@mantine/core/TimelineItem";const Oo={active:-1,align:"left",reverseActive:!1},Io=we((e,{bulletSize:t,lineWidth:o,radius:n,color:a,autoContrast:l})=>({root:{"--tl-bullet-size":Q(t),"--tl-line-width":Q(o),"--tl-radius":n===void 0?void 0:Je(n),"--tl-color":a?Se(a,e):void 0,"--tl-icon-color":kt(l,e)?Et({color:a,theme:e,autoContrast:l}):void 0}})),ee=N((e,t)=>{const o=I("Timeline",Oo,e),{classNames:n,className:a,style:l,styles:r,unstyled:c,vars:i,children:u,active:m,color:d,radius:p,bulletSize:b,align:g,lineWidth:C,reverseActive:w,mod:y,autoContrast:k,...S}=o,h=Ce({name:"Timeline",classes:ze,props:o,className:a,style:l,classNames:n,styles:r,unstyled:c,vars:i,varsResolver:Io}),_=f.Children.toArray(u),j=_.map((H,M)=>{var K,G;return f.cloneElement(H,{unstyled:c,__align:g,__active:((K=H.props)==null?void 0:K.active)||(w?m>=_.length-M-1:m>=M),__lineActive:((G=H.props)==null?void 0:G.lineActive)||(w?m>=_.length-M-1:m-1>=M)})});return s.jsx(jo,{value:{getStyles:h},children:s.jsx(B,{...h("root"),mod:[{align:g},y],ref:t,...S,children:j})})});ee.classes=ze;ee.displayName="@mantine/core/Timeline";ee.Item=Be;function To(e,t){return!(Math.floor((Date.now()-e.campaign.lastFarmDate)/1e3)<5)}function No(e,t){if(!To(e))return;const o=re(e),n=[{item:Pt(o.gold)},{item:$t(o.food)},{item:Rt(o.xp)}];e.campaign.lastFarmDate=Date.now(),Ft(e,{toAdd:n}),zt.collectCampaignFarm.dispatch({player:e})}var Do=Ae("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]),Eo=Ae("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]),ko=Ae("search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);function Mo(){const[e,{open:t,close:o}]=Zt(),{t:n}=Qe(),a=Z(b=>b.player),l=Z(b=>{var g;return(g=b.player)==null?void 0:g.campaign}),r=(l==null?void 0:l.stage)??0,c=ae,[i,u]=f.useState(a?re(a):void 0);f.useEffect(()=>{const g=setInterval(()=>{const C=Z.getState().player;C&&u(re(C))},1e3);return()=>clearTimeout(g)},[]);const m=()=>{t()},d=()=>{Z.getState().player&&Mt.setState(g=>{g.modals.lineup={opened:!0,battleId:"campaign"}})},p=()=>{Z.setState(b=>{b.player&&(No(b.player),u(re(b.player)))})};return l?s.jsxs(s.Fragment,{children:[s.jsxs(z,{direction:"column",align:"center",justify:"center",gap:"md",h:"100%",children:[s.jsxs(z,{align:"center",pos:"relative",children:[s.jsx(z,{pr:"xs",pos:"absolute",right:"100%",children:s.jsx(Bt,{radius:"xl",size:32,onClick:m,children:s.jsx(ko,{})})}),s.jsx(z,{maw:120,style:{wordBreak:"break-word"},children:s.jsx(ne,{fz:"lg",fw:"bold",ta:"center",lineClamp:3,children:n(l.id)})}),s.jsx(z,{pl:"xs",pos:"absolute",left:"100%",children:s.jsx(Lt,{tier:l.tier})})]}),s.jsx(Ye,{src:et(l.id),draggable:!1,style:{imageRendering:"pixelated",width:"auto",height:200,flex:"unset"}}),s.jsx(X.Root,{size:"xl",w:"100%",maw:100,children:s.jsx(X.Section,{value:r/c*100,children:s.jsx(X.Label,{pos:"absolute",style:{transform:"translate(-50%,0)",left:"50%"},children:`${r} / ${c}`})})}),s.jsx(fe,{size:"md",onClick:d,children:"Battle"}),s.jsx(Vt,{withBorder:!0,p:0,w:"100%",maw:300,children:s.jsxs(fe.Group,{children:[s.jsxs(z,{align:"center",px:"xs",style:{flex:1},children:[s.jsxs(z,{align:"center",w:"100%",children:[s.jsx(he,{emoji:"ðŸª™",size:20}),"Â ",s.jsx(ne,{size:"sm",w:"100%",children:xe((i==null?void 0:i.gold)||0)})]}),s.jsxs(z,{align:"center",w:"100%",children:[s.jsx(he,{emoji:"ðŸ",size:20}),"Â ",s.jsx(ne,{size:"sm",children:xe((i==null?void 0:i.food)||0)})]}),s.jsxs(z,{align:"center",w:"100%",children:[s.jsx(he,{emoji:"â­",size:20}),"Â ",s.jsx(ne,{size:"sm",children:xe((i==null?void 0:i.xp)||0)})]})]}),s.jsx(fe,{onClick:p,children:"Get"})]})})]}),s.jsx(Po,{opened:e,onClose:o})]}):null}function Po({opened:e,onClose:t}){const{t:o}=Qe(),n=Z(d=>d.player),[a,l]=f.useState(ge(n?n.campaign.tier:"F")),r=d=>{if(!d)return;const p=We(Number(d));p&&l(ge(p))},c=n?ge(n.campaign.tier):0,i=n?Ht(n.campaign.id):0;let u=-1;const m=Ut(We(a));return c>a?u=Object.values(qt).length:c===a&&(u=i),s.jsx(Kt,{opened:e,onClose:t,centered:!0,size:360,title:"Campaign Details",styles:{content:{height:"100%",maxHeight:480}},children:s.jsxs(z,{direction:"column",gap:"md",children:[s.jsx(Fe,{value:`${a}`,onChange:r,data:Gt.map((d,p)=>({value:`${p}`,label:`${d} Tier`}))}),s.jsx(ee,{active:u,bulletSize:24,lineWidth:2,children:[...Array(m).keys()].map(d=>{const p=Wt(d);let b=0;const g=ae;c>a?b=ae:c===a&&i>d?b=ae:c===a&&i===d&&(b=(n==null?void 0:n.campaign.stage)??0);const C=b>=g;return s.jsx(ee.Item,{title:p?o(p):void 0,bullet:C?s.jsx(Do,{size:12}):s.jsx(Eo,{size:12}),children:s.jsxs(z,{direction:"column",align:"start",gap:"xs",children:[s.jsx(Ye,{src:et(p),draggable:!1,style:{imageRendering:"pixelated",width:"auto",height:128,flex:"unset"}}),s.jsx(X.Root,{size:"xl",w:"100%",children:s.jsx(X.Section,{value:b/g*100,children:s.jsx(X.Label,{pos:"absolute",style:{transform:"translate(-50%,0)",left:"50%"},children:`${b} / ${g}`})})})]})},`${a}-${d}`)})})]})})}export{Mo as default};
