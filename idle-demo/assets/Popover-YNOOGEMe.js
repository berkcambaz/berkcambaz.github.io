import{r as g,M as Fe,f as B,u as N,aX as ze,O as J,j as w,aY as W,aZ as q,a_ as Ie,J as _e,a$ as je,U as ke,N as Ae,P as Me,V as $e,b0 as Ue,b1 as Ve,aQ as L,b2 as Ye,b3 as Ke,b4 as X,b5 as H,b6 as Q,b7 as Le,b8 as Xe,b9 as He,H as Qe,I as Ze,W as Be,aN as Je,Q as We,ba as qe,bb as Ge,bc as eo,Y as oo}from"./index-CrCcRTbH.js";const to=()=>{};function ro(e,r={active:!0}){return typeof e!="function"||!r.active?r.onKeyDown||to:t=>{var a;t.key==="Escape"&&(e(t),(a=r.onTrigger)==null||a.call(r))}}const Z=["mousedown","touchstart"];function so(e,r,t){const a=g.useRef(null);return g.useEffect(()=>{const d=l=>{const{target:i}=l??{};if(Array.isArray(t)){const n=(i==null?void 0:i.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(i)&&i.tagName!=="HTML";t.every(c=>!!c&&!l.composedPath().includes(c))&&!n&&e()}else a.current&&!a.current.contains(i)&&e()};return(r||Z).forEach(l=>document.addEventListener(l,d)),()=>{(r||Z).forEach(l=>document.removeEventListener(l,d))}},[a,e,t]),a}function ao({value:e,defaultValue:r,finalValue:t,onChange:a=()=>{}}){const[d,l]=g.useState(r!==void 0?r:t),i=(n,...s)=>{l(n),a==null||a(n,...s)};return e!==void 0?[e,a,!0]:[d,i,!1]}const[no,G]=Fe("Popover component was not found in the tree");var ee={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const io={},F=B((e,r)=>{var S,C,y,m;const t=N("PopoverDropdown",io,e),{className:a,style:d,vars:l,children:i,onKeyDownCapture:n,variant:s,classNames:c,styles:f,...P}=t,o=G(),O=ze({opened:o.opened,shouldReturnFocus:o.returnFocus}),D=o.withRoles?{"aria-labelledby":o.getTargetId(),id:o.getDropdownId(),role:"dialog",tabIndex:-1}:{},R=J(r,o.floating);return o.disabled?null:w.jsx(W,{...o.portalProps,withinPortal:o.withinPortal,children:w.jsx(q,{mounted:o.opened,...o.transitionProps,transition:((S=o.transitionProps)==null?void 0:S.transition)||"fade",duration:((C=o.transitionProps)==null?void 0:C.duration)??150,keepMounted:o.keepMounted,exitDuration:typeof((y=o.transitionProps)==null?void 0:y.exitDuration)=="number"?o.transitionProps.exitDuration:(m=o.transitionProps)==null?void 0:m.duration,children:v=>w.jsx(Ie,{active:o.trapFocus&&o.opened,innerRef:R,children:w.jsxs(_e,{...D,...P,variant:s,onKeyDownCapture:ro(()=>{var E,x;(E=o.onClose)==null||E.call(o),(x=o.onDismiss)==null||x.call(o)},{active:o.closeOnEscape,onTrigger:O,onKeyDown:n}),"data-position":o.placement,"data-fixed":o.floatingStrategy==="fixed"||void 0,...o.getStyles("dropdown",{className:a,props:t,classNames:c,styles:f,style:[{...v,zIndex:o.zIndex,top:o.y??0,left:o.x??0,width:o.width==="target"?void 0:ke(o.width)},o.resolvedStyles.dropdown,f==null?void 0:f.dropdown,d]}),children:[i,w.jsx(je,{ref:o.arrowRef,arrowX:o.arrowX,arrowY:o.arrowY,visible:o.withArrow,position:o.placement,arrowSize:o.arrowSize,arrowRadius:o.arrowRadius,arrowOffset:o.arrowOffset,arrowPosition:o.arrowPosition,...o.getStyles("arrow",{props:t,classNames:c,styles:f})})]})})})})});F.classes=ee;F.displayName="@mantine/core/PopoverDropdown";const lo={refProp:"ref",popupType:"dialog"},oe=B((e,r)=>{const{children:t,refProp:a,popupType:d,...l}=N("PopoverTarget",lo,e);if(!Ae(t))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=l,n=G(),s=J(n.reference,Me(t),r),c=n.withRoles?{"aria-haspopup":d,"aria-expanded":n.opened,"aria-controls":n.getDropdownId(),id:n.getTargetId()}:{};return g.cloneElement(t,{...i,...c,...n.targetProps,className:$e(n.targetProps.className,i.className,t.props.className),[a]:s,...n.controlled?null:{onClick:n.onToggle}})});oe.displayName="@mantine/core/PopoverTarget";function co(e){if(e===void 0)return{shift:!0,flip:!0};const r={...e};return e.shift===void 0&&(r.shift=!0),e.flip===void 0&&(r.flip=!0),r}function uo(e,r){const t=co(e.middlewares),a=[Ye(e.offset)];return t.shift&&a.push(Ke(typeof t.shift=="boolean"?{limiter:X(),padding:5}:{limiter:X(),padding:5,...t.shift})),t.flip&&a.push(typeof t.flip=="boolean"?H():H(t.flip)),t.inline&&a.push(typeof t.inline=="boolean"?Q():Q(t.inline)),a.push(Le({element:e.arrowRef,padding:e.arrowOffset})),(t.size||e.width==="target")&&a.push(Xe({...typeof t.size=="boolean"?{}:t.size,apply({rects:d,availableWidth:l,availableHeight:i,...n}){var f;const c=((f=r().refs.floating.current)==null?void 0:f.style)??{};t.size&&(typeof t.size=="object"&&t.size.apply?t.size.apply({rects:d,availableWidth:l,availableHeight:i,...n}):Object.assign(c,{maxWidth:`${l}px`,maxHeight:`${i}px`})),e.width==="target"&&Object.assign(c,{width:`${d.reference.width}px`})}})),a}function fo(e){const[r,t]=ao({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),a=g.useRef(r),d=()=>{r&&!e.disabled&&t(!1)},l=()=>!e.disabled&&t(!r),i=Ue({strategy:e.strategy,placement:e.position,middleware:uo(e,()=>i)});return Ve({opened:r,position:e.position,positionDependencies:e.positionDependencies||[],floating:i}),L(()=>{var n;(n=e.onPositionChange)==null||n.call(e,i.placement)},[i.placement]),L(()=>{var n,s;r!==a.current&&(r?(s=e.onOpen)==null||s.call(e):(n=e.onClose)==null||n.call(e)),a.current=r},[r,e.onClose,e.onOpen]),{floating:i,controlled:typeof e.opened=="boolean",opened:r,onClose:d,onToggle:l}}const po={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:He("popover"),__staticSelector:"Popover",width:"max-content"},go=Ze((e,{radius:r,shadow:t})=>({dropdown:{"--popover-radius":r===void 0?void 0:oo(r),"--popover-shadow":eo(t)}}));function T(e){var M,$,U,V,Y,K;const r=N("Popover",po,e),{children:t,position:a,offset:d,onPositionChange:l,positionDependencies:i,opened:n,transitionProps:s,onExitTransitionEnd:c,onEnterTransitionEnd:f,width:P,middlewares:o,withArrow:O,arrowSize:D,arrowOffset:R,arrowRadius:S,arrowPosition:C,unstyled:y,classNames:m,styles:v,closeOnClickOutside:E,withinPortal:x,portalProps:te,closeOnEscape:re,clickOutsideEvents:se,trapFocus:ae,onClose:ne,onDismiss:b,onOpen:ie,onChange:le,zIndex:de,radius:ce,shadow:ue,id:fe,defaultOpened:pe,__staticSelector:z,withRoles:ge,disabled:I,returnFocus:we,variant:he,keepMounted:me,vars:ye,floatingStrategy:_,withOverlay:ve,overlayProps:h,...xe}=r,j=Qe({name:z,props:r,classes:ee,classNames:m,styles:v,unstyled:y,rootSelector:"dropdown",vars:ye,varsResolver:go}),{resolvedStyles:be}=Be({classNames:m,styles:v,props:r}),k=g.useRef(null),[Pe,Oe]=g.useState(null),[De,Re]=g.useState(null),{dir:Se}=Je(),A=We(fe),u=fo({middlewares:o,width:P,position:qe(Se,a),offset:typeof d=="number"?d+(O?D/2:0):d,arrowRef:k,arrowOffset:R,onPositionChange:l,positionDependencies:i,opened:n,defaultOpened:pe,onChange:le,onOpen:ie,onClose:ne,onDismiss:b,strategy:_,disabled:I});so(()=>{E&&(u.onClose(),b==null||b())},se,[Pe,De]);const Ce=g.useCallback(p=>{Oe(p),u.floating.refs.setReference(p)},[u.floating.refs.setReference]),Ee=g.useCallback(p=>{Re(p),u.floating.refs.setFloating(p)},[u.floating.refs.setFloating]),Te=g.useCallback(()=>{var p;(p=s==null?void 0:s.onExited)==null||p.call(s),c==null||c()},[s==null?void 0:s.onExited,c]),Ne=g.useCallback(()=>{var p;(p=s==null?void 0:s.onEntered)==null||p.call(s),f==null||f()},[s==null?void 0:s.onEntered,f]);return w.jsxs(no,{value:{returnFocus:we,disabled:I,controlled:u.controlled,reference:Ce,floating:Ee,x:u.floating.x,y:u.floating.y,arrowX:(U=($=(M=u.floating)==null?void 0:M.middlewareData)==null?void 0:$.arrow)==null?void 0:U.x,arrowY:(K=(Y=(V=u.floating)==null?void 0:V.middlewareData)==null?void 0:Y.arrow)==null?void 0:K.y,opened:u.opened,arrowRef:k,transitionProps:{...s,onExited:Te,onEntered:Ne},width:P,withArrow:O,arrowSize:D,arrowOffset:R,arrowRadius:S,arrowPosition:C,placement:u.floating.placement,trapFocus:ae,withinPortal:x,portalProps:te,zIndex:de,radius:ce,shadow:ue,closeOnEscape:re,onDismiss:b,onClose:u.onClose,onToggle:u.onToggle,getTargetId:()=>`${A}-target`,getDropdownId:()=>`${A}-dropdown`,withRoles:ge,targetProps:xe,__staticSelector:z,classNames:m,styles:v,unstyled:y,variant:he,keepMounted:me,getStyles:j,resolvedStyles:be,floatingStrategy:_},children:[t,ve&&w.jsx(q,{transition:"fade",mounted:u.opened,duration:(s==null?void 0:s.duration)||250,exitDuration:(s==null?void 0:s.exitDuration)||250,children:p=>w.jsx(W,{withinPortal:x,children:w.jsx(Ge,{...h,...j("overlay",{className:h==null?void 0:h.className,style:[p,h==null?void 0:h.style]})})})})]})}T.Target=oe;T.Dropdown=F;T.displayName="@mantine/core/Popover";T.extend=e=>e;export{T as P,ao as u};
