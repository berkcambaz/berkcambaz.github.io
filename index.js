(()=>{"use strict";var e,t,n,r,o,a,i,s={2989:(e,t,n)=>{n.r(t),n.d(t,{Soda:()=>r});const r=new class{constructor(){this.components={},this.id=0,this.work=[]}state(e,t){const n=this.currentComponent;n.__hooks[n.__hookId]=n.__hooks[n.__hookId]||e;const r=n.__hookId;return[n.__hooks[n.__hookId++],(e,o)=>{const a=n.__hooks[r];return n.__hooks[r]=e,o||t&&t(a,e)||n.update(),e}]}effect(e,t){var n;const r=this.currentComponent;if(!r.__dom)return void this.work.push({cb:()=>{this.effect(e,t)},hookId:r.__hookId++});const o=r.__hooks[r.__hookId],a=!(null==o?void 0:o.deps)||!t.every(((e,t)=>e===o.deps[t]));t&&!a||("function"==typeof(null===(n=r.__hooks[r.__hookId])||void 0===n?void 0:n.cleanup)&&r.__hooks[r.__hookId].cleanup(),r.__hooks[r.__hookId]={},r.__hooks[r.__hookId].deps=t,r.__hooks[r.__hookId].cleanup=e()),++r.__hookId}ref(){return this.state({dom:void 0})[0]}createElement(e,t,...n){return{tag:e,attrs:t,children:n}}render(e,t){if("function"==typeof e.tag){const n={attrs:e.attrs,update:()=>{if("function"==typeof e.tag){const t=this.currentComponent;this.currentComponent=n,n.__hookId=0;const r=e.tag(n.attrs);this._update(n.__dom,r,n.__element,n),n.__element=r,this.currentComponent=t}},__dom:void 0,__element:void 0,__children:[],__hooks:[],__hookId:0},r=this.currentComponent;this.currentComponent=n;const o=this.id++;return this.components[o]=n,this._render(t,n.__element=e.tag(n.attrs),n,{svg:!1,parent:!0}),this.processWork(),this.currentComponent=r,o}}_render(e,t,n,r){if(Array.isArray(t)){for(let o=0;o<t.length;++o)"function"==typeof t[o].tag?n.__children.push(this.render(t[o],e)):this._render(e,t[o],n,r);return}let o;"svg"===t.tag||r.svg?(o=document.createElementNS("http://www.w3.org/2000/svg",t.tag),r.svg=!0):o=document.createElement(t.tag),r.parent&&(n.__dom=o,r.parent=!1);for(let e in t.attrs)e.startsWith("on")?o.addEventListener(e.substring(2).toLowerCase(),t.attrs[e],{capture:!0}):this.setDomAttribute(o,e,t.attrs[e],void 0);for(let e=0;e<t.children.length;++e)"function"==typeof t.children[e].tag?n.__children.push(this.render(t.children[e],o)):"object"==typeof t.children[e]?this._render(o,t.children[e],n,r):o.appendChild(document.createTextNode(t.children[e]));e.appendChild(o)}_update(e,t,n,r){var o,a;if(e.tagName.toLowerCase()!==t.tag){const n=e.parentNode;null==n||n.removeChild(e),e=document.createElement(t.tag),null==n||n.appendChild(e)}const i={};for(let r in null==n?void 0:n.attrs)r.startsWith("on")?(n.attrs&&n.attrs[r]&&e.removeEventListener(r.substring(2).toLowerCase(),n.attrs[r],{capture:!0}),t.attrs&&t.attrs[r]&&(i[r]=!0,e.addEventListener(r.substring(2).toLowerCase(),t.attrs[r],{capture:!0}))):(null==t?void 0:t.attrs[r])?(i[r]=!0,this.setDomAttribute(e,r,t.attrs[r],n.attrs[r])):this.removeDomAttribute(e,r);for(let n in null==t?void 0:t.attrs)i[n]||(n.startsWith("on")?t.attrs&&t.attrs[n]&&e.addEventListener(n.substring(2).toLowerCase(),t.attrs[n],{capture:!0}):this.setDomAttribute(e,n,t.attrs[n],void 0));for(let i=0;i<t.children.length||i<e.childNodes.length;++i)if(void 0!==t.children[i])if("function"==typeof t.children[i].tag){const n=document.createElement("div");r.__children.push(this.render(t.children[i],n)),void 0===e.childNodes[i]?e.appendChild(n.firstChild):e.replaceChild(n.firstChild,e.childNodes[i])}else{if(Array.isArray(t.children[i])){const s=n.children[i],c=t.children[i];let d={};for(let t=0;t<s.length;++t)d[s[t].attrs.key]=e.childNodes[t];for(let t=0,n=0;t<s.length||n<c.length;)if((null===(o=s[t])||void 0===o?void 0:o.attrs.key)===(null===(a=c[n])||void 0===a?void 0:a.attrs.key)){if("function"==typeof c[n].tag)this.components[r.__children[t]].attrs=c[n].attrs,this.components[r.__children[t]].update();else{let e=d[s[t].attrs.key];this._update(e,c[n],s[t],r)}++t,++n}else if(s[t]&&c[n]){let o=d[s[t].attrs.key];const a=document.createElement("div");"function"==typeof c[n].tag?r.__children.push(this.render(c[n],a)):this._render(a,c[n],r,{svg:!1,parent:!1}),e.insertBefore(a.firstChild,o),++n}else if(!s[t]&&c[n]){const t=document.createElement("div");"function"==typeof c[n].tag?r.__children.push(this.render(c[n],t)):this._render(t,c[n],r,{svg:!1,parent:!1}),e.appendChild(t.firstChild),++n}else s[t]&&!c[n]?(e.removeChild(d[s[t].attrs.key]),++t,++n):(++t,++n);break}"object"==typeof t.children[i]?(void 0===e.childNodes[i]?e.appendChild(document.createElement(t.children[i].tag)):e.childNodes[i].nodeType!==document.ELEMENT_NODE&&e.insertBefore(document.createElement(t.children[i].tag),e.childNodes[i]),this._update(e.childNodes[i],t.children[i],n.children[i],r)):void 0===e.childNodes[i]?e.appendChild(document.createTextNode(t.children[i])):e.childNodes[i].nodeType!==document.TEXT_NODE?e.insertBefore(document.createTextNode(t.children[i]),e.childNodes[i]):e.childNodes[i].nodeValue!==t.children[i]&&(e.childNodes[i].nodeValue=t.children[i])}else e.removeChild(e.childNodes[i--]);this.removeChildren(r,!1)}removeChildren(e,t){for(let n=0;n<e.__children.length;++n)!t&&this.components[e.__children[n]].__dom.parentNode||(this.removeChildren(this.components[e.__children[n]],!0),delete this.components[e.__children[n]],e.__children.splice(n--,1))}setDomAttribute(e,t,n,r){switch(t){case"key":case"":break;case"ref":n.dom=e;break;case"style":for(const t in n)e.style.setProperty(t,n[t]);break;default:n!==r&&e.setAttribute(t,n)}}removeDomAttribute(e,t){switch(t){case"key":case"ref":case"":case"style":break;default:e.removeAttribute(t)}}processWork(){for(let e=0;e<this.work.length;++e)this.currentComponent.__hookId=this.work[e].hookId,this.work[e].cb();this.work=[]}}},4800:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".ui-menu .__top{display:flex;justify-content:center;align-items:center;flex-direction:column;position:absolute;top:0;left:50%;transform:translate(-50%, 0);color:#0e0e12;background-color:#c1c1d2;width:100vw;height:50px}@media screen and (min-width: 1024px){.ui-menu .__top{width:1024px;border-radius:0 0 10px 10px}}.ui-menu .__top .__name-title{font-size:19px;font-weight:500}.ui-menu .__top .__version-title{font-size:13px}.ui-menu .__top .__icon{position:absolute;left:0;padding:9px;cursor:pointer}.ui-menu .__top .__disabled{visibility:hidden}.ui-menu .__bottom{position:absolute;bottom:0;left:50%;transform:translate(-50%, 0)}.ui-ingame .__top{width:100vw;height:64px;position:absolute;top:0;left:50%;transform:translate(-50%, 0);display:flex;flex-direction:row;align-items:center;background-color:#c1c1d2}@media screen and (min-width: 1024px){.ui-ingame .__top{width:1024px;border-radius:0 0 10px 10px}}.ui-ingame .__top img{width:48px;height:48px;margin:0 8px}.ui-ingame .__top .__info{width:100px}.ui-ingame .__top .__icon{position:absolute;right:0;padding-right:16px;cursor:pointer}.ui-ingame .__bottom{width:100vw;position:absolute;bottom:0;left:50%;transform:translate(-50%, 0);background-color:#c1c1d2;overflow-x:auto}@media screen and (min-width: 1024px){.ui-ingame .__bottom{width:1024px;border-radius:10px 10px 0 0}}.ui-ingame .__bottom>:first-child{height:64px;display:inline-block;white-space:nowrap}.ui-ingame .__bottom>:first-child :first-child{margin-left:7px}.ui-ingame .__bottom>:first-child :last-child{margin-right:7px}.ui-ingame .__bottom img{display:inline-block;width:48px;height:48px;margin:7px 3px;border:1px solid #535373;border-radius:5px;cursor:pointer}.ui-menu .__main{display:flex;flex-direction:column;background-color:#c1c1d2;padding:5px;border-radius:10px 10px 0 0}.ui-menu .__main .__btn{padding:5px 20px;border:1px solid #535373;color:#0e0e12;border-radius:5px;cursor:pointer;margin:5px}.ui-menu .__main .__btn:hover{background-color:#e6e6ec}.ui-menu .__new{background-color:#c1c1d2;padding:5px;border-radius:10px 10px 0 0}.ui-menu .__new .__img-container{display:flex;justify-content:space-around}.ui-menu .__new .__img-container :nth-child(n){cursor:pointer;border-radius:5px;width:48px;height:48px}.ui-menu .__new .__img-container :nth-child(n).enabled{background-color:#e6e6ec}.ui-menu .__new .__img-container :nth-child(n).disabled{background-color:#535373}.ui-menu .__new .btn{padding:5px 20px;border:1px solid #535373;color:#0e0e12;border-radius:5px;cursor:pointer}.ui-menu .__new .btn:hover{background-color:#e6e6ec}body{margin:0 auto;padding:0;outline:0;font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,segoe ui,helvetica neue,helvetica,Ubuntu,roboto,noto,arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0)}canvas{display:block}\n",""]);const s=i},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},8081:e=>{e.exports=function(e){return e[1]}},4699:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/557dd3e32b94363c1953d9207465e3c0.png"},3984:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/ab49ca99f5c48b2a11d0e09ea3577094.png"},3476:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/31e6d908846553d6e0c63d4df76ea63f.png"},6381:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/9e5094faa72343f6eb3bb5f662607338.png"},3985:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/843cb4108cd927aa8e89622378dae3bb.png"},4900:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/043a4365936e8583243068f4f77b0bd7.png"},3358:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/0daf07f6f7816191171c200b66240e8e.png"},6510:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/3186a7ebc708c958d3db1ec831834869.png"},178:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/e10b73b1e86a36f203f3ed6f3ff0d6a6.png"},2400:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/0522363665ac959b4c5ddf8ab481c940.png"},2413:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/a7b52d7c574e436242e5a6668055530b.png"},7448:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/0d54d836371354351afb58dd5a3ec9e7.png"},6498:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/e36822a4da99912d07dc9352c11e4169.png"},5002:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/63dfd2c11f111a17f2514da030f37c03.png"},3694:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/24565e95428679577bede1a4f71f35dd.png"},8434:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/4b83370d0344b6ca2864261b0543bc6c.png"},9857:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/9adc68fc16c7b2f6803af0d50450d9b7.png"},4291:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/a49254628a095ae7aacea6b15a1f9a32.png"},5778:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/ce9d6265b1ee68ac4e339e0bfc81bd0c.png"},1257:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/b47c800b0365671789387198c2e672fb.png"},3425:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/1310b31dce280980adc94b2ebddebfc1.png"},4430:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/0f9d8c7a4324ba986d58def2452cf60b.png"},3157:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/9083996f73a73bb31d5b58e3bc98ab6f.png"},5802:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/3284c3e38b5bf9304d2200258d1d29ba.png"},2265:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/472eb6d89d1d1efbfa1be7caf99552d3.png"},4809:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/29397b2ebb62ab151c72fb5c3139193c.png"},5824:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/bfe6d1ec2cea029f78fc35de06a7a521.png"},1430:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/b565552cb7519190dc6bd2a1c71e4b68.png"},6421:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/4a8290edfe4be4e55fbab6019fb46514.png"},2610:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/9be6864257b46ffe790480c457b0c8ed.png"},231:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/6ea09caaae09e5cc44f5ba63b80eb5c5.png"},6646:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/68b34c826c4ac1cc80e3f2e233af9982.png"},9620:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),c=n.n(s),d=n(3565),l=n.n(d),u=n(9216),m=n.n(u),h=n(4589),p=n.n(h),f=n(4800),g={};g.styleTagTransform=p(),g.setAttributes=l(),g.insert=c().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=m();var _=o()(f.default,g);if(!f.default.locals||e.hot.invalidate){var E=!f.default.locals,v=E?f:f.default.locals;e.hot.accept(4800,(t=>{f=n(4800),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!n||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(n&&"default"===r||e[r]))return!1;return!0}(v,E?f:f.default.locals,E)?(v=E?f:f.default.locals,_(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){_()}));const S=f.default&&f.default.locals?f.default.locals:void 0},3379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],d=r.base?c[0]+r.base:c[0],l=a[d]||0,u="".concat(d," ").concat(l);a[d]=l+1;var m=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)t[m].references++,t[m].updater(h);else{var p=o(h,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:p,references:1})}i.push(u)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=r(e,o),d=0;d<a.length;d++){var l=n(a[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9764:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=void 0;const r=n(3607);t.Camera=class{constructor(e,t,n,o){this.x=e,this.y=t,this.w=n,this.h=o,this.zoom=.5,this.zoomPoint={x:this.w/(2*this.zoom),y:this.h/(2*this.zoom)},r.game.signals.onResize.add(((e,t)=>{this.onResize(e,t)}))}setZoom(e){const t=.05*Math.sign(-e);this.zoom=r.game.maths.clamp(this.zoom+t,.5,1),r.game.ctx.setTransform(this.zoom,0,0,this.zoom,0,0);const n=window.innerWidth/(2*this.zoom),o=window.innerHeight/(2*this.zoom);this.x-=-this.zoomPoint.x+n,this.y-=-this.zoomPoint.y+o,this.zoomPoint.x=n,this.zoomPoint.y=o,this.w=window.innerWidth/this.zoom,this.h=window.innerHeight/this.zoom}onResize(e,t){r.game.canvas.width=e,r.game.canvas.height=t,r.game.ctx.setTransform(this.zoom,0,0,this.zoom,0,0),this.w=e/this.zoom,this.h=t/this.zoom,this.zoomPoint.x=e/(2*this.zoom),this.zoomPoint.y=t/(2*this.zoom)}}},5724:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;const r=n(3607);t.Input=class{constructor(){this.mouse={x:0,y:0,pressed:!1,moved:!1},r.game.canvas.addEventListener("mousemove",(e=>{this.onMouseMove(e)})),r.game.canvas.addEventListener("mousedown",(e=>{this.onMouseDown(e)})),r.game.canvas.addEventListener("mouseup",(e=>{this.onMouseUp(e)})),r.game.canvas.addEventListener("mouseleave",(e=>{this.onMouseLeave(e)})),r.game.canvas.addEventListener("touchmove",(e=>{this.onTouchMove(e)})),r.game.canvas.addEventListener("touchstart",(e=>{this.onTouchStart(e)})),r.game.canvas.addEventListener("touchend",(e=>{this.onTouchEnd(e)})),r.game.canvas.addEventListener("touchcancel",(e=>{this.onTouchCancel(e)}))}onMouseMove(e){this.mouse.pressed&&(r.game.camera.x+=(this.mouse.x-e.x)/r.game.camera.zoom,r.game.camera.y+=(this.mouse.y-e.y)/r.game.camera.zoom,this.mouse.moved=!0),this.mouse.x=e.x,this.mouse.y=e.y,r.game.tilemap.highlightProvince(r.game.util.worldPosToProvince(this.mouse.x,this.mouse.y))}onMouseDown(e){this.mouse.pressed=!0}onMouseUp(e){this.mouse.moved||r.game.tilemap.selectProvince(r.game.util.worldPosToProvince(this.mouse.x,this.mouse.y)),this.mouse.pressed=!1,this.mouse.moved=!1}onMouseLeave(e){this.mouse.pressed=!1,r.game.tilemap.highlightProvince(void 0)}onWheel(e){r.game.camera.setZoom(e.deltaY)}onTouchMove(e){e.preventDefault();const t=e.touches[0].clientX,n=e.touches[0].clientY;this.mouse.pressed&&(r.game.camera.x+=(this.mouse.x-t)/r.game.camera.zoom,r.game.camera.y+=(this.mouse.y-n)/r.game.camera.zoom,this.mouse.moved=!0),this.mouse.x=t,this.mouse.y=n}onTouchStart(e){e.preventDefault();const t=r.game.canvas.getBoundingClientRect();this.mouse.x=e.touches[0].clientX-t.left,this.mouse.y=e.touches[0].clientY-t.top,this.mouse.pressed=!0}onTouchEnd(e){e.preventDefault(),this.mouse.moved||r.game.tilemap.selectProvince(r.game.util.worldPosToProvince(this.mouse.x,this.mouse.y)),this.mouse.pressed=!1,this.mouse.moved=!1}onTouchCancel(e){e.preventDefault(),this.mouse.pressed=!1,r.game.tilemap.highlightProvince(void 0)}}},9404:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Maths=void 0,t.Maths=class{clamp(e,t,n){return e<t?t:e>n?n:e}}},662:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Random=void 0,t.Random=class{number(e,t){return Math.floor(Math.random()*(t-e)+e)}dice(){return this.number(1,7)}percent(e){const t=this.number(0,99);let n=0;for(let r=0;r<e.length;++r){if(n-1<t&&t<n+e[r].percent)return e[r].result;n+=e[r].percent}}}},1330:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Resources=void 0;const r=n(4699),o=n(3985),a=n(3358),i=n(3476),s=n(3984),c=n(4900),d=n(6510),l=n(6381),u=n(5778),m=n(3157),h=n(2265),p=n(3425),f=n(1257),g=n(5802),_=n(4809),E=n(4430),v=n(178),S=n(2400),I=n(2413),b=n(7448),T=n(6498),y=n(5002),A=n(8434),R=n(9857),N=n(4291),w=n(3694),L=n(5824),P=n(2610),M=n(6646),C=n(1430),O=n(6421),U=n(231),k={ARMY_GREEN_BIG:r.default,ARMY_RED_BIG:o.default,ARMY_YELLOW_BIG:a.default,ARMY_PURPLE_BIG:i.default,ARMY_GREEN_SMALL:s.default,ARMY_RED_SMALL:c.default,ARMY_YELLOW_SMALL:d.default,ARMY_PURPLE_SMALL:l.default,TILE_GREEN:u.default,TILE_RED:m.default,TILE_YELLOW:h.default,TILE_PURPLE:p.default,TILE_GREEN_OCCUPIED:f.default,TILE_RED_OCCUPIED:g.default,TILE_YELLOW_OCCUPIED:_.default,TILE_PURPLE_OCCUPIED:E.default,LANDMARK_CAPITAL:v.default,LANDMARK_CHURCH:S.default,LANDMARK_FOREST:I.default,LANDMARK_HOUSE:b.default,LANDMARK_MOUNTAINS:T.default,LANDMARK_TOWER:y.default,TILEMAP_SELECT_GRAY:A.default,TILEMAP_SELECT_WHITE:R.default,TILEMAP_SELECTED:N.default,MISC_DEMOLISH:w.default,UI_ICON_ARMY:L.default,UI_ICON_BUILDING:P.default,UI_ICON_DIPLOMACY:M.default,UI_ICON_ARROW_LEFT:C.default,UI_ICON_ARROW_RIGHT:O.default,UI_ICON_CANCEL:U.default};t.Resources=class{constructor(){this.SPRITES={},this.URL_SPRITES={}}loadSprites(){return new Promise(((e,t)=>{const n=Object.keys(k).length;let r=0;for(const t in k){const o=new Image;o.onload=()=>{++r===n&&e(0)},o.src=k[t],this.SPRITES[t]=o,this.URL_SPRITES[t]=k[t]}}))}}},7543:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Signal=void 0,t.Signal=class{constructor(){this.listeners=[]}add(e){this.listeners.push(e)}remove(e){for(let t=0;t<this.listeners.length;++t)if(this.listeners[t]===e)return void this.listeners.splice(t,1)}dispatch(...e){for(let t=0;t<this.listeners.length;++t)this.listeners[t](...e)}clear(){this.listeners=[]}}},2070:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tilemap=void 0;const r=n(3607),o=n(824),a=n(5067),i=n(1641);t.Tilemap=class{constructor(){this.TILE_SIZE=128;const e=document.createElement("canvas").getContext("2d");if(!e)throw Error("HTML Canvas is not supported in the browser.");this.buffer=e}generate(e,t,n,r,o){this.buffer.canvas.width=this.TILE_SIZE*e,this.buffer.canvas.height=this.TILE_SIZE*t;const a=this.chooseOrigins(e,t,r,o);this.chooseProvinces(e,t,r,o,a),this.sprinkleNature(e,t,o);for(let e=0;e<o.length;++e)this.drawTile(o[e])}drawTile(e){this.buffer.clearRect(e.pos.x*this.TILE_SIZE,e.pos.y*this.TILE_SIZE,this.TILE_SIZE,this.TILE_SIZE);const t=r.game.util.provinceToSprite(e);this.buffer.drawImage(t,e.pos.x*this.TILE_SIZE,e.pos.y*this.TILE_SIZE);const n=r.game.util.provinceToLandmarkSprite(e);n&&this.buffer.drawImage(n,e.pos.x*this.TILE_SIZE,e.pos.y*this.TILE_SIZE),this.selectedProvince&&i.Vec2.equals(e.pos,this.selectedProvince.pos)&&(this.buffer.drawImage(r.game.resources.SPRITES.TILEMAP_SELECTED,e.pos.x*this.TILE_SIZE,e.pos.y*this.TILE_SIZE),this.buffer.drawImage(r.game.resources.SPRITES.TILEMAP_SELECT_GRAY,e.pos.x*this.TILE_SIZE,e.pos.y*this.TILE_SIZE)),this.highlightedProvince&&i.Vec2.equals(e.pos,this.highlightedProvince.pos)&&(this.selectedProvince&&i.Vec2.equals(e.pos,this.selectedProvince.pos)||this.buffer.drawImage(r.game.resources.SPRITES.TILEMAP_SELECT_WHITE,e.pos.x*this.TILE_SIZE,e.pos.y*this.TILE_SIZE))}render(){let e=r.game.camera.x,t=r.game.camera.y,n=this.buffer.canvas.width,o=this.buffer.canvas.height,a=0,i=0;e<0&&(a=-e,e=0),t<0&&(i=-t,t=0),e+n>r.game.camera.w&&(n-=e),t+o>r.game.camera.h&&(o-=t),r.game.ctx.drawImage(this.buffer.canvas,e,t,n,o,a,i,n,o)}highlightProvince(e){if(!e){if(!this.highlightedProvince)return;const e=this.highlightedProvince;return this.highlightedProvince=void 0,void this.drawTile(e)}if(this.highlightedProvince&&i.Vec2.equals(this.highlightedProvince.pos,e.pos))return;const t=this.highlightedProvince;this.highlightedProvince=void 0,t&&this.drawTile(t),this.highlightedProvince=e,this.drawTile(e)}selectProvince(e){const t=this.selectedProvince;this.selectedProvince=void 0,t&&this.drawTile(t),!e||t&&i.Vec2.equals(t.pos,e.pos)||(this.selectedProvince=e,this.drawTile(e))}chooseOrigins(e,t,n,o){const s=[];for(let o=0;o<n.length;++o){s[o]=[{x:r.game.random.number(0,e),y:r.game.random.number(0,t)}];for(let e=o-1;e>=0;--e)if(s[e][0].x===s[o][0].x&&s[e][0].y===s[o][0].y){--o;break}}for(let t=0;t<n.length;++t)o[s[t][0].x+s[t][0].y*e]=new a.Province(new i.Vec2(s[t][0].x,s[t][0].y),n[t]);return s}chooseProvinces(e,t,n,r,o){let s=!0;for(;s;){s=!1;for(let c=0;c<n.length;++c){if(0===o[c].length)continue;const d=o[c][0].x,l=o[c][0].y,u=d+(l-1)*e,m=d+1+l*e,h=d+(l+1)*e,p=d-1+l*e;l-1>-1&&!r[u]?(o[c].push({x:d,y:l-1}),r[u]=new a.Province(new i.Vec2(d,l-1),n[c])):d+1<e&&!r[m]?(o[c].push({x:d+1,y:l}),r[m]=new a.Province(new i.Vec2(d+1,l),n[c])):l+1<t&&!r[h]?(o[c].push({x:d,y:l+1}),r[h]=new a.Province(new i.Vec2(d,l+1),n[c])):d-1>-1&&!r[p]?(o[c].push({x:d-1,y:l}),r[p]=new a.Province(new i.Vec2(d-1,l),n[c])):o[c].splice(0,1),s=s||0!==o[c]}}}sprinkleNature(e,t,n){for(let a=0;a<t;++a)for(let t=0;t<e;++t)n[t+a*e].landmark=r.game.random.percent([{percent:10,result:o.Landmark.getLandmarkData("MOUNTAINS")},{percent:15,result:o.Landmark.getLandmarkData("FOREST")},{percent:75,result:void 0}])}}},1228:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;const r=n(3607),o=n(2495);t.Util=class{countryIdToSprite(e){switch(e){case o.COUNTRY_ID.GREEN:return r.game.resources.URL_SPRITES.ARMY_GREEN_BIG;case o.COUNTRY_ID.PURPLE:return r.game.resources.URL_SPRITES.ARMY_PURPLE_BIG;case o.COUNTRY_ID.RED:return r.game.resources.URL_SPRITES.ARMY_RED_BIG;case o.COUNTRY_ID.YELLOW:return r.game.resources.URL_SPRITES.ARMY_YELLOW_BIG;default:throw Error(`Country with id ${e} doesn't exist.`)}}provinceToSprite(e){var t;switch(null===(t=e.occupier)||void 0===t?void 0:t.id){case o.COUNTRY_ID.GREEN:return r.game.resources.SPRITES.TILE_GREEN_OCCUPIED;case o.COUNTRY_ID.PURPLE:return r.game.resources.SPRITES.TILE_PURPLE_OCCUPIED;case o.COUNTRY_ID.RED:return r.game.resources.SPRITES.TILE_RED_OCCUPIED;case o.COUNTRY_ID.YELLOW:return r.game.resources.SPRITES.TILE_YELLOW_OCCUPIED}switch(e.owner.id){case o.COUNTRY_ID.GREEN:return r.game.resources.SPRITES.TILE_GREEN;case o.COUNTRY_ID.PURPLE:return r.game.resources.SPRITES.TILE_PURPLE;case o.COUNTRY_ID.RED:return r.game.resources.SPRITES.TILE_RED;case o.COUNTRY_ID.YELLOW:return r.game.resources.SPRITES.TILE_YELLOW;default:throw Error(`Country with id ${e.owner.id} doesn't exist.`)}}provinceToLandmarkSprite(e){if(!e.landmark)return null;switch(e.landmark.data.id){case"CAPITAL":return r.game.resources.SPRITES.LANDMARK_CAPITAL;case"CHURCH":return r.game.resources.SPRITES.LANDMARK_CHURCH;case"FOREST":return r.game.resources.SPRITES.LANDMARK_FOREST;case"HOUSE":return r.game.resources.SPRITES.LANDMARK_HOUSE;case"MOUNTAINS":return r.game.resources.SPRITES.LANDMARK_MOUNTAINS;case"TOWER":return r.game.resources.SPRITES.LANDMARK_TOWER;default:throw new Error(`Landmark with id ${e.landmark.data.id} doesn't exist.`)}}worldPosToProvince(e,t){return e=Math.floor((e+r.game.camera.x*r.game.camera.zoom)/(r.game.tilemap.TILE_SIZE*r.game.camera.zoom)),t=Math.floor((t+r.game.camera.y*r.game.camera.zoom)/(r.game.tilemap.TILE_SIZE*r.game.camera.zoom)),this.tilePosToProvince(e,t)}tilePosToProvince(e,t){if(r.game.gameplay.width&&r.game.gameplay.height&&!(e<0||e>r.game.gameplay.width-1||t<0||t>r.game.gameplay.height-1))return r.game.gameplay.provinces[e+r.game.gameplay.width*t]}}},1641:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vec2=void 0,t.Vec2=class{constructor(e,t){this.x=e,this.y=t}static equals(e,t){return e.x===t.x&&e.y===t.y}}},2495:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Country=t.COUNTRY_ID=void 0,(n=t.COUNTRY_ID||(t.COUNTRY_ID={}))[n.GREEN=0]="GREEN",n[n.PURPLE=1]="PURPLE",n[n.RED=2]="RED",n[n.YELLOW=3]="YELLOW",t.Country=class{constructor(e,t,n,r,o){this.id=e,this.gold=t,this.income=n,this.army=r,this.manpower=o}}},5371:(e,t)=>{var n;function r(e){return{data:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LANDMARK_DATA=void 0,function(e){e[e.CAPITAL=0]="CAPITAL",e[e.CHURCH=1]="CHURCH",e[e.HOUSE=2]="HOUSE",e[e.MOUNTAINS=3]="MOUNTAINS",e[e.FOREST=4]="FOREST",e[e.TOWER=5]="TOWER"}(n||(n={})),t.LANDMARK_DATA={CAPITAL:r({id:"CAPITAL",cost:2,income:0,manpower:0,unique:!1,recruitable:!1,unbuildable:!1,undestroyable:!1,offensive:0,defensive:0,resistance:2}),CHURCH:r({id:"CHURCH",cost:4,income:1,manpower:0,unique:!1,recruitable:!1,unbuildable:!1,undestroyable:!1,offensive:0,defensive:0,resistance:-1}),FOREST:r({id:"FOREST",cost:0,income:0,manpower:0,unique:!1,recruitable:!1,unbuildable:!0,undestroyable:!0,offensive:1,defensive:0,resistance:0}),HOUSE:r({id:"HOUSE",cost:2,income:0,manpower:1,unique:!1,recruitable:!0,unbuildable:!1,undestroyable:!1,offensive:0,defensive:0,resistance:1}),MOUNTAINS:r({id:"MOUNTAINS",cost:0,income:0,manpower:0,unique:!1,recruitable:!1,unbuildable:!1,undestroyable:!0,offensive:0,defensive:1,resistance:1}),TOWER:r({id:"TOWER",cost:3,income:0,manpower:0,unique:!1,recruitable:!1,unbuildable:!1,undestroyable:!1,offensive:0,defensive:2,resistance:2})}},4188:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const r=n(9764),o=n(5724),a=n(9404),i=n(662),s=n(1330),c=n(7543),d=n(2070),l=n(1228),u=n(2495),m=n(1711),h=n(5849);t.Game=class{constructor(){this.signals={onResize:new c.Signal},this.canvas=document.createElement("canvas");const e=this.canvas.getContext("2d");if(!e)throw Error("HTML Canvas is not supported in the browser.");this.ctx=e,document.body.appendChild(this.canvas),this.addEventListeners()}run(){this.util=new l.Util,this.maths=new a.Maths,this.random=new i.Random,this.resources=new s.Resources,this.input=new o.Input,this.camera=new r.Camera(0,0,window.innerWidth,window.innerHeight),this.tilemap=new d.Tilemap,this.gameplay=new m.Gameplay,this.ui=new h.UI,this.signals.onResize.dispatch(window.innerWidth,window.innerHeight),Promise.resolve().then((()=>this.resources.loadSprites())).then((()=>{this.ui.init()})).then((()=>{this.gameplay.create(10,10,0,[u.COUNTRY_ID.GREEN,u.COUNTRY_ID.PURPLE,u.COUNTRY_ID.RED,u.COUNTRY_ID.YELLOW])})).then((()=>{this.gameplay.start()})).then((()=>{this.loop()}))}loop(){this.render(),window.requestAnimationFrame((()=>{this.loop()}))}update(){}render(){this.ctx.clearRect(0,0,this.camera.w,this.camera.h),this.tilemap.render()}addEventListeners(){window.addEventListener("resize",(()=>{this.signals.onResize.dispatch(window.innerWidth,window.innerHeight)}))}}},1711:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Gameplay=void 0;const r=n(3607),o=n(2495),a=n(5849);t.Gameplay=class{create(e,t,n,a){this.countries=[],this.provinces=[],this.width=e,this.height=t,this.seed=n;for(let e=0;e<a.length;++e)this.countries[e]=new o.Country(a[e],10,1,0,3);r.game.tilemap.generate(e,t,n,this.countries,this.provinces)}start(){this.currentCountry=this.countries[0],this.currentProvince=void 0,this.turn=1,r.game.ui.clearPrevious(),r.game.ui.menuState=a.MENU_STATE.NONE,r.game.ui.ingameState=a.INGAME_STATE.MAIN,r.game.ui.appHandler(),r.game.ui.menuHandler(),r.game.ui.ingameHandler()}nextTurn(){}undo(){}redo(){}save(){}load(){}}},824:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Landmark=void 0;const r=n(5371);t.Landmark=class{constructor(e){this.data=e}static getLandmarkData(e){return r.LANDMARK_DATA[e]}}},5067:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Province=t.PROVINCE_STATE=void 0,function(e){e[e.FREE=0]="FREE",e[e.INVADED=1]="INVADED",e[e.OCCUPIED=2]="OCCUPIED"}(n=t.PROVINCE_STATE||(t.PROVINCE_STATE={})),t.Province=class{constructor(e,t,r,o,a){this.pos=e,this.state=n.FREE,this.owner=t,this.occupier=r,this.landmark=o,this.army=a}}},5825:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(2989),o=n(3607),a=n(5849),i=n(6361),s=n(7021);t.App=function(){const[e,t]=r.Soda.state(0);return o.game.ui.appHandler=t,r.Soda.createElement("div",null,o.game.ui.menuState===a.MENU_STATE.NONE?"":r.Soda.createElement(s.Menu,null),o.game.ui.ingameState===a.INGAME_STATE.NONE?"":r.Soda.createElement(i.Ingame,null))}},2325:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ICONS=void 0;const r=n(2989);t.ICONS={Back:function(e){return r.Soda.createElement("svg",{class:null==e?void 0:e.class,onclick:null==e?void 0:e.onclick,width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},r.Soda.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r.Soda.createElement("path",{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"}))},Settings:function(e){return r.Soda.createElement("svg",{class:null==e?void 0:e.class,onclick:null==e?void 0:e.onclick,width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},r.Soda.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r.Soda.createElement("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),r.Soda.createElement("circle",{cx:"12",cy:"12",r:"3"}))}}},6361:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Ingame=void 0;const r=n(2989),o=n(3607),a=n(5849),i=n(2325),s=n(1807),c=n(9958),d=n(8092),l=n(5004);t.Ingame=function(){const[e,t]=r.Soda.state(0);return o.game.ui.ingameHandler=t,r.Soda.createElement("div",{class:"ui-ingame"},r.Soda.createElement("div",{class:"__top"},r.Soda.createElement("img",{src:o.game.util.countryIdToSprite(o.game.gameplay.currentCountry.id)}),r.Soda.createElement("div",{class:"__info"},r.Soda.createElement("div",null,"Gold: ",o.game.gameplay.currentCountry.gold),r.Soda.createElement("div",null,"Income: ",o.game.gameplay.currentCountry.income)),r.Soda.createElement("div",{class:"__info"},r.Soda.createElement("div",null,"Army: ",o.game.gameplay.currentCountry.army),r.Soda.createElement("div",null,"Manpower: ",o.game.gameplay.currentCountry.manpower)),r.Soda.createElement(i.ICONS.Settings,{class:"__icon",onclick:()=>{o.game.ui.pushPrevious((()=>{o.game.ui.menuState=a.MENU_STATE.NONE,o.game.ui.ingameState=a.INGAME_STATE.MAIN,o.game.ui.appHandler(),o.game.ui.menuHandler(),o.game.ui.ingameHandler()})),o.game.ui.menuState=a.MENU_STATE.MAIN,o.game.ui.ingameState=a.INGAME_STATE.NONE,o.game.ui.appHandler(),o.game.ui.menuHandler(),o.game.ui.ingameHandler()}})),r.Soda.createElement("div",{class:"__bottom"},function(){switch(o.game.ui.ingameState){case a.INGAME_STATE.NONE:return"";case a.INGAME_STATE.MAIN:return r.Soda.createElement(s.Main,null);case a.INGAME_STATE.ARMY:return r.Soda.createElement(c.Army,null);case a.INGAME_STATE.BUILDING:return r.Soda.createElement(d.Building,null);case a.INGAME_STATE.DIPLOMACY:return r.Soda.createElement(l.Diplomacy,null);default:throw new Error(`Ingame state with id ${o.game.ui.ingameState} not found.`)}}()))}},7021:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=void 0;const r=n(2989),o=n(3607),a=n(2325),i=n(7751),s=n(271),c=n(6454),d=n(8718),l=n(3849),u=n(5849);t.Menu=function(){const[e,t]=r.Soda.state(0);return o.game.ui.menuHandler=t,r.Soda.createElement("div",{class:"ui-menu"},r.Soda.createElement("div",{class:"__top"},r.Soda.createElement(a.ICONS.Back,{class:"__icon "+(o.game.ui.hasPrevious()?"":"__disabled"),onclick:()=>{o.game.ui.popPrevious()}}),r.Soda.createElement("div",{class:"__name-title"},"Lords and Lands"),r.Soda.createElement("div",{class:"__version-title"},"v0.0.1")),r.Soda.createElement("div",{class:"__bottom"},function(){switch(o.game.ui.menuState){case u.MENU_STATE.NONE:return"";case u.MENU_STATE.MAIN:return r.Soda.createElement(i.Main,null);case u.MENU_STATE.NEW:return r.Soda.createElement(s.New,null);case u.MENU_STATE.LOAD:return r.Soda.createElement(c.Load,null);case u.MENU_STATE.SAVE:return r.Soda.createElement(d.Save,null);case u.MENU_STATE.SETTINGS:return r.Soda.createElement(l.Settings,null);default:throw new Error(`Menu state with id ${o.game.ui.menuState} not found.`)}}()))}},9958:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Army=void 0;const r=n(2989),o=n(3607),a=n(5849);t.Army=function(){return r.Soda.createElement("div",null,r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_ARMY,onclick:()=>{o.game.ui.ingameState=a.INGAME_STATE.MAIN,o.game.ui.ingameHandler()}}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.ARMY_GREEN_BIG}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_ARROW_RIGHT}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_CANCEL}))}},8092:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Building=void 0;const r=n(2989),o=n(3607),a=n(5849);t.Building=function(){return r.Soda.createElement("div",null,r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_BUILDING,onclick:()=>{o.game.ui.ingameState=a.INGAME_STATE.MAIN,o.game.ui.ingameHandler()}}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.LANDMARK_CAPITAL}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.LANDMARK_CHURCH}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.LANDMARK_HOUSE}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.LANDMARK_TOWER}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_CANCEL}))}},5004:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Diplomacy=void 0;const r=n(2989),o=n(3607),a=n(5849);t.Diplomacy=function(){return r.Soda.createElement("div",null,r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_DIPLOMACY,onclick:()=>{o.game.ui.ingameState=a.INGAME_STATE.MAIN,o.game.ui.ingameHandler()}}))}},1807:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;const r=n(2989),o=n(3607),a=n(5849);t.Main=function(){return r.Soda.createElement("div",{class:"__main"},r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_ARMY,onclick:()=>{o.game.ui.ingameState=a.INGAME_STATE.ARMY,o.game.ui.ingameHandler()}}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_BUILDING,onclick:()=>{o.game.ui.ingameState=a.INGAME_STATE.BUILDING,o.game.ui.ingameHandler()}}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_DIPLOMACY,onclick:()=>{o.game.ui.ingameState=a.INGAME_STATE.DIPLOMACY,o.game.ui.ingameHandler()}}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_ARROW_LEFT}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_ARROW_RIGHT}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.UI_ICON_ARROW_RIGHT}),r.Soda.createElement("img",{src:o.game.resources.URL_SPRITES.LANDMARK_CAPITAL}))}},6454:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Load=void 0;const r=n(2989);t.Load=function(){return r.Soda.createElement("div",null)}},7751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;const r=n(2989),o=n(3607),a=n(5849);function i(){o.game.ui.menuState=a.MENU_STATE.MAIN,o.game.ui.menuHandler()}t.Main=function(){return r.Soda.createElement("div",{class:"__main"},r.Soda.createElement("button",{class:"__btn",onclick:()=>{o.game.ui.pushPrevious(i),o.game.ui.menuState=a.MENU_STATE.NEW,o.game.ui.menuHandler()}},"New"),r.Soda.createElement("button",{class:"__btn",onclick:()=>{o.game.ui.pushPrevious(i),o.game.ui.menuState=a.MENU_STATE.LOAD,o.game.ui.menuHandler()}},"Load"),r.Soda.createElement("button",{class:"__btn",onclick:()=>{o.game.ui.pushPrevious(i),o.game.ui.menuState=a.MENU_STATE.SAVE,o.game.ui.menuHandler()}},"Save"),r.Soda.createElement("button",{class:"__btn",onclick:()=>{o.game.ui.pushPrevious(i),o.game.ui.menuState=a.MENU_STATE.SETTINGS,o.game.ui.menuHandler()}},"Settings"))}},271:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.New=void 0;const r=n(2989),o=n(3607);t.New=function(){const[e,t]=r.Soda.state([!0,!0,!0,!0]),[n,a]=r.Soda.state({w:10,h:10}),i=n=>{let r=0;for(let t=0;t<e.length;++t)e[t]&&r++;e[n]&&2==r||(e[n]=!e[n],t(e))},s=(e,t)=>{n.w=o.game.maths.clamp(n.w+e,5,25),n.h=o.game.maths.clamp(n.h+t,5,25),a(n)};return r.Soda.createElement("div",{class:"__new"},r.Soda.createElement("div",{class:"__img-container"},r.Soda.createElement("img",{class:e[0]?"enabled":"disabled",onclick:()=>{i(0)},src:o.game.resources.URL_SPRITES.ARMY_GREEN_BIG}),r.Soda.createElement("img",{class:e[1]?"enabled":"disabled",onclick:()=>{i(1)},src:o.game.resources.URL_SPRITES.ARMY_YELLOW_BIG}),r.Soda.createElement("img",{class:e[2]?"enabled":"disabled",onclick:()=>{i(2)},src:o.game.resources.URL_SPRITES.ARMY_RED_BIG}),r.Soda.createElement("img",{class:e[3]?"enabled":"disabled",onclick:()=>{i(3)},src:o.game.resources.URL_SPRITES.ARMY_PURPLE_BIG})),r.Soda.createElement("div",null,"Seed: ",r.Soda.createElement("input",{type:"text",placeholder:"Seed..."})),r.Soda.createElement("div",null,r.Soda.createElement("span",null,"Width: "),r.Soda.createElement("button",{class:"btn",onClick:()=>{s(-1,0)}}," < "),r.Soda.createElement("span",null," ",n.w," "),r.Soda.createElement("button",{class:"btn",onClick:()=>{s(1,0)}}," > ")),r.Soda.createElement("div",null,r.Soda.createElement("span",null,"Height: "),r.Soda.createElement("button",{class:"btn",onClick:()=>{s(0,-1)}}," < "),r.Soda.createElement("span",null," ",n.h," "),r.Soda.createElement("button",{class:"btn",onClick:()=>{s(0,1)}}," > ")),r.Soda.createElement("div",null,r.Soda.createElement("button",{class:"btn",onclick:()=>{const t=[];for(let n=0;n<e.length;++n)e[n]&&t.push(n);o.game.gameplay.create(n.w,n.h,0,t)}},"Generate"),r.Soda.createElement("button",{class:"btn",onclick:()=>{o.game.gameplay.start()}},"Start")))}},8718:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Save=void 0;const r=n(2989);t.Save=function(){return r.Soda.createElement("div",null)}},3849:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;const r=n(2989);t.Settings=function(){return r.Soda.createElement("div",null)}},5849:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UI=t.INGAME_STATE=t.MENU_STATE=void 0;const r=n(2989),o=n(5825);var a,i;!function(e){e[e.NONE=-1]="NONE",e[e.MAIN=0]="MAIN",e[e.NEW=1]="NEW",e[e.LOAD=2]="LOAD",e[e.SAVE=3]="SAVE",e[e.SETTINGS=4]="SETTINGS"}(a=t.MENU_STATE||(t.MENU_STATE={})),function(e){e[e.NONE=-1]="NONE",e[e.MAIN=0]="MAIN",e[e.ARMY=1]="ARMY",e[e.BUILDING=2]="BUILDING",e[e.DIPLOMACY=3]="DIPLOMACY"}(i=t.INGAME_STATE||(t.INGAME_STATE={})),t.UI=class{constructor(){this.menuState=a.MAIN,this.ingameState=i.NONE,this.previous=[]}init(){r.Soda.render(r.Soda.createElement(o.App,null),document.body)}pushPrevious(e){this.previous.push(e)}hasPrevious(){return this.previous.length>0}popPrevious(){const e=this.previous.pop();e&&e()}clearPrevious(){this.previous=[]}}},3607:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.game=void 0;const r=n(4188);n(9620),t.game=new r.Game,window.onload=()=>{t.game.run()}}},c={};function d(e){var t=c[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var n=c[e]={id:e,exports:{}};try{var r={id:e,module:n,factory:s[e],require:d};d.i.forEach((function(e){e(r)})),n=r.module,r.factory.call(n.exports,n,n.exports,r.require)}catch(e){throw n.error=e,e}return n.exports}d.m=s,d.c=c,d.i=[],d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.hu=e=>e+"."+d.h()+".hot-update.js",d.miniCssF=e=>{},d.hmrF=()=>"main."+d.h()+".hot-update.json",d.h=()=>"c7ed9a166306949aebda",d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="lords-and-lands-web:",d.l=(n,r,o,a)=>{if(e[n])e[n].push(r);else{var i,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+o){i=u;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,d.nc&&i.setAttribute("nonce",d.nc),i.setAttribute("data-webpack",t+o),i.src=n),e[n]=[r];var m=(t,r)=>{i.onerror=i.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(r))),t)return t(r)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),s&&document.head.appendChild(i)}},d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,n,r,o={},a=d.c,i=[],s=[],c="idle";function l(e){c=e;for(var t=[],n=0;n<s.length;n++)t[n]=s[n].call(null,e);return Promise.all(t)}function u(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return u(e)}))}function m(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return l("check").then(d.hmrM).then((function(r){return r?l("prepare").then((function(){var o=[];return t=[],n=[],Promise.all(Object.keys(d.hmrC).reduce((function(e,t){return d.hmrC[t](r.c,r.r,r.m,e,n,o),e}),[])).then((function(){return u((function(){return e?p(e):l("ready").then((function(){return o}))}))}))})):l(f()?"ready":"idle").then((function(){return null}))}))}function h(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):p(e)}function p(e){e=e||{},f();var t=n.map((function(t){return t(e)}));n=void 0;var o=t.map((function(e){return e.error})).filter(Boolean);if(o.length>0)return l("abort").then((function(){throw o[0]}));var a=l("dispose");t.forEach((function(e){e.dispose&&e.dispose()}));var i,s=l("apply"),c=function(e){i||(i=e)},d=[];return t.forEach((function(e){if(e.apply){var t=e.apply(c);if(t)for(var n=0;n<t.length;n++)d.push(t[n])}})),Promise.all([a,s]).then((function(){return i?l("fail").then((function(){throw i})):r?p(e).then((function(e){return d.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):l("idle").then((function(){return d}))}))}function f(){if(r)return n||(n=[]),Object.keys(d.hmrI).forEach((function(e){r.forEach((function(t){d.hmrI[e](t,n)}))})),r=void 0,!0}d.hmrD=o,d.i.push((function(p){var f,g,_,E,v=p.module,S=function(n,r){var o=a[r];if(!o)return n;var s=function(t){if(o.hot.active){if(a[t]){var s=a[t].parents;-1===s.indexOf(r)&&s.push(r)}else i=[r],e=t;-1===o.children.indexOf(t)&&o.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+r),i=[];return n(t)},d=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var m in n)Object.prototype.hasOwnProperty.call(n,m)&&"e"!==m&&Object.defineProperty(s,m,d(m));return s.e=function(e){return function(e){switch(c){case"ready":return l("prepare"),t.push(e),u((function(){return l("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},s}(p.require,p.id);v.hot=(f=p.id,g=v,E={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:_=e!==f,_requireSelf:function(){i=g.parents.slice(),e=_?void 0:f,d(f)},active:!0,accept:function(e,t,n){if(void 0===e)E._selfAccepted=!0;else if("function"==typeof e)E._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var r=0;r<e.length;r++)E._acceptedDependencies[e[r]]=t||function(){},E._acceptedErrorHandlers[e[r]]=n;else E._acceptedDependencies[e]=t||function(){},E._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)E._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)E._declinedDependencies[e[t]]=!0;else E._declinedDependencies[e]=!0},dispose:function(e){E._disposeHandlers.push(e)},addDisposeHandler:function(e){E._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=E._disposeHandlers.indexOf(e);t>=0&&E._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":n=[],Object.keys(d.hmrI).forEach((function(e){d.hmrI[e](f,n)})),l("ready");break;case"ready":Object.keys(d.hmrI).forEach((function(e){d.hmrI[e](f,n)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(f)}},check:m,apply:h,status:function(e){if(!e)return c;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1)},data:o[f]},e=void 0,E),v.parents=i,v.children=[],i=[],p.require=S})),d.hmrC={},d.hmrI={}})(),(()=>{var e;d.g.importScripts&&(e=d.g.location+"");var t=d.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),d.p=e})(),n=(e,t,n,r)=>{var o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=a=>{if(o.onerror=o.onload=null,"load"===a.type)n();else{var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=s,o.parentNode.removeChild(o),r(c)}},o.href=t,document.head.appendChild(o),o},r=(e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(i=n[r]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===e||o===t))return i}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var i;if((o=(i=a[r]).getAttribute("data-href"))===e||o===t)return i}},o=[],a=[],i=e=>({dispose:()=>{for(var e=0;e<o.length;e++){var t=o[e];t.parentNode&&t.parentNode.removeChild(t)}o.length=0},apply:()=>{for(var e=0;e<a.length;e++)a[e].rel="stylesheet";a.length=0}}),d.hmrC.miniCss=(e,t,s,c,l,u)=>{l.push(i),e.forEach((e=>{var t=d.miniCssF(e),i=d.p+t,s=r(t,i);s&&c.push(new Promise(((t,r)=>{var c=n(e,i,(()=>{c.as="style",c.rel="preload",t()}),r);o.push(s),a.push(c)})))}))},(()=>{var e,t,n,r,o=d.hmrS_jsonp=d.hmrS_jsonp||{179:0},a={};function i(e){return new Promise(((t,n)=>{a[e]=t;var r=d.p+d.hu(e),o=new Error;d.l(r,(t=>{if(a[e]){a[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;o.message="Loading hot update chunk "+e+" failed.\n("+r+": "+i+")",o.name="ChunkLoadError",o.type=r,o.request=i,n(o)}}))}))}function s(a){function i(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),a=o.id,i=o.chain,c=d.c[a];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(c.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var l=0;l<c.parents.length;l++){var u=c.parents[l],m=d.c[u];if(m){if(m.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([u]),moduleId:a,parentId:u};-1===t.indexOf(u)&&(m.hot._acceptedDependencies[a]?(n[u]||(n[u]=[]),s(n[u],[a])):(delete n[u],t.push(u),r.push({chain:i.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}d.f&&delete d.f.jsonpHmr,e=void 0;var c={},l=[],u={},m=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var h in t)if(d.o(t,h)){var p,f=t[h],g=!1,_=!1,E=!1,v="";switch((p=f?i(h):{type:"disposed",moduleId:h}).chain&&(v="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":a.onDeclined&&a.onDeclined(p),a.ignoreDeclined||(g=new Error("Aborted because of self decline: "+p.moduleId+v));break;case"declined":a.onDeclined&&a.onDeclined(p),a.ignoreDeclined||(g=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+v));break;case"unaccepted":a.onUnaccepted&&a.onUnaccepted(p),a.ignoreUnaccepted||(g=new Error("Aborted because "+h+" is not accepted"+v));break;case"accepted":a.onAccepted&&a.onAccepted(p),_=!0;break;case"disposed":a.onDisposed&&a.onDisposed(p),E=!0;break;default:throw new Error("Unexception type "+p.type)}if(g)return{error:g};if(_)for(h in u[h]=f,s(l,p.outdatedModules),p.outdatedDependencies)d.o(p.outdatedDependencies,h)&&(c[h]||(c[h]=[]),s(c[h],p.outdatedDependencies[h]));E&&(s(l,[p.moduleId]),u[h]=m)}t=void 0;for(var S,I=[],b=0;b<l.length;b++){var T=l[b],y=d.c[T];y&&(y.hot._selfAccepted||y.hot._main)&&u[T]!==m&&!y.hot._selfInvalidated&&I.push({module:T,require:y.hot._requireSelf,errorHandler:y.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete o[e]})),n=void 0;for(var t,r=l.slice();r.length>0;){var a=r.pop(),i=d.c[a];if(i){var s={},u=i.hot._disposeHandlers;for(b=0;b<u.length;b++)u[b].call(null,s);for(d.hmrD[a]=s,i.hot.active=!1,delete d.c[a],delete c[a],b=0;b<i.children.length;b++){var m=d.c[i.children[b]];m&&(e=m.parents.indexOf(a))>=0&&m.parents.splice(e,1)}}}for(var h in c)if(d.o(c,h)&&(i=d.c[h]))for(S=c[h],b=0;b<S.length;b++)t=S[b],(e=i.children.indexOf(t))>=0&&i.children.splice(e,1)},apply:function(e){for(var t in u)d.o(u,t)&&(d.m[t]=u[t]);for(var n=0;n<r.length;n++)r[n](d);for(var o in c)if(d.o(c,o)){var i=d.c[o];if(i){S=c[o];for(var s=[],m=[],h=[],p=0;p<S.length;p++){var f=S[p],g=i.hot._acceptedDependencies[f],_=i.hot._acceptedErrorHandlers[f];if(g){if(-1!==s.indexOf(g))continue;s.push(g),m.push(_),h.push(f)}}for(var E=0;E<s.length;E++)try{s[E].call(null,S)}catch(t){if("function"==typeof m[E])try{m[E](t,{moduleId:o,dependencyId:h[E]})}catch(n){a.onErrored&&a.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:h[E],error:n,originalError:t}),a.ignoreErrored||(e(n),e(t))}else a.onErrored&&a.onErrored({type:"accept-errored",moduleId:o,dependencyId:h[E],error:t}),a.ignoreErrored||e(t)}}}for(var v=0;v<I.length;v++){var b=I[v],T=b.module;try{b.require(T)}catch(t){if("function"==typeof b.errorHandler)try{b.errorHandler(t,{moduleId:T,module:d.c[T]})}catch(n){a.onErrored&&a.onErrored({type:"self-accept-error-handler-errored",moduleId:T,error:n,originalError:t}),a.ignoreErrored||(e(n),e(t))}else a.onErrored&&a.onErrored({type:"self-accept-errored",moduleId:T,error:t}),a.ignoreErrored||e(t)}}return l}}}self.webpackHotUpdatelords_and_lands_web=(e,n,o)=>{for(var i in n)d.o(n,i)&&(t[i]=n[i]);o&&r.push(o),a[e]&&(a[e](),a[e]=void 0)},d.hmrI.jsonp=function(e,o){t||(t={},r=[],n=[],o.push(s)),d.o(t,e)||(t[e]=d.m[e])},d.hmrC.jsonp=function(a,c,l,u,m,h){m.push(s),e={},n=c,t=l.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],a.forEach((function(t){d.o(o,t)&&void 0!==o[t]&&(u.push(i(t)),e[t]=!0)})),d.f&&(d.f.jsonpHmr=function(t,n){e&&!d.o(e,t)&&d.o(o,t)&&void 0!==o[t]&&(n.push(i(t)),e[t]=!0)})},d.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(d.p+d.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),d(3607)})();