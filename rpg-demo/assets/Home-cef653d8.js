import{r as o,_ as g,a as Ye,c as Fe,b as L,u as we,d as $e,R as O,B as oe,p as Ge,e as Ve,i as xe,j as m,C as M,F as P,I as K,f as Z,T as D,E as J,g as Q,h as Ee}from"./index-5d090e2a.js";import{u as de}from"./gameStore-6a459307.js";import{g as fe,m as X,u as qe,a as ye,M as Pe,I as Ke}from"./MonsterStats-88907b61.js";import{I as Ce}from"./IconSword-4c225676.js";function Ze(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function _e(...e){return t=>e.forEach(n=>Ze(n,t))}function z(...e){return o.useCallback(_e(...e),e)}const Te=o.forwardRef((e,t)=>{const{children:n,...r}=e,c=o.Children.toArray(n),s=c.find(Qe);if(s){const u=s.props.children,d=c.map(f=>f===s?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:f);return o.createElement(ce,g({},r,{ref:t}),o.isValidElement(u)?o.cloneElement(u,void 0,d):null)}return o.createElement(ce,g({},r,{ref:t}),n)});Te.displayName="Slot";const ce=o.forwardRef((e,t)=>{const{children:n,...r}=e;return o.isValidElement(n)?o.cloneElement(n,{...et(r,n.props),ref:_e(t,n.ref)}):o.Children.count(n)>1?o.Children.only(null):null});ce.displayName="SlotClone";const Je=({children:e})=>o.createElement(o.Fragment,null,e);function Qe(e){return o.isValidElement(e)&&e.type===Je}function et(e,t){const n={...t};for(const r in t){const c=e[r],s=t[r];/^on[A-Z]/.test(r)?c&&s?n[r]=(...d)=>{s(...d),c(...d)}:c&&(n[r]=c):r==="style"?n[r]={...c,...s}:r==="className"&&(n[r]=[c,s].filter(Boolean).join(" "))}return{...e,...n}}const tt=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],Y=tt.reduce((e,t)=>{const n=o.forwardRef((r,c)=>{const{asChild:s,...u}=r,d=s?Te:t;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(d,g({},u,{ref:c}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),se=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{};function nt(e,t){return o.useReducer((n,r)=>{const c=t[n][r];return c??n},e)}const F=e=>{const{present:t,children:n}=e,r=rt(t),c=typeof n=="function"?n({present:r.isPresent}):o.Children.only(n),s=z(r.ref,c.ref);return typeof n=="function"||r.isPresent?o.cloneElement(c,{ref:s}):null};F.displayName="Presence";function rt(e){const[t,n]=o.useState(),r=o.useRef({}),c=o.useRef(e),s=o.useRef("none"),u=e?"mounted":"unmounted",[d,f]=nt(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const h=G(r.current);s.current=d==="mounted"?h:"none"},[d]),se(()=>{const h=r.current,l=c.current;if(l!==e){const i=s.current,b=G(h);e?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(l&&i!==b?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,f]),se(()=>{if(t){const h=a=>{const b=G(r.current).includes(a.animationName);a.target===t&&b&&Ye.flushSync(()=>f("ANIMATION_END"))},l=a=>{a.target===t&&(s.current=G(r.current))};return t.addEventListener("animationstart",l),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{t.removeEventListener("animationstart",l),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:o.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function G(e){return(e==null?void 0:e.animationName)||"none"}function ot(e,t=[]){let n=[];function r(s,u){const d=o.createContext(u),f=n.length;n=[...n,u];function h(a){const{scope:i,children:b,...p}=a,S=(i==null?void 0:i[e][f])||d,w=o.useMemo(()=>p,Object.values(p));return o.createElement(S.Provider,{value:w},b)}function l(a,i){const b=(i==null?void 0:i[e][f])||d,p=o.useContext(b);if(p)return p;if(u!==void 0)return u;throw new Error(`\`${a}\` must be used within \`${s}\``)}return h.displayName=s+"Provider",[h,l]}const c=()=>{const s=n.map(u=>o.createContext(u));return function(d){const f=(d==null?void 0:d[e])||s;return o.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return c.scopeName=e,[r,ct(c,...t)]}function ct(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(s){const u=r.reduce((d,{useScope:f,scopeName:h})=>{const a=f(s)[`__scope${h}`];return{...d,...a}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function I(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const st=o.createContext(void 0);function lt(e){const t=o.useContext(st);return e||t||"ltr"}function at(e,[t,n]){return Math.min(n,Math.max(t,e))}function U(e,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(e==null||e(c),n===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function it(e,t){return o.useReducer((n,r)=>{const c=t[n][r];return c??n},e)}const je="ScrollArea",[Re,Pn]=ot(je),[ut,_]=Re(je),dt=o.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:c,scrollHideDelay:s=600,...u}=e,[d,f]=o.useState(null),[h,l]=o.useState(null),[a,i]=o.useState(null),[b,p]=o.useState(null),[S,w]=o.useState(null),[x,T]=o.useState(0),[y,C]=o.useState(0),[$,j]=o.useState(!1),[N,H]=o.useState(!1),v=z(t,R=>f(R)),E=lt(c);return o.createElement(ut,{scope:n,type:r,dir:E,scrollHideDelay:s,scrollArea:d,viewport:h,onViewportChange:l,content:a,onContentChange:i,scrollbarX:b,onScrollbarXChange:p,scrollbarXEnabled:$,onScrollbarXEnabledChange:j,scrollbarY:S,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:H,onCornerWidthChange:T,onCornerHeightChange:C},o.createElement(Y.div,g({dir:E},u,{ref:v,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})))}),ft="ScrollAreaViewport",ht=o.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...c}=e,s=_(ft,n),u=o.useRef(null),d=z(t,u,s.onViewportChange);return o.createElement(o.Fragment,null,o.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),o.createElement(Y.div,g({"data-radix-scroll-area-viewport":""},c,{ref:d,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),o.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),k="ScrollAreaScrollbar",mt=o.forwardRef((e,t)=>{const{forceMount:n,...r}=e,c=_(k,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:u}=c,d=e.orientation==="horizontal";return o.useEffect(()=>(d?s(!0):u(!0),()=>{d?s(!1):u(!1)}),[d,s,u]),c.type==="hover"?o.createElement(bt,g({},r,{ref:t,forceMount:n})):c.type==="scroll"?o.createElement(pt,g({},r,{ref:t,forceMount:n})):c.type==="auto"?o.createElement(Oe,g({},r,{ref:t,forceMount:n})):c.type==="always"?o.createElement(ue,g({},r,{ref:t})):null}),bt=o.forwardRef((e,t)=>{const{forceMount:n,...r}=e,c=_(k,e.__scopeScrollArea),[s,u]=o.useState(!1);return o.useEffect(()=>{const d=c.scrollArea;let f=0;if(d){const h=()=>{window.clearTimeout(f),u(!0)},l=()=>{f=window.setTimeout(()=>u(!1),c.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",l),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",l)}}},[c.scrollArea,c.scrollHideDelay]),o.createElement(F,{present:n||s},o.createElement(Oe,g({"data-state":s?"visible":"hidden"},r,{ref:t})))}),pt=o.forwardRef((e,t)=>{const{forceMount:n,...r}=e,c=_(k,e.__scopeScrollArea),s=e.orientation==="horizontal",u=te(()=>f("SCROLL_END"),100),[d,f]=it("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>f("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,c.scrollHideDelay,f]),o.useEffect(()=>{const h=c.viewport,l=s?"scrollLeft":"scrollTop";if(h){let a=h[l];const i=()=>{const b=h[l];a!==b&&(f("SCROLL"),u()),a=b};return h.addEventListener("scroll",i),()=>h.removeEventListener("scroll",i)}},[c.viewport,s,f,u]),o.createElement(F,{present:n||d!=="hidden"},o.createElement(ue,g({"data-state":d==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:U(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:U(e.onPointerLeave,()=>f("POINTER_LEAVE"))})))}),Oe=o.forwardRef((e,t)=>{const n=_(k,e.__scopeScrollArea),{forceMount:r,...c}=e,[s,u]=o.useState(!1),d=e.orientation==="horizontal",f=te(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,l=n.viewport.offsetHeight<n.viewport.scrollHeight;u(d?h:l)}},10);return W(n.viewport,f),W(n.content,f),o.createElement(F,{present:r||s},o.createElement(ue,g({"data-state":s?"visible":"hidden"},c,{ref:t})))}),ue=o.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,c=_(k,e.__scopeScrollArea),s=o.useRef(null),u=o.useRef(0),[d,f]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=De(d.viewport,d.content),l={...r,sizes:d,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:i=>s.current=i,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:i=>u.current=i};function a(i,b){return yt(i,u.current,d,b)}return n==="horizontal"?o.createElement(vt,g({},l,{ref:t,onThumbPositionChange:()=>{if(c.viewport&&s.current){const i=c.viewport.scrollLeft,b=he(i,d,c.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:i=>{c.viewport&&(c.viewport.scrollLeft=i)},onDragScroll:i=>{c.viewport&&(c.viewport.scrollLeft=a(i,c.dir))}})):n==="vertical"?o.createElement(gt,g({},l,{ref:t,onThumbPositionChange:()=>{if(c.viewport&&s.current){const i=c.viewport.scrollTop,b=he(i,d);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:i=>{c.viewport&&(c.viewport.scrollTop=i)},onDragScroll:i=>{c.viewport&&(c.viewport.scrollTop=a(i))}})):null}),vt=o.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...c}=e,s=_(k,e.__scopeScrollArea),[u,d]=o.useState(),f=o.useRef(null),h=z(t,f,s.onScrollbarXChange);return o.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),o.createElement(Me,g({"data-orientation":"horizontal"},c,{ref:h,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ee(n)+"px",...e.style},onThumbPointerDown:l=>e.onThumbPointerDown(l.x),onDragScroll:l=>e.onDragScroll(l.x),onWheelScroll:(l,a)=>{if(s.viewport){const i=s.viewport.scrollLeft+l.deltaX;e.onWheelScroll(i),Le(i,a)&&l.preventDefault()}},onResize:()=>{f.current&&s.viewport&&u&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:V(u.paddingLeft),paddingEnd:V(u.paddingRight)}})}}))}),gt=o.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...c}=e,s=_(k,e.__scopeScrollArea),[u,d]=o.useState(),f=o.useRef(null),h=z(t,f,s.onScrollbarYChange);return o.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),o.createElement(Me,g({"data-orientation":"vertical"},c,{ref:h,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ee(n)+"px",...e.style},onThumbPointerDown:l=>e.onThumbPointerDown(l.y),onDragScroll:l=>e.onDragScroll(l.y),onWheelScroll:(l,a)=>{if(s.viewport){const i=s.viewport.scrollTop+l.deltaY;e.onWheelScroll(i),Le(i,a)&&l.preventDefault()}},onResize:()=>{f.current&&s.viewport&&u&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:V(u.paddingTop),paddingEnd:V(u.paddingBottom)}})}}))}),[St,Ae]=Re(k),Me=o.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:c,onThumbChange:s,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:l,onResize:a,...i}=e,b=_(k,n),[p,S]=o.useState(null),w=z(t,v=>S(v)),x=o.useRef(null),T=o.useRef(""),y=b.viewport,C=r.content-r.viewport,$=I(l),j=I(f),N=te(a,10);function H(v){if(x.current){const E=v.clientX-x.current.left,R=v.clientY-x.current.top;h({x:E,y:R})}}return o.useEffect(()=>{const v=E=>{const R=E.target;(p==null?void 0:p.contains(R))&&$(E,C)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[y,p,C,$]),o.useEffect(j,[r,j]),W(p,N),W(b.content,N),o.createElement(St,{scope:n,scrollbar:p,hasThumb:c,onThumbChange:I(s),onThumbPointerUp:I(u),onThumbPositionChange:j,onThumbPointerDown:I(d)},o.createElement(Y.div,g({},i,{ref:w,style:{position:"absolute",...i.style},onPointerDown:U(e.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),x.current=p.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",H(v))}),onPointerMove:U(e.onPointerMove,H),onPointerUp:U(e.onPointerUp,v=>{const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=T.current,x.current=null})})))}),le="ScrollAreaThumb",wt=o.forwardRef((e,t)=>{const{forceMount:n,...r}=e,c=Ae(le,e.__scopeScrollArea);return o.createElement(F,{present:n||c.hasThumb},o.createElement($t,g({ref:t},r)))}),$t=o.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...c}=e,s=_(le,n),u=Ae(le,n),{onThumbPositionChange:d}=u,f=z(t,a=>u.onThumbChange(a)),h=o.useRef(),l=te(()=>{h.current&&(h.current(),h.current=void 0)},100);return o.useEffect(()=>{const a=s.viewport;if(a){const i=()=>{if(l(),!h.current){const b=Pt(a,d);h.current=b,d()}};return d(),a.addEventListener("scroll",i),()=>a.removeEventListener("scroll",i)}},[s.viewport,l,d]),o.createElement(Y.div,g({"data-state":u.hasThumb?"visible":"hidden"},c,{ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:U(e.onPointerDownCapture,a=>{const b=a.target.getBoundingClientRect(),p=a.clientX-b.left,S=a.clientY-b.top;u.onThumbPointerDown({x:p,y:S})}),onPointerUp:U(e.onPointerUp,u.onThumbPointerUp)}))}),Ne="ScrollAreaCorner",xt=o.forwardRef((e,t)=>{const n=_(Ne,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.createElement(Et,g({},e,{ref:t})):null}),Et=o.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,c=_(Ne,n),[s,u]=o.useState(0),[d,f]=o.useState(0),h=!!(s&&d);return W(c.scrollbarX,()=>{var l;const a=((l=c.scrollbarX)===null||l===void 0?void 0:l.offsetHeight)||0;c.onCornerHeightChange(a),f(a)}),W(c.scrollbarY,()=>{var l;const a=((l=c.scrollbarY)===null||l===void 0?void 0:l.offsetWidth)||0;c.onCornerWidthChange(a),u(a)}),h?o.createElement(Y.div,g({},r,{ref:t,style:{width:s,height:d,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function V(e){return e?parseInt(e,10):0}function De(e,t){const n=e/t;return isNaN(n)?0:n}function ee(e){const t=De(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function yt(e,t,n,r="ltr"){const c=ee(n),s=c/2,u=t||s,d=c-u,f=n.scrollbar.paddingStart+u,h=n.scrollbar.size-n.scrollbar.paddingEnd-d,l=n.content-n.viewport,a=r==="ltr"?[0,l]:[l*-1,0];return ke([f,h],a)(e)}function he(e,t,n="ltr"){const r=ee(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-c,u=t.content-t.viewport,d=s-r,f=n==="ltr"?[0,u]:[u*-1,0],h=at(e,f);return ke([0,u],[0,d])(h)}function ke(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Le(e,t){return e>0&&e<t}const Pt=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function c(){const s={left:e.scrollLeft,top:e.scrollTop},u=n.left!==s.left,d=n.top!==s.top;(u||d)&&t(),n=s,r=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(r)};function te(e,t){const n=I(e),r=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),o.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function W(e,t){const n=I(t);se(()=>{let r=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return c.observe(e),()=>{window.cancelAnimationFrame(r),c.unobserve(e)}}},[e,n])}const Ct=dt,_t=ht,me=mt,be=wt,Tt=xt;var jt=Fe((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:c})=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?L(t):void 0,paddingBottom:n?L(t):void 0},scrollbar:{display:c?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:`calc(${L(t)}  / 5)`,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${fe("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:L(t)},'&[data-orientation="horizontal"]':{flexDirection:"column",height:L(t)},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:fe("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:L(t),position:"relative",transition:"background-color 150ms ease",display:c?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:L(44),minHeight:L(44)}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:c?"none":void 0}}));const Rt=jt;var Ot=Object.defineProperty,At=Object.defineProperties,Mt=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,pe=(e,t,n)=>t in e?Ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ae=(e,t)=>{for(var n in t||(t={}))Ie.call(t,n)&&pe(e,n,t[n]);if(q)for(var n of q(t))Ue.call(t,n)&&pe(e,n,t[n]);return e},ze=(e,t)=>At(e,Mt(t)),He=(e,t)=>{var n={};for(var r in e)Ie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&q)for(var r of q(e))t.indexOf(r)<0&&Ue.call(e,r)&&(n[r]=e[r]);return n};const Be={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},ne=o.forwardRef((e,t)=>{const n=we("ScrollArea",Be,e),{children:r,className:c,classNames:s,styles:u,scrollbarSize:d,scrollHideDelay:f,type:h,dir:l,offsetScrollbars:a,viewportRef:i,onScrollPositionChange:b,unstyled:p,variant:S,viewportProps:w}=n,x=He(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps"]),[T,y]=o.useState(!1),C=$e(),{classes:$,cx:j}=Rt({scrollbarSize:d,offsetScrollbars:a,scrollbarHovered:T,hidden:h==="never"},{name:"ScrollArea",classNames:s,styles:u,unstyled:p,variant:S});return O.createElement(Ct,{type:h==="never"?"always":h,scrollHideDelay:f,dir:l||C.dir,ref:t,asChild:!0},O.createElement(oe,ae({className:j($.root,c)},x),O.createElement(_t,ze(ae({},w),{className:$.viewport,ref:i,onScroll:typeof b=="function"?({currentTarget:N})=>b({x:N.scrollLeft,y:N.scrollTop}):void 0}),r),O.createElement(me,{orientation:"horizontal",className:$.scrollbar,forceMount:!0,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},O.createElement(be,{className:$.thumb})),O.createElement(me,{orientation:"vertical",className:$.scrollbar,forceMount:!0,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},O.createElement(be,{className:$.thumb})),O.createElement(Tt,{className:$.corner})))}),We=o.forwardRef((e,t)=>{const n=we("ScrollAreaAutosize",Be,e),{children:r,classNames:c,styles:s,scrollbarSize:u,scrollHideDelay:d,type:f,dir:h,offsetScrollbars:l,viewportRef:a,onScrollPositionChange:i,unstyled:b,sx:p,variant:S,viewportProps:w}=n,x=He(n,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx","variant","viewportProps"]);return O.createElement(oe,ze(ae({},x),{ref:t,sx:[{display:"flex"},...Ge(p)]}),O.createElement(oe,{sx:{display:"flex",flexDirection:"column",flex:1}},O.createElement(ne,{classNames:c,styles:s,scrollHideDelay:d,scrollbarSize:u,type:f,dir:h,offsetScrollbars:l,viewportRef:a,onScrollPositionChange:i,unstyled:b,variant:S,viewportProps:w},r)))});We.displayName="@mantine/core/ScrollAreaAutosize";ne.displayName="@mantine/core/ScrollArea";ne.Autosize=We;const Nt=ne;var Dt=Ve("hand-move","IconHandMove",[["path",{d:"M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5",key:"svg-0"}],["path",{d:"M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5",key:"svg-1"}],["path",{d:"M14 10.5a1.5 1.5 0 0 1 3 0v1.5",key:"svg-2"}],["path",{d:"M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}],["path",{d:"M2.541 5.594a13.487 13.487 0 0 1 2.46 -1.427",key:"svg-4"}],["path",{d:"M14 3.458c1.32 .354 2.558 .902 3.685 1.612",key:"svg-5"}]]);const kt="Left",Lt="Right",It="Up",Ut="Down",B={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},ie={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},ve="mousemove",ge="mouseup",zt="touchend",Ht="touchmove",Bt="touchstart";function Wt(e,t,n,r){return e>t?n>0?Lt:kt:r>0?Ut:It}function Se(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),c=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,c]}function Xt(e,t){const n=l=>{const a="touches"in l;a&&l.touches.length>1||e((i,b)=>{b.trackMouse&&!a&&(document.addEventListener(ve,r),document.addEventListener(ge,u));const{clientX:p,clientY:S}=a?l.touches[0]:l,w=Se([p,S],b.rotationAngle);return b.onTouchStartOrOnMouseDown&&b.onTouchStartOrOnMouseDown({event:l}),Object.assign(Object.assign(Object.assign({},i),ie),{initial:w.slice(),xy:w,start:l.timeStamp||0})})},r=l=>{e((a,i)=>{const b="touches"in l;if(b&&l.touches.length>1)return a;if(l.timeStamp-a.start>i.swipeDuration)return a.swiping?Object.assign(Object.assign({},a),{swiping:!1}):a;const{clientX:p,clientY:S}=b?l.touches[0]:l,[w,x]=Se([p,S],i.rotationAngle),T=w-a.xy[0],y=x-a.xy[1],C=Math.abs(T),$=Math.abs(y),j=(l.timeStamp||0)-a.start,N=Math.sqrt(C*C+$*$)/(j||1),H=[T/(j||1),y/(j||1)],v=Wt(C,$,T,y),E=typeof i.delta=="number"?i.delta:i.delta[v.toLowerCase()]||B.delta;if(C<E&&$<E&&!a.swiping)return a;const R={absX:C,absY:$,deltaX:T,deltaY:y,dir:v,event:l,first:a.first,initial:a.initial,velocity:N,vxvy:H};R.first&&i.onSwipeStart&&i.onSwipeStart(R),i.onSwiping&&i.onSwiping(R);let re=!1;return(i.onSwiping||i.onSwiped||i[`onSwiped${v}`])&&(re=!0),re&&i.preventScrollOnSwipe&&i.trackTouch&&l.cancelable&&l.preventDefault(),Object.assign(Object.assign({},a),{first:!1,eventData:R,swiping:!0})})},c=l=>{e((a,i)=>{let b;if(a.swiping&&a.eventData){if(l.timeStamp-a.start<i.swipeDuration){b=Object.assign(Object.assign({},a.eventData),{event:l}),i.onSwiped&&i.onSwiped(b);const p=i[`onSwiped${b.dir}`];p&&p(b)}}else i.onTap&&i.onTap({event:l});return i.onTouchEndOrOnMouseUp&&i.onTouchEndOrOnMouseUp({event:l}),Object.assign(Object.assign(Object.assign({},a),ie),{eventData:b})})},s=()=>{document.removeEventListener(ve,r),document.removeEventListener(ge,u)},u=l=>{s(),c(l)},d=(l,a)=>{let i=()=>{};if(l&&l.addEventListener){const b=Object.assign(Object.assign({},B.touchEventOptions),a.touchEventOptions),p=[[Bt,n,b],[Ht,r,Object.assign(Object.assign({},b),a.preventScrollOnSwipe?{passive:!1}:{})],[zt,c,b]];p.forEach(([S,w,x])=>l.addEventListener(S,w,x)),i=()=>p.forEach(([S,w])=>l.removeEventListener(S,w))}return i},h={ref:l=>{l!==null&&e((a,i)=>{if(a.el===l)return a;const b={};return a.el&&a.el!==l&&a.cleanUpTouch&&(a.cleanUpTouch(),b.cleanUpTouch=void 0),i.trackTouch&&l&&(b.cleanUpTouch=d(l,i)),Object.assign(Object.assign(Object.assign({},a),{el:l}),b)})}};return t.trackMouse&&(h.onMouseDown=n),[h,d]}function Yt(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function Ft(e){const{trackMouse:t}=e,n=o.useRef(Object.assign({},ie)),r=o.useRef(Object.assign({},B)),c=o.useRef(Object.assign({},r.current));c.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},B),e);let s;for(s in B)r.current[s]===void 0&&(r.current[s]=B[s]);const[u,d]=o.useMemo(()=>Xt(f=>n.current=f(n.current,r.current),{trackMouse:t}),[t]);return n.current=Yt(n.current,r.current,c.current,d),u}function Gt(e){var t=e.seed+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Xe(e,t,n){return Math.floor(Gt(e)*(n-t)+t)}function Vt(e,t){let n=0;t.forEach(s=>{n+=s.percent});let r=Xe(e,0,n)+1,c=0;for(let s=0;s<t.length;++s){const u=t[s];if(u&&(c+=u.percent,r<=c))return u.result}}const A={number:Xe,percent:Vt},qt={act:Zt,actable:Kt};function Kt(e,t){return!0}function Zt(e,t){const n=A.percent(e,[{result:"item",percent:5},{result:"gold",percent:25},{result:"diamond",percent:1},{result:"monster_fight",percent:50},{result:"monster_unlock",percent:1},{result:"mystery_box",percent:10},{result:"scratch_card",percent:10},{result:"experience",percent:10},{result:"food",percent:30},{result:"boss_fight",percent:5}]);switch(n){case"item":Jt(n,e);break;case"gold":Qt(n,e);break;case"diamond":en(n,e);break;case"monster_fight":tn(n,e);break;case"monster_unlock":nn(n,e);break;case"mystery_box":rn(n,e);break;case"scratch_card":on(n,e);break;case"experience":cn(n,e);break;case"food":sn(n,e);break;case"boss_fight":ln(n,e);break}}function Jt(e,t,n){const r=A.percent(t,Object.keys(xe).map(c=>({percent:1,result:c})));r&&(t.currentGameEvent={id:e,itemId:r},t.inventory.items[r]||(t.inventory.items[r]={id:r,count:0}),t.inventory.items[r].count++)}function Qt(e,t,n){t.currentGameEvent={id:e,count:A.number(t,1,100+1)},t.player.gold+=t.currentGameEvent.count}function en(e,t,n){t.currentGameEvent={id:e,count:A.number(t,1,100+1)},t.player.diamond+=t.currentGameEvent.count}function tn(e,t,n){const r=A.percent(t,Object.keys(X).map(c=>({percent:1,result:c})));r&&(t.currentGameEvent={id:e,monsterId:r,level:A.number(t,1,100+1)})}function nn(e,t,n){const r=A.percent(t,Object.keys(X).map(c=>({percent:1,result:c})));r&&(t.currentGameEvent={id:e,monsterId:r},t.inventory.monsters.push({id:r,level:1,xp:0}))}function rn(e,t,n){t.currentGameEvent={id:e}}function on(e,t,n){t.currentGameEvent={id:e}}function cn(e,t,n){t.currentGameEvent={id:e,count:A.number(t,1,100+1)},t.player.xp+=t.currentGameEvent.count,qe.checkPlayerXp(t)}function sn(e,t,n){t.currentGameEvent={id:e,count:A.number(t,1,100+1)},t.player.food+=t.currentGameEvent.count}function ln(e,t,n){const r=A.percent(t,Object.keys(X).map(c=>({percent:1,result:c})));r&&(t.currentGameEvent={id:e,monsterId:r,level:A.number(t,1,100+1)})}function an({event:e}){switch(e==null?void 0:e.id){case"item":return m.jsx(un,{event:e});case"gold":return m.jsx(dn,{event:e});case"diamond":return m.jsx(fn,{event:e});case"monster_fight":return m.jsx(hn,{event:e});case"monster_unlock":return m.jsx(mn,{event:e});case"mystery_box":return m.jsx(bn,{event:e});case"scratch_card":return m.jsx(pn,{event:e});case"experience":return m.jsx(vn,{event:e});case"food":return m.jsx(gn,{event:e});case"boss_fight":return m.jsx(Sn,{event:e});default:return m.jsx(wn,{})}}function un({event:e}){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(K,{src:Z.url(xe[e.itemId].path),width:64,height:64,style:{imageRendering:"pixelated"}}),m.jsx(D,{order:3,children:e.itemId})]})})}function dn({event:e}){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(J,{emoji:"🪙",style:{width:48,height:48}}),m.jsx(D,{order:3,children:Q.formatNumber(e.count)})]})})}function fn({event:e}){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(J,{emoji:"💎",style:{width:48,height:48}}),m.jsx(D,{order:3,children:Q.formatNumber(e.count)})]})})}function hn({event:e}){const t=o.useMemo(()=>ye.util.getMonsterStats(e.monsterId,e.level,!1),[e]);return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(K,{src:Z.url(X[e.monsterId].path),width:64,height:64,style:{imageRendering:"pixelated"}}),m.jsx(D,{order:3,children:e.monsterId}),m.jsx(Pe,{...t}),m.jsx(Ee,{fullWidth:!0,leftIcon:m.jsx(Ce,{}),children:"Fight"})]})})}function mn({event:e}){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(K,{src:Z.url(X[e.monsterId].path),width:64,height:64,style:{imageRendering:"pixelated"}}),m.jsx(D,{order:3,children:e.monsterId})]})})}function bn({}){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:"mystery_box"})}function pn({}){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:"scratch_card"})}function vn({event:e}){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(J,{emoji:"⭐",style:{width:48,height:48}}),m.jsx(D,{order:3,children:Q.formatNumber(e.count)})]})})}function gn({event:e}){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(J,{emoji:"🍏",style:{width:48,height:48}}),m.jsx(D,{order:3,children:Q.formatNumber(e.count)})]})})}function Sn({event:e}){const t=o.useMemo(()=>ye.util.getMonsterStats(e.monsterId,e.level,!0),[e]);return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(K,{src:Z.url(X[e.monsterId].path),width:64,height:64,style:{imageRendering:"pixelated"}}),m.jsx(D,{order:3,color:"red",children:e.monsterId}),m.jsx(Pe,{...t}),m.jsx(Ee,{fullWidth:!0,leftIcon:m.jsx(Ce,{}),children:"Fight"})]})})}function wn(){return m.jsx(M,{withBorder:!0,w:"100%",maw:360,children:m.jsxs(P,{direction:"column",align:"center",gap:"md",children:[m.jsx(D,{order:3,children:"Start swiping up!"}),m.jsxs(P,{children:[m.jsx(Ke,{size:32}),m.jsx(Dt,{size:32})]})]})})}function Cn(){const e=$e(),t=Ft({onSwipedUp:c=>{de.setState(s=>{qt.act(s.data,{})})},trackMouse:!0,swipeDuration:100}),n=de(c=>c.data),r=o.useRef(null);return o.useLayoutEffect(()=>{r.current&&(r.current.firstChild.style.height="100%")},[r]),m.jsx(m.Fragment,{children:m.jsx(P,{pos:"absolute",top:64,bottom:64,maw:e.breakpoints.sm,w:"100%",...t,children:m.jsx(P,{w:"100%",h:"100%",mx:"md",children:m.jsx(Nt,{w:"100%",h:"100%",viewportRef:r,children:m.jsx(P,{w:"100%",h:"100%",py:"md",align:"center",justify:"center",children:m.jsx(an,{event:n.currentGameEvent})})})})})})}export{Cn as default};
