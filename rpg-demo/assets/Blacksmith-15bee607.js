import{e as y,D as f,n as p,r as I,h as g,j as e,F as o,C as x,P as m,f as d,i as n,k as w}from"./index-f6720a30.js";import{I as C}from"./ItemList-9d7731e9.js";import{I as b}from"./IconHammer-76ab9d4b.js";var k=y("arrow-big-right-filled","IconArrowBigRightFilled",[["path",{d:"M12.089 3.634a2 2 0 0 0 -1.089 1.78l-.001 2.586h-6.999a2 2 0 0 0 -2 2v4l.005 .15a2 2 0 0 0 1.995 1.85l6.999 -.001l.001 2.587a2 2 0 0 0 3.414 1.414l6.586 -6.586a2 2 0 0 0 0 -2.828l-6.586 -6.586a2 2 0 0 0 -2.18 -.434l-.145 .068z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]);const h={act:B,actable:j};function j(r,i){if(!i.itemId)return!1;const t=r.inventory.items[i.itemId];return!(!t||t.count<3||!f.getItemUpgrade(i.itemId))}function B(r,i){if(!j(r,i)||!i.itemId)return;const t=r.inventory.items[i.itemId];if(!t)return;const s=f.getItemUpgrade(i.itemId);s&&(r.inventory.items[s]||(r.inventory.items[s]={id:s,count:0}),r.inventory.items[s].count++,t.count-=3,t.count===0&&delete r.inventory.items[i.itemId])}function R(){var l,u;const r=p(a=>a.data),i=I.useMemo(()=>g.util.sortItems(Object.values(r.inventory.items)),[r.inventory.items]),[t,s]=I.useState(void 0),c=g.util.getItemUpgrade(t),v=()=>{p.setState(a=>{t&&h.act(a.data,{itemId:t})})};return e.jsx(o,{direction:"column",align:"center",gap:"md",mx:"md",my:80,children:e.jsx(x,{withBorder:!0,w:"100%",maw:360,children:e.jsxs(o,{direction:"column",gap:"md",children:[e.jsx(x,{withBorder:!0,children:e.jsxs(o,{direction:"column",gap:"md",children:[e.jsxs(o,{align:"center",justify:"space-evenly",children:[t?e.jsx(m,{src:d.url(n[t].path),count:(l=r.inventory.items[t])==null?void 0:l.count,stars:n[t].stars,onClick:()=>s(void 0)}):e.jsx(m,{src:d.url(n["Common Axe"].path),blur:!0}),e.jsx(k,{}),c?e.jsx(m,{src:d.url(n[c].path),count:(u=r.inventory.items[c])==null?void 0:u.count,stars:n[c].stars}):e.jsx(m,{src:d.url(n["Common Axe"].path),blur:!0})]}),e.jsx(w,{leftIcon:e.jsx(b,{}),onClick:v,disabled:!h.actable(r,{itemId:t}),children:"Upgrade"})]})}),e.jsx(o,{direction:"row",gap:"md",wrap:"wrap",children:e.jsx(C,{items:i,itemsOnClick:a=>s(a.id)})})]})})})}export{R as default};
