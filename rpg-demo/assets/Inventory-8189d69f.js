import{r as l,R as w,b as d,c as Ie,u as Ce,d as Ee,B as U,e as Me,j as r,F as u,T as S,C as G}from"./index-5bf44bfd.js";import{g as b,E as g,I as X,t as ke,u as E,b as Y,m as Z,a as Oe,M as Pe}from"./MonsterStats-e1c0d2ce.js";import{B as v}from"./Button-5583f877.js";function Fe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Ne(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function q(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[o,i]=l.useState(n?t:Ne(e,t)),a=l.useRef();return l.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),i(a.current.matches),Fe(a.current,c=>i(c.matches))},[e]),o}const P=typeof document<"u"?l.useLayoutEffect:l.useEffect;function ze(){return`mantine-${Math.random().toString(36).slice(2,11)}`}const Te=w["useId".toString()]||(()=>{});function Ae(){const e=Te();return e?`mantine-${e.replace(/:/g,"")}`:""}function Be(e){const t=Ae(),[n,o]=l.useState(t);return P(()=>{o(ze())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function Le(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function De(...e){return t=>{e.forEach(n=>Le(n,t))}}function Ve(...e){return l.useCallback(De(...e),e)}function We({value:e,defaultValue:t,finalValue:n,onChange:o=()=>{}}){const[i,a]=l.useState(t!==void 0?t:n),c=p=>{a(p),o==null||o(p)};return e!==void 0?[e,o,!0]:[i,c,!1]}function Ue(e,t){return q("(prefers-reduced-motion: reduce)",e,t)}const Ge={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function He(){const e=l.useRef(0),t=l.useRef(null),[n,o]=l.useState(Ge),i=l.useMemo(()=>typeof window<"u"?new ResizeObserver(a=>{const c=a[0];c&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&o(c.contentRect)}))}):null,[]);return P(()=>(t.current&&(i.observe(t.current),o(t.current.getBoundingClientRect())),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}var Qe=Object.defineProperty,Je=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))Xe.call(t,n)&&Q(e,n,t[n]);if(H)for(var n of H(t))Ye.call(t,n)&&Q(e,n,t[n]);return e},Ze=(e,t)=>Je(e,Ke(t));const I=4,J={xs:`${d(3)} ${d(6)}`,sm:`${d(5)} ${d(10)}`,md:`${d(7)} ${d(14)}`,lg:`${d(9)} ${d(16)}`,xl:`${d(12)} ${d(20)}`};var qe=Ie((e,{fullWidth:t,color:n,radius:o,shouldAnimate:i,transitionDuration:a,transitionTimingFunction:c,orientation:p},{size:f})=>{const h=p==="vertical",R=e.fn.variant({variant:"filled",color:n});return{label:Ze($($({ref:b("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(o),fontWeight:500,fontSize:f in e.fontSizes?e.fontSizes[f]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:J[f in J?f:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:a}ms ${c||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black},"&[data-disabled]":{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"}},"&[data-active]":{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}}}),control:{ref:b("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:a}ms ${c||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:h?`${d(1)} 0 0 0`:`0 0 0 ${d(1)}`,borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${b("label")}`]:$({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${b("label")}`]:$({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}},"&:disabled + label":{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"}}},root:{position:"relative",display:t||h?"flex":"inline-flex",width:h&&!t?"max-content":"auto",flexDirection:h?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(o),overflow:"hidden",padding:I},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${b("control")}`]:{[h?"borderTopColor":"borderLeftColor"]:"transparent !important"},borderRadius:e.fn.radius(o),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?R.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},indicator:{boxSizing:"border-box",borderRadius:e.fn.radius(o),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:a}ms ${e.transitionTimingFunction}, width ${i?0:a/2}ms ${c||e.transitionTimingFunction}`,backgroundColor:n?R.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const et=qe;var tt=Object.defineProperty,M=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rt=(e,t)=>{for(var n in t||(t={}))ee.call(t,n)&&K(e,n,t[n]);if(M)for(var n of M(t))te.call(t,n)&&K(e,n,t[n]);return e},nt=(e,t)=>{var n={};for(var o in e)ee.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&M)for(var o of M(e))t.indexOf(o)<0&&te.call(e,o)&&(n[o]=e[o]);return n};const ot={disabled:!1,size:"sm",transitionDuration:200},F=l.forwardRef((e,t)=>{var n,o,i,a;const c=Ce("SegmentedControl",ot,e),{className:p,disabled:f,data:h,name:R,value:re,onChange:ne,color:oe,fullWidth:se,radius:ae,size:ie,transitionDuration:le,transitionTimingFunction:ce,classNames:de,styles:ue,defaultValue:fe,orientation:pe,unstyled:ge,variant:he,readOnly:me}=c,ve=nt(c,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled","variant","readOnly"]),N=Ee(),xe=Ue(),we=N.respectReducedMotion?xe:!1,y=h.map(s=>typeof s=="string"?{label:s,value:s}:s),z=l.useRef(),[T,A]=l.useState(!1),[m,ye]=We({value:re,defaultValue:fe,finalValue:Array.isArray(y)&&(a=(i=(n=y.find(s=>!s.disabled))==null?void 0:n.value)!=null?i:(o=y[0])==null?void 0:o.value)!=null?a:null,onChange:ne}),{classes:x,cx:B}=et({fullWidth:se,color:oe,radius:ae,shouldAnimate:we||!T,transitionDuration:le,transitionTimingFunction:ce,orientation:pe},{name:"SegmentedControl",classNames:de,styles:ue,unstyled:ge,variant:he,size:ie}),[_,je]=l.useState({width:0,height:0,translate:[0,0]}),k=Be(R),O=l.useRef({}),[L,D]=He();P(()=>{z.current?A(!0):(z.current=!0,A(!1))}),l.useEffect(()=>{if(m in O.current&&L.current){const s=O.current[m],j=s.getBoundingClientRect(),V=s.offsetWidth/j.width,W=j.width*V||0,Re=j.height*V||0,_e=D.width-s.parentElement.offsetLeft+I-W,$e=s.parentElement.offsetLeft-I;je({width:W,height:Re,translate:[N.dir==="rtl"?_e:$e,s.parentElement.offsetTop-I]})}},[m,D]);const be=y.map(s=>w.createElement("div",{className:B(x.control,{[x.controlActive]:m===s.value}),key:s.value},w.createElement("input",{className:x.input,disabled:f||s.disabled,type:"radio",name:k,value:s.value,id:`${k}-${s.value}`,checked:m===s.value,onChange:()=>!me&&ye(s.value)}),w.createElement("label",{className:x.label,"data-active":m===s.value&&!(f||s.disabled)||void 0,"data-disabled":f||s.disabled||void 0,htmlFor:`${k}-${s.value}`,ref:j=>{O.current[s.value]=j}},s.label))),Se=Ve(L,t);return y.length===0?null:w.createElement(U,rt({className:B(x.root,p),ref:Se},ve),typeof m=="string"&&T&&w.createElement(U,{component:"span",className:x.indicator,sx:{width:_.width,height:_.height,transform:`translate(${_.translate[0]}px, ${_.translate[1]}px)`}}),be)});F.displayName="@mantine/core/SegmentedControl";var st=Me("arrow-big-up-filled","IconArrowBigUpFilled",[["path",{d:"M10.586 3l-6.586 6.586a2 2 0 0 0 -.434 2.18l.068 .145a2 2 0 0 0 1.78 1.089h2.586v7a2 2 0 0 0 2 2h4l.15 -.005a2 2 0 0 0 1.85 -1.995l-.001 -7h2.587a2 2 0 0 0 1.414 -3.414l-6.586 -6.586a2 2 0 0 0 -2.828 0z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]);function at(){return r.jsxs(r.Fragment,{children:[r.jsx(u,{direction:"column",align:"center",children:r.jsx(v,{variant:"default",h:"auto",p:"md",children:r.jsx(g,{emoji:"⭐",style:{width:32,height:32}})})}),r.jsxs(u,{direction:"row",justify:"center",gap:"xl",children:[r.jsx(v,{variant:"default",h:"auto",p:"md",mr:"xl",children:r.jsx(g,{emoji:"⭐",style:{width:32,height:32}})}),r.jsx(v,{variant:"default",h:"auto",p:"md",ml:"xl",children:r.jsx(g,{emoji:"⭐",style:{width:32,height:32}})})]}),r.jsxs(u,{direction:"row",justify:"center",gap:"md",children:[r.jsx(v,{variant:"default",h:"auto",p:"md",children:r.jsx(g,{emoji:"⭐",style:{width:32,height:32}})}),r.jsx(v,{variant:"default",h:"auto",p:"md",children:r.jsx(g,{emoji:"⭐",style:{width:32,height:32}})})]})]})}function C({src:e,emoji:t,count:n,onClick:o,selected:i}){return r.jsxs(v,{variant:i?"filled":"default",h:"auto",p:"md",onClick:o,children:[e&&r.jsx(X,{src:e,width:48,height:48,style:{imageRendering:"pixelated"}}),t&&r.jsx(g,{emoji:t,style:{width:48,height:48}}),r.jsx(S,{order:4,pos:"absolute",right:8,bottom:8,color:"white",style:ke,children:n})]})}function gt(){return r.jsxs(u,{direction:"column",gap:"md",mx:"md",my:80,children:[r.jsx(it,{}),r.jsx(lt,{})]})}function it(){const e=q("(min-width: 640px)"),[t,n]=l.useState("info"),o=E(f=>f.data),i=o.inventory.currentMonsterIndex,a=o.inventory.monsters[i],c=a?Y.url(Z[a.id].path):void 0,p=a&&Oe.util.getMonsterStats(a.id,a.level);return r.jsxs(u,{direction:"row",justify:"center",gap:"md",wrap:"wrap",children:[r.jsx(G,{withBorder:!0,w:"100%",style:e?{flex:1}:{},children:r.jsxs(u,{direction:"column",align:"center",justify:"center",gap:"md",h:"100%",children:[r.jsx(S,{order:3,children:a==null?void 0:a.id}),r.jsx(X,{src:c,width:64,height:64,style:{imageRendering:"pixelated"}})]})}),r.jsx(G,{withBorder:!0,w:"100%",style:e?{flex:1}:{},children:r.jsxs(u,{direction:"column",gap:"md",children:[r.jsx(F,{fullWidth:!0,value:t,onChange:n,data:[{label:"Info",value:"info"},{label:"Items",value:"items"}]}),t==="info"&&r.jsxs(r.Fragment,{children:[r.jsxs(u,{align:"center",gap:"md",wrap:"wrap",children:[r.jsxs(u,{gap:"xs",children:[r.jsx(S,{order:5,children:"Cost:"}),r.jsx(g,{emoji:"🪙",style:{width:24,height:24}}),r.jsx(S,{order:5,children:"123"}),r.jsx(g,{emoji:"🍏",style:{width:24,height:24}}),r.jsx(S,{order:5,children:"123"})]}),r.jsx(v,{leftIcon:r.jsx(st,{}),children:"Upgrade"})]}),p&&r.jsx(Pe,{...p})]}),t==="items"&&r.jsx(at,{})]})})]})}function lt(){const[e,t]=l.useState("monsters");return r.jsxs(r.Fragment,{children:[r.jsx(F,{value:e,onChange:t,data:[{label:"Monsters",value:"monsters"},{label:"Items",value:"items"}]}),e==="monsters"&&r.jsx(ct,{}),e==="items"&&r.jsx(dt,{})]})}function ct(){const e=E(n=>n.data),t=n=>{E.setState(o=>{o.data.inventory.currentMonsterIndex=n})};return r.jsx(r.Fragment,{children:r.jsx(u,{direction:"row",gap:"md",wrap:"wrap",children:e.inventory.monsters.map((n,o)=>r.jsx(C,{src:Y.url(Z[n.id].path),count:n.level,onClick:()=>t(o),selected:e.inventory.currentMonsterIndex===o},o))})})}function dt(){const e=E(t=>t.data);return r.jsx(r.Fragment,{children:r.jsxs(u,{direction:"row",gap:"md",wrap:"wrap",children:[r.jsx(C,{emoji:"🪙",count:e.player.gold}),r.jsx(C,{emoji:"💎",count:e.player.diamond}),r.jsx(C,{emoji:"🍏",count:e.player.food})]})})}export{gt as default};
