import{r as o,_ as g,a as Ye,c as Ve,b as L,u as we,d as xe,R as O,B as oe,p as Ge,e as qe,j as f,C as _,F as P,I as K,f as Z,i as Ke,T as N,E as J,g as Q,h as $e,m as de,k as Ee,l as ye,n as V,o as Pe,M as Ce,q as B,s as Ze}from"./index-350f19dc.js";import{M as Re}from"./MonsterStats-74c1f425.js";import{I as Te}from"./IconSword-31c016f1.js";import{g as fe,I as Je}from"./IconArrowBigUpFilled-63731849.js";function Qe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function je(...e){return t=>e.forEach(r=>Qe(r,t))}function U(...e){return o.useCallback(je(...e),e)}const Ae=o.forwardRef((e,t)=>{const{children:r,...n}=e,c=o.Children.toArray(r),a=c.find(tt);if(a){const d=a.props.children,u=c.map(h=>h===a?o.Children.count(d)>1?o.Children.only(null):o.isValidElement(d)?d.props.children:null:h);return o.createElement(ce,g({},n,{ref:t}),o.isValidElement(d)?o.cloneElement(d,void 0,u):null)}return o.createElement(ce,g({},n,{ref:t}),r)});Ae.displayName="Slot";const ce=o.forwardRef((e,t)=>{const{children:r,...n}=e;return o.isValidElement(r)?o.cloneElement(r,{...rt(n,r.props),ref:je(t,r.ref)}):o.Children.count(r)>1?o.Children.only(null):null});ce.displayName="SlotClone";const et=({children:e})=>o.createElement(o.Fragment,null,e);function tt(e){return o.isValidElement(e)&&e.type===et}function rt(e,t){const r={...t};for(const n in t){const c=e[n],a=t[n];/^on[A-Z]/.test(n)?c&&a?r[n]=(...u)=>{a(...u),c(...u)}:c&&(r[n]=c):n==="style"?r[n]={...c,...a}:n==="className"&&(r[n]=[c,a].filter(Boolean).join(" "))}return{...e,...r}}const nt=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],F=nt.reduce((e,t)=>{const r=o.forwardRef((n,c)=>{const{asChild:a,...d}=n,u=a?Ae:t;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(u,g({},d,{ref:c}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),ae=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{};function ot(e,t){return o.useReducer((r,n)=>{const c=t[r][n];return c??r},e)}const X=e=>{const{present:t,children:r}=e,n=ct(t),c=typeof r=="function"?r({present:n.isPresent}):o.Children.only(r),a=U(n.ref,c.ref);return typeof r=="function"||n.isPresent?o.cloneElement(c,{ref:a}):null};X.displayName="Presence";function ct(e){const[t,r]=o.useState(),n=o.useRef({}),c=o.useRef(e),a=o.useRef("none"),d=e?"mounted":"unmounted",[u,h]=ot(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const m=Y(n.current);a.current=u==="mounted"?m:"none"},[u]),ae(()=>{const m=n.current,l=c.current;if(l!==e){const i=a.current,b=Y(m);e?h("MOUNT"):b==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(l&&i!==b?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,h]),ae(()=>{if(t){const m=s=>{const b=Y(n.current).includes(s.animationName);s.target===t&&b&&Ye.flushSync(()=>h("ANIMATION_END"))},l=s=>{s.target===t&&(a.current=Y(n.current))};return t.addEventListener("animationstart",l),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{t.removeEventListener("animationstart",l),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:o.useCallback(m=>{m&&(n.current=getComputedStyle(m)),r(m)},[])}}function Y(e){return(e==null?void 0:e.animationName)||"none"}function at(e,t=[]){let r=[];function n(a,d){const u=o.createContext(d),h=r.length;r=[...r,d];function m(s){const{scope:i,children:b,...p}=s,S=(i==null?void 0:i[e][h])||u,w=o.useMemo(()=>p,Object.values(p));return o.createElement(S.Provider,{value:w},b)}function l(s,i){const b=(i==null?void 0:i[e][h])||u,p=o.useContext(b);if(p)return p;if(d!==void 0)return d;throw new Error(`\`${s}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,l]}const c=()=>{const a=r.map(d=>o.createContext(d));return function(u){const h=(u==null?void 0:u[e])||a;return o.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return c.scopeName=e,[n,lt(c,...t)]}function lt(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(a){const d=n.reduce((u,{useScope:h,scopeName:m})=>{const s=h(a)[`__scope${m}`];return{...u,...s}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return r.scopeName=t.scopeName,r}function I(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}const st=o.createContext(void 0);function it(e){const t=o.useContext(st);return e||t||"ltr"}function dt(e,[t,r]){return Math.min(r,Math.max(t,e))}function k(e,t,{checkForDefaultPrevented:r=!0}={}){return function(c){if(e==null||e(c),r===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function ut(e,t){return o.useReducer((r,n)=>{const c=t[r][n];return c??r},e)}const Oe="ScrollArea",[_e,ur]=at(Oe),[ft,R]=_e(Oe),ht=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:c,scrollHideDelay:a=600,...d}=e,[u,h]=o.useState(null),[m,l]=o.useState(null),[s,i]=o.useState(null),[b,p]=o.useState(null),[S,w]=o.useState(null),[$,T]=o.useState(0),[y,C]=o.useState(0),[x,j]=o.useState(!1),[M,z]=o.useState(!1),v=U(t,A=>h(A)),E=it(c);return o.createElement(ft,{scope:r,type:n,dir:E,scrollHideDelay:a,scrollArea:u,viewport:m,onViewportChange:l,content:s,onContentChange:i,scrollbarX:b,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:j,scrollbarY:S,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:z,onCornerWidthChange:T,onCornerHeightChange:C},o.createElement(F.div,g({dir:E},d,{ref:v,style:{position:"relative","--radix-scroll-area-corner-width":$+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})))}),mt="ScrollAreaViewport",bt=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,...c}=e,a=R(mt,r),d=o.useRef(null),u=U(t,d,a.onViewportChange);return o.createElement(o.Fragment,null,o.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),o.createElement(F.div,g({"data-radix-scroll-area-viewport":""},c,{ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style}}),o.createElement("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"}},n)))}),D="ScrollAreaScrollbar",pt=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,c=R(D,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:d}=c,u=e.orientation==="horizontal";return o.useEffect(()=>(u?a(!0):d(!0),()=>{u?a(!1):d(!1)}),[u,a,d]),c.type==="hover"?o.createElement(vt,g({},n,{ref:t,forceMount:r})):c.type==="scroll"?o.createElement(gt,g({},n,{ref:t,forceMount:r})):c.type==="auto"?o.createElement(Me,g({},n,{ref:t,forceMount:r})):c.type==="always"?o.createElement(ue,g({},n,{ref:t})):null}),vt=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,c=R(D,e.__scopeScrollArea),[a,d]=o.useState(!1);return o.useEffect(()=>{const u=c.scrollArea;let h=0;if(u){const m=()=>{window.clearTimeout(h),d(!0)},l=()=>{h=window.setTimeout(()=>d(!1),c.scrollHideDelay)};return u.addEventListener("pointerenter",m),u.addEventListener("pointerleave",l),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",m),u.removeEventListener("pointerleave",l)}}},[c.scrollArea,c.scrollHideDelay]),o.createElement(X,{present:r||a},o.createElement(Me,g({"data-state":a?"visible":"hidden"},n,{ref:t})))}),gt=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,c=R(D,e.__scopeScrollArea),a=e.orientation==="horizontal",d=te(()=>h("SCROLL_END"),100),[u,h]=ut("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(u==="idle"){const m=window.setTimeout(()=>h("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(m)}},[u,c.scrollHideDelay,h]),o.useEffect(()=>{const m=c.viewport,l=a?"scrollLeft":"scrollTop";if(m){let s=m[l];const i=()=>{const b=m[l];s!==b&&(h("SCROLL"),d()),s=b};return m.addEventListener("scroll",i),()=>m.removeEventListener("scroll",i)}},[c.viewport,a,h,d]),o.createElement(X,{present:r||u!=="hidden"},o.createElement(ue,g({"data-state":u==="hidden"?"hidden":"visible"},n,{ref:t,onPointerEnter:k(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:k(e.onPointerLeave,()=>h("POINTER_LEAVE"))})))}),Me=o.forwardRef((e,t)=>{const r=R(D,e.__scopeScrollArea),{forceMount:n,...c}=e,[a,d]=o.useState(!1),u=e.orientation==="horizontal",h=te(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,l=r.viewport.offsetHeight<r.viewport.scrollHeight;d(u?m:l)}},10);return W(r.viewport,h),W(r.content,h),o.createElement(X,{present:n||a},o.createElement(ue,g({"data-state":a?"visible":"hidden"},c,{ref:t})))}),ue=o.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,c=R(D,e.__scopeScrollArea),a=o.useRef(null),d=o.useRef(0),[u,h]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=Ie(u.viewport,u.content),l={...n,sizes:u,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:i=>a.current=i,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:i=>d.current=i};function s(i,b){return Ct(i,d.current,u,b)}return r==="horizontal"?o.createElement(St,g({},l,{ref:t,onThumbPositionChange:()=>{if(c.viewport&&a.current){const i=c.viewport.scrollLeft,b=he(i,u,c.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:i=>{c.viewport&&(c.viewport.scrollLeft=i)},onDragScroll:i=>{c.viewport&&(c.viewport.scrollLeft=s(i,c.dir))}})):r==="vertical"?o.createElement(wt,g({},l,{ref:t,onThumbPositionChange:()=>{if(c.viewport&&a.current){const i=c.viewport.scrollTop,b=he(i,u);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:i=>{c.viewport&&(c.viewport.scrollTop=i)},onDragScroll:i=>{c.viewport&&(c.viewport.scrollTop=s(i))}})):null}),St=o.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...c}=e,a=R(D,e.__scopeScrollArea),[d,u]=o.useState(),h=o.useRef(null),m=U(t,h,a.onScrollbarXChange);return o.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),o.createElement(De,g({"data-orientation":"horizontal"},c,{ref:m,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ee(r)+"px",...e.style},onThumbPointerDown:l=>e.onThumbPointerDown(l.x),onDragScroll:l=>e.onDragScroll(l.x),onWheelScroll:(l,s)=>{if(a.viewport){const i=a.viewport.scrollLeft+l.deltaX;e.onWheelScroll(i),Ue(i,s)&&l.preventDefault()}},onResize:()=>{h.current&&a.viewport&&d&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:G(d.paddingLeft),paddingEnd:G(d.paddingRight)}})}}))}),wt=o.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...c}=e,a=R(D,e.__scopeScrollArea),[d,u]=o.useState(),h=o.useRef(null),m=U(t,h,a.onScrollbarYChange);return o.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),o.createElement(De,g({"data-orientation":"vertical"},c,{ref:m,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ee(r)+"px",...e.style},onThumbPointerDown:l=>e.onThumbPointerDown(l.y),onDragScroll:l=>e.onDragScroll(l.y),onWheelScroll:(l,s)=>{if(a.viewport){const i=a.viewport.scrollTop+l.deltaY;e.onWheelScroll(i),Ue(i,s)&&l.preventDefault()}},onResize:()=>{h.current&&a.viewport&&d&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:G(d.paddingTop),paddingEnd:G(d.paddingBottom)}})}}))}),[xt,Ne]=_e(D),De=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:c,onThumbChange:a,onThumbPointerUp:d,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:l,onResize:s,...i}=e,b=R(D,r),[p,S]=o.useState(null),w=U(t,v=>S(v)),$=o.useRef(null),T=o.useRef(""),y=b.viewport,C=n.content-n.viewport,x=I(l),j=I(h),M=te(s,10);function z(v){if($.current){const E=v.clientX-$.current.left,A=v.clientY-$.current.top;m({x:E,y:A})}}return o.useEffect(()=>{const v=E=>{const A=E.target;(p==null?void 0:p.contains(A))&&x(E,C)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[y,p,C,x]),o.useEffect(j,[n,j]),W(p,M),W(b.content,M),o.createElement(xt,{scope:r,scrollbar:p,hasThumb:c,onThumbChange:I(a),onThumbPointerUp:I(d),onThumbPositionChange:j,onThumbPointerDown:I(u)},o.createElement(F.div,g({},i,{ref:w,style:{position:"absolute",...i.style},onPointerDown:k(e.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),$.current=p.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",z(v))}),onPointerMove:k(e.onPointerMove,z),onPointerUp:k(e.onPointerUp,v=>{const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=T.current,$.current=null})})))}),le="ScrollAreaThumb",$t=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,c=Ne(le,e.__scopeScrollArea);return o.createElement(X,{present:r||c.hasThumb},o.createElement(Et,g({ref:t},n)))}),Et=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...c}=e,a=R(le,r),d=Ne(le,r),{onThumbPositionChange:u}=d,h=U(t,s=>d.onThumbChange(s)),m=o.useRef(),l=te(()=>{m.current&&(m.current(),m.current=void 0)},100);return o.useEffect(()=>{const s=a.viewport;if(s){const i=()=>{if(l(),!m.current){const b=Rt(s,u);m.current=b,u()}};return u(),s.addEventListener("scroll",i),()=>s.removeEventListener("scroll",i)}},[a.viewport,l,u]),o.createElement(F.div,g({"data-state":d.hasThumb?"visible":"hidden"},c,{ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:k(e.onPointerDownCapture,s=>{const b=s.target.getBoundingClientRect(),p=s.clientX-b.left,S=s.clientY-b.top;d.onThumbPointerDown({x:p,y:S})}),onPointerUp:k(e.onPointerUp,d.onThumbPointerUp)}))}),Le="ScrollAreaCorner",yt=o.forwardRef((e,t)=>{const r=R(Le,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.createElement(Pt,g({},e,{ref:t})):null}),Pt=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,c=R(Le,r),[a,d]=o.useState(0),[u,h]=o.useState(0),m=!!(a&&u);return W(c.scrollbarX,()=>{var l;const s=((l=c.scrollbarX)===null||l===void 0?void 0:l.offsetHeight)||0;c.onCornerHeightChange(s),h(s)}),W(c.scrollbarY,()=>{var l;const s=((l=c.scrollbarY)===null||l===void 0?void 0:l.offsetWidth)||0;c.onCornerWidthChange(s),d(s)}),m?o.createElement(F.div,g({},n,{ref:t,style:{width:a,height:u,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function G(e){return e?parseInt(e,10):0}function Ie(e,t){const r=e/t;return isNaN(r)?0:r}function ee(e){const t=Ie(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Ct(e,t,r,n="ltr"){const c=ee(r),a=c/2,d=t||a,u=c-d,h=r.scrollbar.paddingStart+d,m=r.scrollbar.size-r.scrollbar.paddingEnd-u,l=r.content-r.viewport,s=n==="ltr"?[0,l]:[l*-1,0];return ke([h,m],s)(e)}function he(e,t,r="ltr"){const n=ee(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-c,d=t.content-t.viewport,u=a-n,h=r==="ltr"?[0,d]:[d*-1,0],m=dt(e,h);return ke([0,d],[0,u])(m)}function ke(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Ue(e,t){return e>0&&e<t}const Rt=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function c(){const a={left:e.scrollLeft,top:e.scrollTop},d=r.left!==a.left,u=r.top!==a.top;(d||u)&&t(),r=a,n=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(n)};function te(e,t){const r=I(e),n=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),o.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function W(e,t){const r=I(t);ae(()=>{let n=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return c.observe(e),()=>{window.cancelAnimationFrame(n),c.unobserve(e)}}},[e,r])}const Tt=ht,jt=bt,me=pt,be=$t,At=yt;var Ot=Ve((e,{scrollbarSize:t,offsetScrollbars:r,scrollbarHovered:n,hidden:c})=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:r?L(t):void 0,paddingBottom:r?L(t):void 0},scrollbar:{display:c?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:`calc(${L(t)}  / 5)`,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${fe("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:L(t)},'&[data-orientation="horizontal"]':{flexDirection:"column",height:L(t)},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:fe("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:L(t),position:"relative",transition:"background-color 150ms ease",display:c?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:L(44),minHeight:L(44)}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:n?1:0,display:c?"none":void 0}}));const _t=Ot;var Mt=Object.defineProperty,Nt=Object.defineProperties,Dt=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,pe=(e,t,r)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,se=(e,t)=>{for(var r in t||(t={}))ze.call(t,r)&&pe(e,r,t[r]);if(q)for(var r of q(t))He.call(t,r)&&pe(e,r,t[r]);return e},Be=(e,t)=>Nt(e,Dt(t)),We=(e,t)=>{var r={};for(var n in e)ze.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&q)for(var n of q(e))t.indexOf(n)<0&&He.call(e,n)&&(r[n]=e[n]);return r};const Fe={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},re=o.forwardRef((e,t)=>{const r=we("ScrollArea",Fe,e),{children:n,className:c,classNames:a,styles:d,scrollbarSize:u,scrollHideDelay:h,type:m,dir:l,offsetScrollbars:s,viewportRef:i,onScrollPositionChange:b,unstyled:p,variant:S,viewportProps:w}=r,$=We(r,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps"]),[T,y]=o.useState(!1),C=xe(),{classes:x,cx:j}=_t({scrollbarSize:u,offsetScrollbars:s,scrollbarHovered:T,hidden:m==="never"},{name:"ScrollArea",classNames:a,styles:d,unstyled:p,variant:S});return O.createElement(Tt,{type:m==="never"?"always":m,scrollHideDelay:h,dir:l||C.dir,ref:t,asChild:!0},O.createElement(oe,se({className:j(x.root,c)},$),O.createElement(jt,Be(se({},w),{className:x.viewport,ref:i,onScroll:typeof b=="function"?({currentTarget:M})=>b({x:M.scrollLeft,y:M.scrollTop}):void 0}),n),O.createElement(me,{orientation:"horizontal",className:x.scrollbar,forceMount:!0,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},O.createElement(be,{className:x.thumb})),O.createElement(me,{orientation:"vertical",className:x.scrollbar,forceMount:!0,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},O.createElement(be,{className:x.thumb})),O.createElement(At,{className:x.corner})))}),Xe=o.forwardRef((e,t)=>{const r=we("ScrollAreaAutosize",Fe,e),{children:n,classNames:c,styles:a,scrollbarSize:d,scrollHideDelay:u,type:h,dir:m,offsetScrollbars:l,viewportRef:s,onScrollPositionChange:i,unstyled:b,sx:p,variant:S,viewportProps:w}=r,$=We(r,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx","variant","viewportProps"]);return O.createElement(oe,Be(se({},$),{ref:t,sx:[{display:"flex"},...Ge(p)]}),O.createElement(oe,{sx:{display:"flex",flexDirection:"column",flex:1}},O.createElement(re,{classNames:c,styles:a,scrollHideDelay:u,scrollbarSize:d,type:h,dir:m,offsetScrollbars:l,viewportRef:s,onScrollPositionChange:i,unstyled:b,variant:S,viewportProps:w},n)))});Xe.displayName="@mantine/core/ScrollAreaAutosize";re.displayName="@mantine/core/ScrollArea";re.Autosize=Xe;const Lt=re;var It=qe("hand-move","IconHandMove",[["path",{d:"M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5",key:"svg-0"}],["path",{d:"M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5",key:"svg-1"}],["path",{d:"M14 10.5a1.5 1.5 0 0 1 3 0v1.5",key:"svg-2"}],["path",{d:"M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}],["path",{d:"M2.541 5.594a13.487 13.487 0 0 1 2.46 -1.427",key:"svg-4"}],["path",{d:"M14 3.458c1.32 .354 2.558 .902 3.685 1.612",key:"svg-5"}]]);const kt="Left",Ut="Right",zt="Up",Ht="Down",H={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},ie={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},ve="mousemove",ge="mouseup",Bt="touchend",Wt="touchmove",Ft="touchstart";function Xt(e,t,r,n){return e>t?r>0?Ut:kt:n>0?Ht:zt}function Se(e,t){if(t===0)return e;const r=Math.PI/180*t,n=e[0]*Math.cos(r)+e[1]*Math.sin(r),c=e[1]*Math.cos(r)-e[0]*Math.sin(r);return[n,c]}function Yt(e,t){const r=l=>{const s="touches"in l;s&&l.touches.length>1||e((i,b)=>{b.trackMouse&&!s&&(document.addEventListener(ve,n),document.addEventListener(ge,d));const{clientX:p,clientY:S}=s?l.touches[0]:l,w=Se([p,S],b.rotationAngle);return b.onTouchStartOrOnMouseDown&&b.onTouchStartOrOnMouseDown({event:l}),Object.assign(Object.assign(Object.assign({},i),ie),{initial:w.slice(),xy:w,start:l.timeStamp||0})})},n=l=>{e((s,i)=>{const b="touches"in l;if(b&&l.touches.length>1)return s;if(l.timeStamp-s.start>i.swipeDuration)return s.swiping?Object.assign(Object.assign({},s),{swiping:!1}):s;const{clientX:p,clientY:S}=b?l.touches[0]:l,[w,$]=Se([p,S],i.rotationAngle),T=w-s.xy[0],y=$-s.xy[1],C=Math.abs(T),x=Math.abs(y),j=(l.timeStamp||0)-s.start,M=Math.sqrt(C*C+x*x)/(j||1),z=[T/(j||1),y/(j||1)],v=Xt(C,x,T,y),E=typeof i.delta=="number"?i.delta:i.delta[v.toLowerCase()]||H.delta;if(C<E&&x<E&&!s.swiping)return s;const A={absX:C,absY:x,deltaX:T,deltaY:y,dir:v,event:l,first:s.first,initial:s.initial,velocity:M,vxvy:z};A.first&&i.onSwipeStart&&i.onSwipeStart(A),i.onSwiping&&i.onSwiping(A);let ne=!1;return(i.onSwiping||i.onSwiped||i[`onSwiped${v}`])&&(ne=!0),ne&&i.preventScrollOnSwipe&&i.trackTouch&&l.cancelable&&l.preventDefault(),Object.assign(Object.assign({},s),{first:!1,eventData:A,swiping:!0})})},c=l=>{e((s,i)=>{let b;if(s.swiping&&s.eventData){if(l.timeStamp-s.start<i.swipeDuration){b=Object.assign(Object.assign({},s.eventData),{event:l}),i.onSwiped&&i.onSwiped(b);const p=i[`onSwiped${b.dir}`];p&&p(b)}}else i.onTap&&i.onTap({event:l});return i.onTouchEndOrOnMouseUp&&i.onTouchEndOrOnMouseUp({event:l}),Object.assign(Object.assign(Object.assign({},s),ie),{eventData:b})})},a=()=>{document.removeEventListener(ve,n),document.removeEventListener(ge,d)},d=l=>{a(),c(l)},u=(l,s)=>{let i=()=>{};if(l&&l.addEventListener){const b=Object.assign(Object.assign({},H.touchEventOptions),s.touchEventOptions),p=[[Ft,r,b],[Wt,n,Object.assign(Object.assign({},b),s.preventScrollOnSwipe?{passive:!1}:{})],[Bt,c,b]];p.forEach(([S,w,$])=>l.addEventListener(S,w,$)),i=()=>p.forEach(([S,w])=>l.removeEventListener(S,w))}return i},m={ref:l=>{l!==null&&e((s,i)=>{if(s.el===l)return s;const b={};return s.el&&s.el!==l&&s.cleanUpTouch&&(s.cleanUpTouch(),b.cleanUpTouch=void 0),i.trackTouch&&l&&(b.cleanUpTouch=u(l,i)),Object.assign(Object.assign(Object.assign({},s),{el:l}),b)})}};return t.trackMouse&&(m.onMouseDown=r),[m,u]}function Vt(e,t,r,n){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==r.preventScrollOnSwipe||t.touchEventOptions.passive!==r.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})}function Gt(e){const{trackMouse:t}=e,r=o.useRef(Object.assign({},ie)),n=o.useRef(Object.assign({},H)),c=o.useRef(Object.assign({},n.current));c.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},H),e);let a;for(a in H)n.current[a]===void 0&&(n.current[a]=H[a]);const[d,u]=o.useMemo(()=>Yt(h=>r.current=h(r.current,n.current),{trackMouse:t}),[t]);return r.current=Vt(r.current,n.current,c.current,u),d}function qt({event:e}){switch(e==null?void 0:e.id){case"item":return f.jsx(Kt,{event:e});case"gold":return f.jsx(Zt,{event:e});case"diamond":return f.jsx(Jt,{event:e});case"monster_fight":return f.jsx(Qt,{event:e});case"monster_unlock":return f.jsx(er,{event:e});case"mystery_box":return f.jsx(tr,{event:e});case"scratch_card":return f.jsx(rr,{event:e});case"experience":return f.jsx(nr,{event:e});case"food":return f.jsx(or,{event:e});case"boss_fight":return f.jsx(cr,{event:e});default:return f.jsx(ar,{})}}function Kt({event:e}){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(K,{src:Z.url(Ke[e.itemId].path),width:64,height:64,style:{imageRendering:"pixelated"}}),f.jsxs(N,{order:3,align:"center",children:["Found: ",f.jsx("br",{})," ",e.itemId]})]})})}function Zt({event:e}){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(J,{emoji:"🪙",style:{width:48,height:48}}),f.jsxs(N,{order:3,align:"center",children:["Received: ",f.jsx("br",{}),`${Q.formatNumber(e.count)} Gold`]})]})})}function Jt({event:e}){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(J,{emoji:"💎",style:{width:48,height:48}}),f.jsxs(N,{order:3,align:"center",children:["Received: ",f.jsx("br",{}),`${Q.formatNumber(e.count)} Diamond`]})]})})}function Qt({event:e}){const t=o.useMemo(()=>$e.util.getMonsterStats({id:e.monsterId,level:e.level},!1),[e]),r=()=>{ye.setState(n=>{n.modals.monsterFight.opened=!0}),V.setState(n=>{const c={id:e.monsterId,level:e.level,xp:0},a=n.data.inventory.monsters[n.data.inventory.currentMonsterIndex];a&&Pe.act(n.data,{phase:"start",type:Ce.GameEvent,rewards:{food:B.number(n.data,n.data.player.level*5,n.data.player.level*50),gold:B.number(n.data,n.data.player.level*5,n.data.player.level*50),xp:B.number(n.data,n.data.player.level*5,n.data.player.level*50)},ally:a,enemy:c})})};return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(K,{src:Z.url(de[e.monsterId].path),width:64,height:64,style:{imageRendering:"pixelated"}}),f.jsx(N,{order:3,align:"center",children:e.monsterId}),f.jsx(Re,{...t}),f.jsx(Ee,{fullWidth:!0,leftIcon:f.jsx(Te,{}),onClick:r,children:"Fight"})]})})}function er({event:e}){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(K,{src:Z.url(de[e.monsterId].path),width:64,height:64,style:{imageRendering:"pixelated"}}),f.jsxs(N,{order:3,align:"center",children:["Found: ",f.jsx("br",{}),e.monsterId]})]})})}function tr({}){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:"mystery_box"})}function rr({}){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:"scratch_card"})}function nr({event:e}){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(J,{emoji:"⭐",style:{width:48,height:48}}),f.jsxs(N,{order:3,align:"center",children:["Received: ",f.jsx("br",{}),`${Q.formatNumber(e.count)} Experience`]})]})})}function or({event:e}){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(J,{emoji:"🍏",style:{width:48,height:48}}),f.jsxs(N,{order:3,align:"center",children:["Received: ",f.jsx("br",{}),`${Q.formatNumber(e.count)} Food`]})]})})}function cr({event:e}){const t=o.useMemo(()=>$e.util.getMonsterStats({id:e.monsterId,level:e.level},!0),[e]),r=()=>{ye.setState(n=>{n.modals.monsterFight.opened=!0}),V.setState(n=>{const c={id:e.monsterId,level:e.level,xp:0},a=n.data.inventory.monsters[n.data.inventory.currentMonsterIndex];a&&Pe.act(n.data,{phase:"start",type:Ce.GameEvent,rewards:{food:B.number(n.data,n.data.player.level*10,n.data.player.level*100),gold:B.number(n.data,n.data.player.level*10,n.data.player.level*100),xp:B.number(n.data,n.data.player.level*10,n.data.player.level*100)},ally:a,enemy:c,isEnemyBoss:!0})})};return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(K,{src:Z.url(de[e.monsterId].path),width:64,height:64,style:{imageRendering:"pixelated"}}),f.jsx(N,{order:3,color:"red",children:e.monsterId}),f.jsx(Re,{...t}),f.jsx(Ee,{fullWidth:!0,leftIcon:f.jsx(Te,{}),onClick:r,children:"Fight"})]})})}function ar(){return f.jsx(_,{withBorder:!0,w:"100%",maw:360,children:f.jsxs(P,{direction:"column",align:"center",gap:"md",children:[f.jsx(N,{order:3,align:"center",children:"Start swiping up!"}),f.jsxs(P,{children:[f.jsx(Je,{size:32}),f.jsx(It,{size:32})]})]})})}function fr(){const e=xe(),t=Gt({onSwipedUp:c=>{V.setState(a=>{Ze.act(a.data,{})})},trackMouse:!0,swipeDuration:250}),r=V(c=>c.data),n=o.useRef(null);return o.useLayoutEffect(()=>{n.current&&(n.current.firstChild.style.height="100%")},[n]),f.jsx(f.Fragment,{children:f.jsx(P,{pos:"absolute",top:64,bottom:64,maw:e.breakpoints.sm,w:"100%",...t,children:f.jsx(P,{w:"100%",h:"100%",mx:"md",children:f.jsx(Lt,{w:"100%",h:"100%",viewportRef:n,children:f.jsx(P,{w:"100%",h:"100%",py:"md",align:"center",justify:"center",children:f.jsx(qt,{event:r.currentGameEvent})})})})})})}export{fr as default};
