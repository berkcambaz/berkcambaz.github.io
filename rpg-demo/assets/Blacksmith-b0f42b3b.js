import{e as y,G as f,Q as w,n as p,r as g,h as I,j as r,F as o,C as h,S as m,f as d,i as n,k as C}from"./index-4dba57df.js";import{I as b}from"./ItemList-5ef079fe.js";import{I as k}from"./IconHammer-5fb31f1b.js";var B=y("arrow-big-right-filled","IconArrowBigRightFilled",[["path",{d:"M12.089 3.634a2 2 0 0 0 -1.089 1.78l-.001 2.586h-6.999a2 2 0 0 0 -2 2v4l.005 .15a2 2 0 0 0 1.995 1.85l6.999 -.001l.001 2.587a2 2 0 0 0 3.414 1.414l6.586 -6.586a2 2 0 0 0 0 -2.828l-6.586 -6.586a2 2 0 0 0 -2.18 -.434l-.145 .068z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]);const x={act:U,actable:j};function j(t,s){if(!s.itemId)return!1;const e=t.inventory.items[s.itemId];return!(!e||e.count<3||!f.getItemUpgrade(s.itemId))}function U(t,s){if(!j(t,s)||!s.itemId)return;const e=t.inventory.items[s.itemId];if(!e)return;const i=f.getItemUpgrade(s.itemId);i&&(t.inventory.items[i]||(t.inventory.items[i]={id:i,count:0}),t.inventory.items[i].count++,e.count-=3,e.count===0&&delete t.inventory.items[s.itemId],w.upgradeItem.dispatch({data:t}))}function S(){var l,u;const t=p(a=>a.data),s=g.useMemo(()=>I.util.sortItems(Object.values(t.inventory.items)),[t.inventory.items]),[e,i]=g.useState(void 0),c=I.util.getItemUpgrade(e),v=()=>{p.setState(a=>{e&&x.act(a.data,{itemId:e})})};return r.jsx(o,{direction:"column",align:"center",gap:"md",mx:"md",my:80,children:r.jsx(h,{withBorder:!0,w:"100%",maw:360,children:r.jsxs(o,{direction:"column",gap:"md",children:[r.jsx(h,{withBorder:!0,children:r.jsxs(o,{direction:"column",gap:"md",children:[r.jsxs(o,{align:"center",justify:"space-evenly",children:[e?r.jsx(m,{src:d.url(n[e].path),count:(l=t.inventory.items[e])==null?void 0:l.count,stars:n[e].stars,onClick:()=>i(void 0)}):r.jsx(m,{src:d.url(n["Common Axe"].path),blur:!0}),r.jsx(B,{}),c?r.jsx(m,{src:d.url(n[c].path),count:(u=t.inventory.items[c])==null?void 0:u.count,stars:n[c].stars}):r.jsx(m,{src:d.url(n["Common Axe"].path),blur:!0})]}),r.jsx(C,{leftIcon:r.jsx(k,{}),onClick:v,disabled:!x.actable(t,{itemId:e}),children:"Upgrade"})]})}),r.jsx(o,{direction:"row",gap:"md",wrap:"wrap",children:r.jsx(b,{items:s,itemsOnClick:a=>i(a.id)})})]})})})}export{S as default};
